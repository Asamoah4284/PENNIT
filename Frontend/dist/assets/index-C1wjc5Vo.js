function Im(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},dl={},kd={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),Fm=Symbol.for("react.portal"),zm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Hm=Symbol.for("react.context"),$m=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Vm=Symbol.for("react.memo"),Gm=Symbol.for("react.lazy"),sc=Symbol.iterator;function Km(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var Od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Td=Object.assign,Cd={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||Od}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=Dr.prototype;function $s(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||Od}var Ws=$s.prototype=new Ad;Ws.constructor=$s;Td(Ws,Dr.prototype);Ws.isPureReactComponent=!0;var uc=Array.isArray,Pd=Object.prototype.hasOwnProperty,Vs={current:null},Ld={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Pd.call(t,r)&&!Ld.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var u=Array(c),v=0;v<c;v++)u[v]=arguments[v+2];o.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:$o,type:e,key:i,ref:a,props:o,_owner:Vs.current}}function Zm(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gs(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function Ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cc=/\/+/g;function Wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ym(""+e.key):t.toString(36)}function wi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $o:case Fm:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Wl(a,0):r,uc(o)?(n="",e!=null&&(n=e.replace(cc,"$&/")+"/"),wi(o,t,n,"",function(v){return v})):o!=null&&(Gs(o)&&(o=Zm(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(cc,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",uc(e))for(var c=0;c<e.length;c++){i=e[c];var u=r+Wl(i,c);a+=wi(i,t,n,u,o)}else if(u=Km(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=r+Wl(i,c++),a+=wi(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ei(e,t,n){if(e==null)return e;var r=[],o=0;return wi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Qm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Ni={transition:null},Xm={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ni,ReactCurrentOwner:Vs};function Md(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ei,forEach:function(e,t,n){ei(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ei(e,function(){t++}),t},toArray:function(e){return ei(e,function(t){return t})||[]},only:function(e){if(!Gs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Dr;ve.Fragment=zm;ve.Profiler=Um;ve.PureComponent=$s;ve.StrictMode=Bm;ve.Suspense=Wm;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm;ve.act=Md;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Td({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Vs.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)Pd.call(t,u)&&!Ld.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var v=0;v<u;v++)c[v]=arguments[v+2];r.children=c}return{$$typeof:$o,type:e.type,key:o,ref:i,props:r,_owner:a}};ve.createContext=function(e){return e={$$typeof:Hm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qm,_context:e},e.Consumer=e};ve.createElement=Rd;ve.createFactory=function(e){var t=Rd.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:$m,render:e}};ve.isValidElement=Gs;ve.lazy=function(e){return{$$typeof:Gm,_payload:{_status:-1,_result:e},_init:Qm}};ve.memo=function(e,t){return{$$typeof:Vm,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Ni.transition;Ni.transition={};try{e()}finally{Ni.transition=t}};ve.unstable_act=Md;ve.useCallback=function(e,t){return st.current.useCallback(e,t)};ve.useContext=function(e){return st.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return st.current.useDeferredValue(e)};ve.useEffect=function(e,t){return st.current.useEffect(e,t)};ve.useId=function(){return st.current.useId()};ve.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return st.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};ve.useRef=function(e){return st.current.useRef(e)};ve.useState=function(e){return st.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return st.current.useTransition()};ve.version="18.3.1";kd.exports=ve;var z=kd.exports;const Jm=Hs(z),e0=Im({__proto__:null,default:Jm},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=z,n0=Symbol.for("react.element"),r0=Symbol.for("react.fragment"),o0=Object.prototype.hasOwnProperty,i0=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l0={key:!0,ref:!0,__self:!0,__source:!0};function Dd(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)o0.call(t,r)&&!l0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:n0,type:e,key:i,ref:a,props:o,_owner:i0.current}}dl.Fragment=r0;dl.jsx=Dd;dl.jsxs=Dd;Ed.exports=dl;var l=Ed.exports,Id={exports:{}},Nt={},Fd={exports:{}},zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,B){var A=W.length;W.push(B);e:for(;0<A;){var T=A-1>>>1,R=W[T];if(0<o(R,B))W[T]=B,W[A]=R,A=T;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var B=W[0],A=W.pop();if(A!==B){W[0]=A;e:for(var T=0,R=W.length,I=R>>>1;T<I;){var V=2*(T+1)-1,F=W[V],L=V+1,U=W[L];if(0>o(F,A))L<R&&0>o(U,F)?(W[T]=U,W[L]=A,T=L):(W[T]=F,W[V]=A,T=V);else if(L<R&&0>o(U,A))W[T]=U,W[L]=A,T=L;else break e}}return B}function o(W,B){var A=W.sortIndex-B.sortIndex;return A!==0?A:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var u=[],v=[],g=1,d=null,s=3,h=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var B=n(v);B!==null;){if(B.callback===null)r(v);else if(B.startTime<=W)r(v),B.sortIndex=B.expirationTime,t(u,B);else break;B=n(v)}}function m(W){if(y=!1,x(W),!b)if(n(u)!==null)b=!0,q(N);else{var B=n(v);B!==null&&$(m,B.startTime-W)}}function N(W,B){b=!1,y&&(y=!1,p(E),E=-1),h=!0;var A=s;try{for(x(B),d=n(u);d!==null&&(!(d.expirationTime>B)||W&&!j());){var T=d.callback;if(typeof T=="function"){d.callback=null,s=d.priorityLevel;var R=T(d.expirationTime<=B);B=e.unstable_now(),typeof R=="function"?d.callback=R:d===n(u)&&r(u),x(B)}else r(u);d=n(u)}if(d!==null)var I=!0;else{var V=n(v);V!==null&&$(m,V.startTime-B),I=!1}return I}finally{d=null,s=A,h=!1}}var k=!1,S=null,E=-1,P=5,_=-1;function j(){return!(e.unstable_now()-_<P)}function O(){if(S!==null){var W=e.unstable_now();_=W;var B=!0;try{B=S(!0,W)}finally{B?C():(k=!1,S=null)}}else k=!1}var C;if(typeof f=="function")C=function(){f(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=O,C=function(){D.postMessage(null)}}else C=function(){w(O,0)};function q(W){S=W,k||(k=!0,C())}function $(W,B){E=w(function(){W(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,q(N))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return s},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(W){switch(s){case 1:case 2:case 3:var B=3;break;default:B=s}var A=s;s=B;try{return W()}finally{s=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var A=s;s=W;try{return B()}finally{s=A}},e.unstable_scheduleCallback=function(W,B,A){var T=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?T+A:T):A=T,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=A+R,W={id:g++,callback:B,priorityLevel:W,startTime:A,expirationTime:R,sortIndex:-1},A>T?(W.sortIndex=A,t(v,W),n(u)===null&&W===n(v)&&(y?(p(E),E=-1):y=!0,$(m,A-T))):(W.sortIndex=R,t(u,W),b||h||(b=!0,q(N))),W},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(W){var B=s;return function(){var A=s;s=B;try{return W.apply(this,arguments)}finally{s=A}}}})(zd);Fd.exports=zd;var a0=Fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=z,wt=a0;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bd=new Set,So={};function tr(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(So[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=Object.prototype.hasOwnProperty,u0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},dc={};function c0(e){return Ca.call(dc,e)?!0:Ca.call(fc,e)?!1:u0.test(e)?dc[e]=!0:(fc[e]=!0,!1)}function f0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d0(e,t,n,r){if(t===null||typeof t>"u"||f0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ks=/[\-:]([a-z])/g;function Zs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ks,Zs);Qe[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ks,Zs);Qe[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ks,Zs);Qe[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ys(e,t,n,r){var o=Qe.hasOwnProperty(t)?Qe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d0(t,n,o,r)&&(n=null),r||o===null?c0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=s0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),ur=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),Qs=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),qd=Symbol.for("react.context"),Xs=Symbol.for("react.forward_ref"),Pa=Symbol.for("react.suspense"),La=Symbol.for("react.suspense_list"),Js=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),hc=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=hc&&e[hc]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Vl;function fo(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Gl=!1;function Kl(e,t){if(!e||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,c=i.length-1;1<=a&&0<=c&&o[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||o[a]!==i[c]){var u=`
`+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=c);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fo(e):""}function h0(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case ur:return"Portal";case Aa:return"Profiler";case Qs:return"StrictMode";case Pa:return"Suspense";case La:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qd:return(e.displayName||"Context")+".Consumer";case Ud:return(e._context.displayName||"Context")+".Provider";case Xs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Js:return t=e.displayName||null,t!==null?t:Ra(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return Ra(e(t))}catch{}}return null}function p0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ra(t);case 8:return t===Qs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m0(e){var t=$d(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ni(e){e._valueTracker||(e._valueTracker=m0(e))}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$d(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ma(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vd(e,t){t=t.checked,t!=null&&Ys(e,"checked",t,!1)}function Da(e,t){Vd(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||Ii(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ho=Array.isArray;function wr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(ho(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function Gd(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ri,Zd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v0=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(e){v0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vo[t]=vo[e]})});function Yd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Yd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var g0=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(e,t){if(t){if(g0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Ua(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function eu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,Nr=null,_r=null;function yc(e){if(e=Go(e)){if(typeof Ha!="function")throw Error(te(280));var t=e.stateNode;t&&(t=gl(t),Ha(e.stateNode,e.type,t))}}function Xd(e){Nr?_r?_r.push(e):_r=[e]:Nr=e}function Jd(){if(Nr){var e=Nr,t=_r;if(_r=Nr=null,yc(e),t)for(e=0;e<t.length;e++)yc(t[e])}}function eh(e,t){return e(t)}function th(){}var Zl=!1;function nh(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return eh(e,t,n)}finally{Zl=!1,(Nr!==null||_r!==null)&&(th(),Jd())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var r=gl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var $a=!1;if(an)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{$a=!1}function y0(e,t,n,r,o,i,a,c,u){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(g){this.onError(g)}}var go=!1,Fi=null,zi=!1,Wa=null,x0={onError:function(e){go=!0,Fi=e}};function b0(e,t,n,r,o,i,a,c,u){go=!1,Fi=null,y0.apply(x0,arguments)}function w0(e,t,n,r,o,i,a,c,u){if(b0.apply(this,arguments),go){if(go){var v=Fi;go=!1,Fi=null}else throw Error(te(198));zi||(zi=!0,Wa=v)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xc(e){if(nr(e)!==e)throw Error(te(188))}function N0(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return xc(o),e;if(i===r)return xc(o),t;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function oh(e){return e=N0(e),e!==null?ih(e):null}function ih(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ih(e);if(t!==null)return t;e=e.sibling}return null}var lh=wt.unstable_scheduleCallback,bc=wt.unstable_cancelCallback,_0=wt.unstable_shouldYield,j0=wt.unstable_requestPaint,Ie=wt.unstable_now,S0=wt.unstable_getCurrentPriorityLevel,tu=wt.unstable_ImmediatePriority,ah=wt.unstable_UserBlockingPriority,Bi=wt.unstable_NormalPriority,E0=wt.unstable_LowPriority,sh=wt.unstable_IdlePriority,hl=null,Kt=null;function k0(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:C0,O0=Math.log,T0=Math.LN2;function C0(e){return e>>>=0,e===0?32:31-(O0(e)/T0|0)|0}var oi=64,ii=4194304;function po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~o;c!==0?r=po(c):(i&=a,i!==0&&(r=po(i)))}else a=n&~o,a!==0?r=po(a):i!==0&&(r=po(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),o=1<<n,r|=e[n],t&=~o;return r}function A0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ft(i),c=1<<a,u=o[a];u===-1?(!(c&n)||c&r)&&(o[a]=A0(c,t)):u<=t&&(e.expiredLanes|=c),i&=~c}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=oi;return oi<<=1,!(oi&4194240)&&(oi=64),e}function Yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function L0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ft(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var xe=0;function ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,ru,dh,hh,ph,Ga=!1,li=[],Nn=null,_n=null,jn=null,Oo=new Map,To=new Map,gn=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wc(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(t.pointerId)}}function Yr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Go(t),t!==null&&ru(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function M0(e,t,n,r,o){switch(t){case"focusin":return Nn=Yr(Nn,e,t,n,r,o),!0;case"dragenter":return _n=Yr(_n,e,t,n,r,o),!0;case"mouseover":return jn=Yr(jn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Oo.set(i,Yr(Oo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,To.set(i,Yr(To.get(i)||null,e,t,n,r,o)),!0}return!1}function mh(e){var t=Wn(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=rh(n),t!==null){e.blockedOn=t,ph(e.priority,function(){dh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qa=r,n.target.dispatchEvent(r),qa=null}else return t=Go(n),t!==null&&ru(t),e.blockedOn=n,!1;t.shift()}return!0}function Nc(e,t,n){_i(e)&&n.delete(t)}function D0(){Ga=!1,Nn!==null&&_i(Nn)&&(Nn=null),_n!==null&&_i(_n)&&(_n=null),jn!==null&&_i(jn)&&(jn=null),Oo.forEach(Nc),To.forEach(Nc)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,D0)))}function Co(e){function t(o){return Qr(o,e)}if(0<li.length){Qr(li[0],e);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nn!==null&&Qr(Nn,e),_n!==null&&Qr(_n,e),jn!==null&&Qr(jn,e),Oo.forEach(t),To.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)mh(n),n.blockedOn===null&&gn.shift()}var jr=fn.ReactCurrentBatchConfig,qi=!0;function I0(e,t,n,r){var o=xe,i=jr.transition;jr.transition=null;try{xe=1,ou(e,t,n,r)}finally{xe=o,jr.transition=i}}function F0(e,t,n,r){var o=xe,i=jr.transition;jr.transition=null;try{xe=4,ou(e,t,n,r)}finally{xe=o,jr.transition=i}}function ou(e,t,n,r){if(qi){var o=Ka(e,t,n,r);if(o===null)la(e,t,r,Hi,n),wc(e,r);else if(M0(o,e,t,n,r))r.stopPropagation();else if(wc(e,r),t&4&&-1<R0.indexOf(e)){for(;o!==null;){var i=Go(o);if(i!==null&&fh(i),i=Ka(e,t,n,r),i===null&&la(e,t,r,Hi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else la(e,t,r,null,n)}}var Hi=null;function Ka(e,t,n,r){if(Hi=null,e=eu(r),e=Wn(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function vh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S0()){case tu:return 1;case ah:return 4;case Bi:case E0:return 16;case sh:return 536870912;default:return 16}default:return 16}}var xn=null,iu=null,ji=null;function gh(){if(ji)return ji;var e,t=iu,n=t.length,r,o="value"in xn?xn.value:xn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return ji=o.slice(e,1<r?1-r:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function _c(){return!1}function _t(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:_c,this.isPropagationStopped=_c,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=_t(Ir),Vo=Pe({},Ir,{view:0,detail:0}),z0=_t(Vo),Ql,Xl,Xr,pl=Pe({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(Ql=e.screenX-Xr.screenX,Xl=e.screenY-Xr.screenY):Xl=Ql=0,Xr=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),jc=_t(pl),B0=Pe({},pl,{dataTransfer:0}),U0=_t(B0),q0=Pe({},Vo,{relatedTarget:0}),Jl=_t(q0),H0=Pe({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=_t(H0),W0=Pe({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V0=_t(W0),G0=Pe({},Ir,{data:0}),Sc=_t(G0),K0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Y0[e])?!!t[e]:!1}function au(){return Q0}var X0=Pe({},Vo,{key:function(e){if(e.key){var t=K0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J0=_t(X0),ev=Pe({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=_t(ev),tv=Pe({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),nv=_t(tv),rv=Pe({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),ov=_t(rv),iv=Pe({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=_t(iv),av=[9,13,27,32],su=an&&"CompositionEvent"in window,yo=null;an&&"documentMode"in document&&(yo=document.documentMode);var sv=an&&"TextEvent"in window&&!yo,yh=an&&(!su||yo&&8<yo&&11>=yo),kc=" ",Oc=!1;function xh(e,t){switch(e){case"keyup":return av.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function uv(e,t){switch(e){case"compositionend":return bh(t);case"keypress":return t.which!==32?null:(Oc=!0,kc);case"textInput":return e=t.data,e===kc&&Oc?null:e;default:return null}}function cv(e,t){if(fr)return e==="compositionend"||!su&&xh(e,t)?(e=gh(),ji=iu=xn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yh&&t.locale!=="ko"?null:t.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fv[e.type]:t==="textarea"}function wh(e,t,n,r){Xd(r),t=$i(t,"onChange"),0<t.length&&(n=new lu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xo=null,Ao=null;function dv(e){Ph(e,0)}function ml(e){var t=pr(e);if(Wd(t))return e}function hv(e,t){if(e==="change")return t}var Nh=!1;if(an){var ea;if(an){var ta="oninput"in document;if(!ta){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),ta=typeof Cc.oninput=="function"}ea=ta}else ea=!1;Nh=ea&&(!document.documentMode||9<document.documentMode)}function Ac(){xo&&(xo.detachEvent("onpropertychange",_h),Ao=xo=null)}function _h(e){if(e.propertyName==="value"&&ml(Ao)){var t=[];wh(t,Ao,e,eu(e)),nh(dv,t)}}function pv(e,t,n){e==="focusin"?(Ac(),xo=t,Ao=n,xo.attachEvent("onpropertychange",_h)):e==="focusout"&&Ac()}function mv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Ao)}function vv(e,t){if(e==="click")return ml(t)}function gv(e,t){if(e==="input"||e==="change")return ml(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:yv;function Po(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ca.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,t){var n=Pc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pc(n)}}function jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sh(){for(var e=window,t=Ii();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ii(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xv(e){var t=Sh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jh(n.ownerDocument.documentElement,n)){if(r!==null&&uu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Lc(n,i);var a=Lc(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bv=an&&"documentMode"in document&&11>=document.documentMode,dr=null,Za=null,bo=null,Ya=!1;function Rc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||dr==null||dr!==Ii(r)||(r=dr,"selectionStart"in r&&uu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bo&&Po(bo,r)||(bo=r,r=$i(Za,"onSelect"),0<r.length&&(t=new lu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},na={},Eh={};an&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function vl(e){if(na[e])return na[e];if(!hr[e])return e;var t=hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eh)return na[e]=t[n];return e}var kh=vl("animationend"),Oh=vl("animationiteration"),Th=vl("animationstart"),Ch=vl("transitionend"),Ah=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Ah.set(e,t),tr(t,[e])}for(var ra=0;ra<Mc.length;ra++){var oa=Mc[ra],wv=oa.toLowerCase(),Nv=oa[0].toUpperCase()+oa.slice(1);Ln(wv,"on"+Nv)}Ln(kh,"onAnimationEnd");Ln(Oh,"onAnimationIteration");Ln(Th,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Ch,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function Dc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,w0(r,t,void 0,e),e.currentTarget=null}function Ph(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,v=c.currentTarget;if(c=c.listener,u!==i&&o.isPropagationStopped())break e;Dc(o,c,v),i=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,v=c.currentTarget,c=c.listener,u!==i&&o.isPropagationStopped())break e;Dc(o,c,v),i=u}}}if(zi)throw e=Wa,zi=!1,Wa=null,e}function _e(e,t){var n=t[ts];n===void 0&&(n=t[ts]=new Set);var r=e+"__bubble";n.has(r)||(Lh(t,e,2,!1),n.add(r))}function ia(e,t,n){var r=0;t&&(r|=4),Lh(n,e,r,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[ui]){e[ui]=!0,Bd.forEach(function(n){n!=="selectionchange"&&(_v.has(n)||ia(n,!1,e),ia(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,ia("selectionchange",!1,t))}}function Lh(e,t,n,r){switch(vh(t)){case 1:var o=I0;break;case 4:o=F0;break;default:o=ou}n=o.bind(null,t,n,e),o=void 0,!$a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function la(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;c!==null;){if(a=Wn(c),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}c=c.parentNode}}r=r.return}nh(function(){var v=i,g=eu(n),d=[];e:{var s=Ah.get(e);if(s!==void 0){var h=lu,b=e;switch(e){case"keypress":if(Si(n)===0)break e;case"keydown":case"keyup":h=J0;break;case"focusin":b="focus",h=Jl;break;case"focusout":b="blur",h=Jl;break;case"beforeblur":case"afterblur":h=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=nv;break;case kh:case Oh:case Th:h=$0;break;case Ch:h=ov;break;case"scroll":h=z0;break;case"wheel":h=lv;break;case"copy":case"cut":case"paste":h=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ec}var y=(t&4)!==0,w=!y&&e==="scroll",p=y?s!==null?s+"Capture":null:s;y=[];for(var f=v,x;f!==null;){x=f;var m=x.stateNode;if(x.tag===5&&m!==null&&(x=m,p!==null&&(m=ko(f,p),m!=null&&y.push(Ro(f,m,x)))),w)break;f=f.return}0<y.length&&(s=new h(s,b,null,n,g),d.push({event:s,listeners:y}))}}if(!(t&7)){e:{if(s=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",s&&n!==qa&&(b=n.relatedTarget||n.fromElement)&&(Wn(b)||b[sn]))break e;if((h||s)&&(s=g.window===g?g:(s=g.ownerDocument)?s.defaultView||s.parentWindow:window,h?(b=n.relatedTarget||n.toElement,h=v,b=b?Wn(b):null,b!==null&&(w=nr(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=v),h!==b)){if(y=jc,m="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ec,m="onPointerLeave",p="onPointerEnter",f="pointer"),w=h==null?s:pr(h),x=b==null?s:pr(b),s=new y(m,f+"leave",h,n,g),s.target=w,s.relatedTarget=x,m=null,Wn(g)===v&&(y=new y(p,f+"enter",b,n,g),y.target=x,y.relatedTarget=w,m=y),w=m,h&&b)t:{for(y=h,p=b,f=0,x=y;x;x=lr(x))f++;for(x=0,m=p;m;m=lr(m))x++;for(;0<f-x;)y=lr(y),f--;for(;0<x-f;)p=lr(p),x--;for(;f--;){if(y===p||p!==null&&y===p.alternate)break t;y=lr(y),p=lr(p)}y=null}else y=null;h!==null&&Ic(d,s,h,y,!1),b!==null&&w!==null&&Ic(d,w,b,y,!0)}}e:{if(s=v?pr(v):window,h=s.nodeName&&s.nodeName.toLowerCase(),h==="select"||h==="input"&&s.type==="file")var N=hv;else if(Tc(s))if(Nh)N=gv;else{N=mv;var k=pv}else(h=s.nodeName)&&h.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(N=vv);if(N&&(N=N(e,v))){wh(d,N,n,g);break e}k&&k(e,s,v),e==="focusout"&&(k=s._wrapperState)&&k.controlled&&s.type==="number"&&Ia(s,"number",s.value)}switch(k=v?pr(v):window,e){case"focusin":(Tc(k)||k.contentEditable==="true")&&(dr=k,Za=v,bo=null);break;case"focusout":bo=Za=dr=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,Rc(d,n,g);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":Rc(d,n,g)}var S;if(su)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else fr?xh(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(yh&&n.locale!=="ko"&&(fr||E!=="onCompositionStart"?E==="onCompositionEnd"&&fr&&(S=gh()):(xn=g,iu="value"in xn?xn.value:xn.textContent,fr=!0)),k=$i(v,E),0<k.length&&(E=new Sc(E,e,null,n,g),d.push({event:E,listeners:k}),S?E.data=S:(S=bh(n),S!==null&&(E.data=S)))),(S=sv?uv(e,n):cv(e,n))&&(v=$i(v,"onBeforeInput"),0<v.length&&(g=new Sc("onBeforeInput","beforeinput",null,n,g),d.push({event:g,listeners:v}),g.data=S))}Ph(d,t)})}function Ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=ko(e,n),i!=null&&r.unshift(Ro(e,i,o)),i=ko(e,t),i!=null&&r.push(Ro(e,i,o))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,v=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&v!==null&&(c=v,o?(u=ko(n,i),u!=null&&a.unshift(Ro(n,u,c))):o||(u=ko(n,i),u!=null&&a.push(Ro(n,u,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var jv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Sv,"")}function ci(e,t,n){if(t=Fc(t),Fc(e)!==t&&n)throw Error(te(425))}function Wi(){}var Qa=null,Xa=null;function Ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var es=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(Ov)}:es;function Ov(e){setTimeout(function(){throw e})}function aa(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Co(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Co(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Fr,Mo="__reactProps$"+Fr,sn="__reactContainer$"+Fr,ts="__reactEvents$"+Fr,Tv="__reactListeners$"+Fr,Cv="__reactHandles$"+Fr;function Wn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bc(e);e!==null;){if(n=e[Gt])return n;e=Bc(e)}return t}e=n,n=e.parentNode}return null}function Go(e){return e=e[Gt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function gl(e){return e[Mo]||null}var ns=[],mr=-1;function Rn(e){return{current:e}}function Se(e){0>mr||(e.current=ns[mr],ns[mr]=null,mr--)}function Ne(e,t){mr++,ns[mr]=e.current,e.current=t}var Pn={},nt=Rn(Pn),pt=Rn(!1),Yn=Pn;function Or(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mt(e){return e=e.childContextTypes,e!=null}function Vi(){Se(pt),Se(nt)}function Uc(e,t,n){if(nt.current!==Pn)throw Error(te(168));Ne(nt,t),Ne(pt,n)}function Rh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(te(108,p0(e)||"Unknown",o));return Pe({},n,r)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Yn=nt.current,Ne(nt,e),Ne(pt,pt.current),!0}function qc(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=Rh(e,t,Yn),r.__reactInternalMemoizedMergedChildContext=e,Se(pt),Se(nt),Ne(nt,e)):Se(pt),Ne(pt,n)}var nn=null,yl=!1,sa=!1;function Mh(e){nn===null?nn=[e]:nn.push(e)}function Av(e){yl=!0,Mh(e)}function Mn(){if(!sa&&nn!==null){sa=!0;var e=0,t=xe;try{var n=nn;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,yl=!1}catch(o){throw nn!==null&&(nn=nn.slice(e+1)),lh(tu,Mn),o}finally{xe=t,sa=!1}}return null}var vr=[],gr=0,Ki=null,Zi=0,St=[],Et=0,Qn=null,rn=1,on="";function Un(e,t){vr[gr++]=Zi,vr[gr++]=Ki,Ki=e,Zi=t}function Dh(e,t,n){St[Et++]=rn,St[Et++]=on,St[Et++]=Qn,Qn=e;var r=rn;e=on;var o=32-Ft(r)-1;r&=~(1<<o),n+=1;var i=32-Ft(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,rn=1<<32-Ft(t)+o|n<<o|r,on=i+e}else rn=1<<i|n<<o|r,on=e}function cu(e){e.return!==null&&(Un(e,1),Dh(e,1,0))}function fu(e){for(;e===Ki;)Ki=vr[--gr],vr[gr]=null,Zi=vr[--gr],vr[gr]=null;for(;e===Qn;)Qn=St[--Et],St[Et]=null,on=St[--Et],St[Et]=null,rn=St[--Et],St[Et]=null}var bt=null,xt=null,Oe=!1,It=null;function Ih(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,xt=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:rn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bt=e,xt=null,!0):!1;default:return!1}}function rs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function os(e){if(Oe){var t=xt;if(t){var n=t;if(!Hc(e,t)){if(rs(e))throw Error(te(418));t=Sn(n.nextSibling);var r=bt;t&&Hc(e,t)?Ih(r,n):(e.flags=e.flags&-4097|2,Oe=!1,bt=e)}}else{if(rs(e))throw Error(te(418));e.flags=e.flags&-4097|2,Oe=!1,bt=e}}}function $c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function fi(e){if(e!==bt)return!1;if(!Oe)return $c(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ja(e.type,e.memoizedProps)),t&&(t=xt)){if(rs(e))throw Fh(),Error(te(418));for(;t;)Ih(e,t),t=Sn(t.nextSibling)}if($c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=bt?Sn(e.stateNode.nextSibling):null;return!0}function Fh(){for(var e=xt;e;)e=Sn(e.nextSibling)}function Tr(){xt=bt=null,Oe=!1}function du(e){It===null?It=[e]:It.push(e)}var Pv=fn.ReactCurrentBatchConfig;function Jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=o.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wc(e){var t=e._init;return t(e._payload)}function zh(e){function t(p,f){if(e){var x=p.deletions;x===null?(p.deletions=[f],p.flags|=16):x.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function o(p,f){return p=Tn(p,f),p.index=0,p.sibling=null,p}function i(p,f,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<f?(p.flags|=2,f):x):(p.flags|=2,f)):(p.flags|=1048576,f)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,f,x,m){return f===null||f.tag!==6?(f=ma(x,p.mode,m),f.return=p,f):(f=o(f,x),f.return=p,f)}function u(p,f,x,m){var N=x.type;return N===cr?g(p,f,x.props.children,m,x.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===mn&&Wc(N)===f.type)?(m=o(f,x.props),m.ref=Jr(p,f,x),m.return=p,m):(m=Pi(x.type,x.key,x.props,null,p.mode,m),m.ref=Jr(p,f,x),m.return=p,m)}function v(p,f,x,m){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=va(x,p.mode,m),f.return=p,f):(f=o(f,x.children||[]),f.return=p,f)}function g(p,f,x,m,N){return f===null||f.tag!==7?(f=Zn(x,p.mode,m,N),f.return=p,f):(f=o(f,x),f.return=p,f)}function d(p,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ma(""+f,p.mode,x),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ti:return x=Pi(f.type,f.key,f.props,null,p.mode,x),x.ref=Jr(p,null,f),x.return=p,x;case ur:return f=va(f,p.mode,x),f.return=p,f;case mn:var m=f._init;return d(p,m(f._payload),x)}if(ho(f)||Kr(f))return f=Zn(f,p.mode,x,null),f.return=p,f;di(p,f)}return null}function s(p,f,x,m){var N=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:c(p,f,""+x,m);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:return x.key===N?u(p,f,x,m):null;case ur:return x.key===N?v(p,f,x,m):null;case mn:return N=x._init,s(p,f,N(x._payload),m)}if(ho(x)||Kr(x))return N!==null?null:g(p,f,x,m,null);di(p,x)}return null}function h(p,f,x,m,N){if(typeof m=="string"&&m!==""||typeof m=="number")return p=p.get(x)||null,c(f,p,""+m,N);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ti:return p=p.get(m.key===null?x:m.key)||null,u(f,p,m,N);case ur:return p=p.get(m.key===null?x:m.key)||null,v(f,p,m,N);case mn:var k=m._init;return h(p,f,x,k(m._payload),N)}if(ho(m)||Kr(m))return p=p.get(x)||null,g(f,p,m,N,null);di(f,m)}return null}function b(p,f,x,m){for(var N=null,k=null,S=f,E=f=0,P=null;S!==null&&E<x.length;E++){S.index>E?(P=S,S=null):P=S.sibling;var _=s(p,S,x[E],m);if(_===null){S===null&&(S=P);break}e&&S&&_.alternate===null&&t(p,S),f=i(_,f,E),k===null?N=_:k.sibling=_,k=_,S=P}if(E===x.length)return n(p,S),Oe&&Un(p,E),N;if(S===null){for(;E<x.length;E++)S=d(p,x[E],m),S!==null&&(f=i(S,f,E),k===null?N=S:k.sibling=S,k=S);return Oe&&Un(p,E),N}for(S=r(p,S);E<x.length;E++)P=h(S,p,E,x[E],m),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?E:P.key),f=i(P,f,E),k===null?N=P:k.sibling=P,k=P);return e&&S.forEach(function(j){return t(p,j)}),Oe&&Un(p,E),N}function y(p,f,x,m){var N=Kr(x);if(typeof N!="function")throw Error(te(150));if(x=N.call(x),x==null)throw Error(te(151));for(var k=N=null,S=f,E=f=0,P=null,_=x.next();S!==null&&!_.done;E++,_=x.next()){S.index>E?(P=S,S=null):P=S.sibling;var j=s(p,S,_.value,m);if(j===null){S===null&&(S=P);break}e&&S&&j.alternate===null&&t(p,S),f=i(j,f,E),k===null?N=j:k.sibling=j,k=j,S=P}if(_.done)return n(p,S),Oe&&Un(p,E),N;if(S===null){for(;!_.done;E++,_=x.next())_=d(p,_.value,m),_!==null&&(f=i(_,f,E),k===null?N=_:k.sibling=_,k=_);return Oe&&Un(p,E),N}for(S=r(p,S);!_.done;E++,_=x.next())_=h(S,p,E,_.value,m),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?E:_.key),f=i(_,f,E),k===null?N=_:k.sibling=_,k=_);return e&&S.forEach(function(O){return t(p,O)}),Oe&&Un(p,E),N}function w(p,f,x,m){if(typeof x=="object"&&x!==null&&x.type===cr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:e:{for(var N=x.key,k=f;k!==null;){if(k.key===N){if(N=x.type,N===cr){if(k.tag===7){n(p,k.sibling),f=o(k,x.props.children),f.return=p,p=f;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===mn&&Wc(N)===k.type){n(p,k.sibling),f=o(k,x.props),f.ref=Jr(p,k,x),f.return=p,p=f;break e}n(p,k);break}else t(p,k);k=k.sibling}x.type===cr?(f=Zn(x.props.children,p.mode,m,x.key),f.return=p,p=f):(m=Pi(x.type,x.key,x.props,null,p.mode,m),m.ref=Jr(p,f,x),m.return=p,p=m)}return a(p);case ur:e:{for(k=x.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(p,f.sibling),f=o(f,x.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=va(x,p.mode,m),f.return=p,p=f}return a(p);case mn:return k=x._init,w(p,f,k(x._payload),m)}if(ho(x))return b(p,f,x,m);if(Kr(x))return y(p,f,x,m);di(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(p,f.sibling),f=o(f,x),f.return=p,p=f):(n(p,f),f=ma(x,p.mode,m),f.return=p,p=f),a(p)):n(p,f)}return w}var Cr=zh(!0),Bh=zh(!1),Yi=Rn(null),Qi=null,yr=null,hu=null;function pu(){hu=yr=Qi=null}function mu(e){var t=Yi.current;Se(Yi),e._currentValue=t}function is(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){Qi=e,hu=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(hu!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Qi===null)throw Error(te(308));yr=e,Qi.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Vn=null;function vu(e){Vn===null?Vn=[e]:Vn.push(e)}function Uh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,vu(t)):(n.next=o.next,o.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vn=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,un(e,n)}return o=r.interleaved,o===null?(t.next=t,vu(r)):(t.next=o.next,o.next=t),r.interleaved=t,un(e,n)}function Ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nu(e,n)}}function Vc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xi(e,t,n,r){var o=e.updateQueue;vn=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var u=c,v=u.next;u.next=null,a===null?i=v:a.next=v,a=u;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==a&&(c===null?g.firstBaseUpdate=v:c.next=v,g.lastBaseUpdate=u))}if(i!==null){var d=o.baseState;a=0,g=v=u=null,c=i;do{var s=c.lane,h=c.eventTime;if((r&s)===s){g!==null&&(g=g.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,y=c;switch(s=t,h=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){d=b.call(h,d,s);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,s=typeof b=="function"?b.call(h,d,s):b,s==null)break e;d=Pe({},d,s);break e;case 2:vn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,s=o.effects,s===null?o.effects=[c]:s.push(c))}else h={eventTime:h,lane:s,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(v=g=h,u=d):g=g.next=h,a|=s;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;s=c,c=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}while(!0);if(g===null&&(u=d),o.baseState=u,o.firstBaseUpdate=v,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Jn|=a,e.lanes=a,e.memoizedState=d}}function Gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(te(191,o));o.call(r)}}}var Ko={},Zt=Rn(Ko),Do=Rn(Ko),Io=Rn(Ko);function Gn(e){if(e===Ko)throw Error(te(174));return e}function yu(e,t){switch(Ne(Io,t),Ne(Do,e),Ne(Zt,Ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}Se(Zt),Ne(Zt,t)}function Ar(){Se(Zt),Se(Do),Se(Io)}function Hh(e){Gn(Io.current);var t=Gn(Zt.current),n=za(t,e.type);t!==n&&(Ne(Do,e),Ne(Zt,n))}function xu(e){Do.current===e&&(Se(Zt),Se(Do))}var Ce=Rn(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function bu(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ki=fn.ReactCurrentDispatcher,ca=fn.ReactCurrentBatchConfig,Xn=0,Ae=null,He=null,Ve=null,el=!1,wo=!1,Fo=0,Lv=0;function Je(){throw Error(te(321))}function wu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Nu(e,t,n,r,o,i){if(Xn=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?Iv:Fv,e=n(r,o),wo){i=0;do{if(wo=!1,Fo=0,25<=i)throw Error(te(301));i+=1,Ve=He=null,t.updateQueue=null,ki.current=zv,e=n(r,o)}while(wo)}if(ki.current=tl,t=He!==null&&He.next!==null,Xn=0,Ve=He=Ae=null,el=!1,t)throw Error(te(300));return e}function _u(){var e=Fo!==0;return Fo=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ct(){if(He===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ve===null?Ae.memoizedState:Ve.next;if(t!==null)Ve=t,He=e;else{if(e===null)throw Error(te(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function zo(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=Ct(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=He,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var c=a=null,u=null,v=i;do{var g=v.lane;if((Xn&g)===g)u!==null&&(u=u.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var d={lane:g,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};u===null?(c=u=d,a=r):u=u.next=d,Ae.lanes|=g,Jn|=g}v=v.next}while(v!==null&&v!==i);u===null?a=r:u.next=c,Bt(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ae.lanes|=i,Jn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function da(e){var t=Ct(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Bt(i,t.memoizedState)||(ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $h(){}function Wh(e,t){var n=Ae,r=Ct(),o=t(),i=!Bt(r.memoizedState,o);if(i&&(r.memoizedState=o,ht=!0),r=r.queue,ju(Kh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Bo(9,Gh.bind(null,n,r,o,t),void 0,null),Ge===null)throw Error(te(349));Xn&30||Vh(n,t,o)}return o}function Vh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gh(e,t,n,r){t.value=n,t.getSnapshot=r,Zh(t)&&Yh(e)}function Kh(e,t,n){return n(function(){Zh(t)&&Yh(e)})}function Zh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function Yh(e){var t=un(e,1);t!==null&&zt(t,e,1,-1)}function Kc(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=Dv.bind(null,Ae,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qh(){return Ct().memoizedState}function Oi(e,t,n,r){var o=Vt();Ae.flags|=e,o.memoizedState=Bo(1|t,n,void 0,r===void 0?null:r)}function xl(e,t,n,r){var o=Ct();r=r===void 0?null:r;var i=void 0;if(He!==null){var a=He.memoizedState;if(i=a.destroy,r!==null&&wu(r,a.deps)){o.memoizedState=Bo(t,n,i,r);return}}Ae.flags|=e,o.memoizedState=Bo(1|t,n,i,r)}function Zc(e,t){return Oi(8390656,8,e,t)}function ju(e,t){return xl(2048,8,e,t)}function Xh(e,t){return xl(4,2,e,t)}function Jh(e,t){return xl(4,4,e,t)}function ep(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tp(e,t,n){return n=n!=null?n.concat([e]):null,xl(4,4,ep.bind(null,t,e),n)}function Su(){}function np(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rp(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function op(e,t,n){return Xn&21?(Bt(n,t)||(n=uh(),Ae.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Rv(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{xe=n,ca.transition=r}}function ip(){return Ct().memoizedState}function Mv(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(e))ap(t,n);else if(n=Uh(e,t,n,r),n!==null){var o=it();zt(n,e,r,o),sp(n,t,r)}}function Dv(e,t,n){var r=On(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(e))ap(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,n);if(o.hasEagerState=!0,o.eagerState=c,Bt(c,a)){var u=t.interleaved;u===null?(o.next=o,vu(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Uh(e,t,o,r),n!==null&&(o=it(),zt(n,e,r,o),sp(n,t,r))}}function lp(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function ap(e,t){wo=el=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nu(e,n)}}var tl={readContext:Tt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Iv={readContext:Tt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oi(4194308,4,ep.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Mv.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Kc,useDebugValue:Su,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Kc(!1),t=e[0];return e=Rv.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,o=Vt();if(Oe){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Ge===null)throw Error(te(349));Xn&30||Vh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Zc(Kh.bind(null,r,i,e),[e]),r.flags|=2048,Bo(9,Gh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Vt(),t=Ge.identifierPrefix;if(Oe){var n=on,r=rn;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fv={readContext:Tt,useCallback:np,useContext:Tt,useEffect:ju,useImperativeHandle:tp,useInsertionEffect:Xh,useLayoutEffect:Jh,useMemo:rp,useReducer:fa,useRef:Qh,useState:function(){return fa(zo)},useDebugValue:Su,useDeferredValue:function(e){var t=Ct();return op(t,He.memoizedState,e)},useTransition:function(){var e=fa(zo)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Wh,useId:ip,unstable_isNewReconciler:!1},zv={readContext:Tt,useCallback:np,useContext:Tt,useEffect:ju,useImperativeHandle:tp,useInsertionEffect:Xh,useLayoutEffect:Jh,useMemo:rp,useReducer:da,useRef:Qh,useState:function(){return da(zo)},useDebugValue:Su,useDeferredValue:function(e){var t=Ct();return He===null?t.memoizedState=e:op(t,He.memoizedState,e)},useTransition:function(){var e=da(zo)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Wh,useId:ip,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ls(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bl={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),o=On(e),i=ln(r,o);i.payload=t,n!=null&&(i.callback=n),t=En(e,i,o),t!==null&&(zt(t,e,o,r),Ei(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),o=On(e),i=ln(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=En(e,i,o),t!==null&&(zt(t,e,o,r),Ei(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=On(e),o=ln(n,r);o.tag=2,t!=null&&(o.callback=t),t=En(e,o,r),t!==null&&(zt(t,e,r,n),Ei(t,e,r))}};function Yc(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Po(n,r)||!Po(o,i):!0}function up(e,t,n){var r=!1,o=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(o=mt(t)?Yn:nt.current,r=t.contextTypes,i=(r=r!=null)?Or(e,o):Pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bl.enqueueReplaceState(t,t.state,null)}function as(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},gu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Tt(i):(i=mt(t)?Yn:nt.current,o.context=Or(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ls(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&bl.enqueueReplaceState(o,o.state,null),Xi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t){try{var n="",r=t;do n+=h0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bv=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rl||(rl=!0,ys=r),ss(e,t)},n}function fp(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ss(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ss(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Xc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=eg.bind(null,e,t,n),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ef(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var Uv=fn.ReactCurrentOwner,ht=!1;function ot(e,t,n,r){t.child=e===null?Bh(t,null,n,r):Cr(t,e.child,n,r)}function tf(e,t,n,r,o){n=n.render;var i=t.ref;return Sr(t,o),r=Nu(e,t,n,r,i,o),n=_u(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cn(e,t,o)):(Oe&&n&&cu(t),t.flags|=1,ot(e,t,r,o),t.child)}function nf(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Lu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dp(e,t,i,r,o)):(e=Pi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Po,n(a,r)&&e.ref===t.ref)return cn(e,t,o)}return t.flags|=1,e=Tn(i,r),e.ref=t.ref,e.return=t,t.child=e}function dp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Po(i,r)&&e.ref===t.ref)if(ht=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,cn(e,t,o)}return us(e,t,n,r,o)}function hp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(br,gt),gt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(br,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(br,gt),gt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ne(br,gt),gt|=r;return ot(e,t,o,n),t.child}function pp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function us(e,t,n,r,o){var i=mt(n)?Yn:nt.current;return i=Or(t,i),Sr(t,o),n=Nu(e,t,n,r,i,o),r=_u(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cn(e,t,o)):(Oe&&r&&cu(t),t.flags|=1,ot(e,t,n,o),t.child)}function rf(e,t,n,r,o){if(mt(n)){var i=!0;Gi(t)}else i=!1;if(Sr(t,o),t.stateNode===null)Ti(e,t),up(t,n,r),as(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var u=a.context,v=n.contextType;typeof v=="object"&&v!==null?v=Tt(v):(v=mt(n)?Yn:nt.current,v=Or(t,v));var g=n.getDerivedStateFromProps,d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==v)&&Qc(t,a,r,v),vn=!1;var s=t.memoizedState;a.state=s,Xi(t,r,a,o),u=t.memoizedState,c!==r||s!==u||pt.current||vn?(typeof g=="function"&&(ls(t,n,g,r),u=t.memoizedState),(c=vn||Yc(t,n,c,r,s,u,v))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=v,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qh(e,t),c=t.memoizedProps,v=t.type===t.elementType?c:Mt(t.type,c),a.props=v,d=t.pendingProps,s=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Tt(u):(u=mt(n)?Yn:nt.current,u=Or(t,u));var h=n.getDerivedStateFromProps;(g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==d||s!==u)&&Qc(t,a,r,u),vn=!1,s=t.memoizedState,a.state=s,Xi(t,r,a,o);var b=t.memoizedState;c!==d||s!==b||pt.current||vn?(typeof h=="function"&&(ls(t,n,h,r),b=t.memoizedState),(v=vn||Yc(t,n,v,r,s,b,u)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=u,r=v):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&s===e.memoizedState||(t.flags|=1024),r=!1)}return cs(e,t,n,r,i,o)}function cs(e,t,n,r,o,i){pp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&qc(t,n,!1),cn(e,t,i);r=t.stateNode,Uv.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Cr(t,e.child,null,i),t.child=Cr(t,null,c,i)):ot(e,t,c,i),t.memoizedState=r.state,o&&qc(t,n,!0),t.child}function mp(e){var t=e.stateNode;t.pendingContext?Uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uc(e,t.context,!1),yu(e,t.containerInfo)}function of(e,t,n,r,o){return Tr(),du(o),t.flags|=256,ot(e,t,n,r),t.child}var fs={dehydrated:null,treeContext:null,retryLane:0};function ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function vp(e,t,n){var r=t.pendingProps,o=Ce.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ne(Ce,o&1),e===null)return os(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=_l(a,r,0,null),e=Zn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ds(n),t.memoizedState=fs,e):Eu(t,a));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return qv(e,t,a,r,c,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,c=o.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Tn(o,u),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=Tn(c,i):(i=Zn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?ds(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=fs,r}return i=e.child,e=i.sibling,r=Tn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eu(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hi(e,t,n,r){return r!==null&&du(r),Cr(t,e.child,null,n),e=Eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qv(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(te(422))),hi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=_l({mode:"visible",children:r.children},o,0,null),i=Zn(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cr(t,e.child,null,a),t.child.memoizedState=ds(a),t.memoizedState=fs,i);if(!(t.mode&1))return hi(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(te(419)),r=ha(i,r,void 0),hi(e,t,a,r)}if(c=(a&e.childLanes)!==0,ht||c){if(r=Ge,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,un(e,o),zt(r,e,o,-1))}return Pu(),r=ha(Error(te(421))),hi(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=tg.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,xt=Sn(o.nextSibling),bt=t,Oe=!0,It=null,e!==null&&(St[Et++]=rn,St[Et++]=on,St[Et++]=Qn,rn=e.id,on=e.overflow,Qn=t),t=Eu(t,r.children),t.flags|=4096,t)}function lf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),is(e.return,t,n)}function pa(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function gp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ot(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,n,t);else if(e.tag===19)lf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ji(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),pa(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ji(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}pa(t,!0,n,null,i);break;case"together":pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hv(e,t,n){switch(t.tag){case 3:mp(t),Tr();break;case 5:Hh(t);break;case 1:mt(t.type)&&Gi(t);break;case 4:yu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ne(Yi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?vp(e,t,n):(Ne(Ce,Ce.current&1),e=cn(e,t,n),e!==null?e.sibling:null);Ne(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ne(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,hp(e,t,n)}return cn(e,t,n)}var yp,hs,xp,bp;yp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hs=function(){};xp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gn(Zt.current);var i=null;switch(n){case"input":o=Ma(e,o),r=Ma(e,r),i=[];break;case"select":o=Pe({},o,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":o=Fa(e,o),r=Fa(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wi)}Ba(n,r);var a;n=null;for(v in o)if(!r.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var c=o[v];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(So.hasOwnProperty(v)?i||(i=[]):(i=i||[]).push(v,null));for(v in r){var u=r[v];if(c=o!=null?o[v]:void 0,r.hasOwnProperty(v)&&u!==c&&(u!=null||c!=null))if(v==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(v,n)),n=u;else v==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(v,u)):v==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(v,""+u):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(So.hasOwnProperty(v)?(u!=null&&v==="onScroll"&&_e("scroll",e),i||c===u||(i=[])):(i=i||[]).push(v,u))}n&&(i=i||[]).push("style",n);var v=i;(t.updateQueue=v)&&(t.flags|=4)}};bp=function(e,t,n,r){n!==r&&(t.flags|=4)};function eo(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $v(e,t,n){var r=t.pendingProps;switch(fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return mt(t.type)&&Vi(),et(t),null;case 3:return r=t.stateNode,Ar(),Se(pt),Se(nt),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(ws(It),It=null))),hs(e,t),et(t),null;case 5:xu(t);var o=Gn(Io.current);if(n=t.type,e!==null&&t.stateNode!=null)xp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return et(t),null}if(e=Gn(Zt.current),fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[Mo]=i,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(o=0;o<mo.length;o++)_e(mo[o],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":pc(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":vc(r,i),_e("invalid",r)}Ba(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&ci(r.textContent,c,e),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&ci(r.textContent,c,e),o=["children",""+c]):So.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&_e("scroll",r)}switch(n){case"input":ni(r),mc(r,i,!0);break;case"textarea":ni(r),gc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Gt]=t,e[Mo]=r,yp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ua(n,r),n){case"dialog":_e("cancel",e),_e("close",e),o=r;break;case"iframe":case"object":case"embed":_e("load",e),o=r;break;case"video":case"audio":for(o=0;o<mo.length;o++)_e(mo[o],e);o=r;break;case"source":_e("error",e),o=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),o=r;break;case"details":_e("toggle",e),o=r;break;case"input":pc(e,r),o=Ma(e,r),_e("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Pe({},r,{value:void 0}),_e("invalid",e);break;case"textarea":vc(e,r),o=Fa(e,r),_e("invalid",e);break;default:o=r}Ba(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?Qd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zd(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Eo(e,u):typeof u=="number"&&Eo(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(So.hasOwnProperty(i)?u!=null&&i==="onScroll"&&_e("scroll",e):u!=null&&Ys(e,i,u,a))}switch(n){case"input":ni(e),mc(e,r,!1);break;case"textarea":ni(e),gc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?wr(e,!!r.multiple,i,!1):r.defaultValue!=null&&wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)bp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=Gn(Io.current),Gn(Zt.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=bt,e!==null))switch(e.tag){case 3:ci(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ci(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return et(t),null;case 13:if(Se(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&xt!==null&&t.mode&1&&!(t.flags&128))Fh(),Tr(),t.flags|=98560,i=!1;else if(i=fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Gt]=t}else Tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else It!==null&&(ws(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?$e===0&&($e=3):Pu())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Ar(),hs(e,t),e===null&&Lo(t.stateNode.containerInfo),et(t),null;case 10:return mu(t.type._context),et(t),null;case 17:return mt(t.type)&&Vi(),et(t),null;case 19:if(Se(Ce),i=t.memoizedState,i===null)return et(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)eo(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ji(e),a!==null){for(t.flags|=128,eo(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Ce,Ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>Lr&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ji(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Oe)return et(t),null}else 2*Ie()-i.renderingStartTime>Lr&&n!==1073741824&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=Ce.current,Ne(Ce,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Au(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function Wv(e,t){switch(fu(t),t.tag){case 1:return mt(t.type)&&Vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),Se(pt),Se(nt),bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xu(t),null;case 13:if(Se(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ce),null;case 4:return Ar(),null;case 10:return mu(t.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var pi=!1,tt=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function ps(e,t,n){try{n()}catch(r){Re(e,t,r)}}var af=!1;function Gv(e,t){if(Qa=qi,e=Sh(),uu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,v=0,g=0,d=e,s=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(c=a+o),d!==i||r!==0&&d.nodeType!==3||(u=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)s=d,d=h;for(;;){if(d===e)break t;if(s===n&&++v===o&&(c=a),s===i&&++g===r&&(u=a),(h=d.nextSibling)!==null)break;d=s,s=d.parentNode}d=h}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},qi=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Mt(t.type,y),w);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(m){Re(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return b=af,af=!1,b}function No(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ps(t,n,i)}o=o.next}while(o!==r)}}function wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ms(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Mo],delete t[ts],delete t[Tv],delete t[Cv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Np(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wi));else if(r!==4&&(e=e.child,e!==null))for(vs(e,t,n),e=e.sibling;e!==null;)vs(e,t,n),e=e.sibling}function gs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gs(e,t,n),e=e.sibling;e!==null;)gs(e,t,n),e=e.sibling}var Ze=null,Dt=!1;function pn(e,t,n){for(n=n.child;n!==null;)_p(e,t,n),n=n.sibling}function _p(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:tt||xr(n,t);case 6:var r=Ze,o=Dt;Ze=null,pn(e,t,n),Ze=r,Dt=o,Ze!==null&&(Dt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Dt?(e=Ze,n=n.stateNode,e.nodeType===8?aa(e.parentNode,n):e.nodeType===1&&aa(e,n),Co(e)):aa(Ze,n.stateNode));break;case 4:r=Ze,o=Dt,Ze=n.stateNode.containerInfo,Dt=!0,pn(e,t,n),Ze=r,Dt=o;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ps(n,t,a),o=o.next}while(o!==r)}pn(e,t,n);break;case 1:if(!tt&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Re(n,t,c)}pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,pn(e,t,n),tt=r):pn(e,t,n);break;default:pn(e,t,n)}}function uf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vv),t.forEach(function(r){var o=ng.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ze=c.stateNode,Dt=!1;break e;case 3:Ze=c.stateNode.containerInfo,Dt=!0;break e;case 4:Ze=c.stateNode.containerInfo,Dt=!0;break e}c=c.return}if(Ze===null)throw Error(te(160));_p(i,a,o),Ze=null,Dt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(v){Re(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jp(t,e),t=t.sibling}function jp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),qt(e),r&4){try{No(3,e,e.return),wl(3,e)}catch(y){Re(e,e.return,y)}try{No(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:Lt(t,e),qt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(Lt(t,e),qt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var o=e.stateNode;try{Eo(o,"")}catch(y){Re(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Vd(o,i),Ua(c,a);var v=Ua(c,i);for(a=0;a<u.length;a+=2){var g=u[a],d=u[a+1];g==="style"?Qd(o,d):g==="dangerouslySetInnerHTML"?Zd(o,d):g==="children"?Eo(o,d):Ys(o,g,d,v)}switch(c){case"input":Da(o,i);break;case"textarea":Gd(o,i);break;case"select":var s=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?wr(o,!!i.multiple,h,!1):s!==!!i.multiple&&(i.defaultValue!=null?wr(o,!!i.multiple,i.defaultValue,!0):wr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Mo]=i}catch(y){Re(e,e.return,y)}}break;case 6:if(Lt(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(te(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){Re(e,e.return,y)}}break;case 3:if(Lt(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:Lt(t,e),qt(e);break;case 13:Lt(t,e),qt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Tu=Ie())),r&4&&uf(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(v=tt)||g,Lt(t,e),tt=v):Lt(t,e),qt(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!g&&e.mode&1)for(oe=e,g=e.child;g!==null;){for(d=oe=g;oe!==null;){switch(s=oe,h=s.child,s.tag){case 0:case 11:case 14:case 15:No(4,s,s.return);break;case 1:xr(s,s.return);var b=s.stateNode;if(typeof b.componentWillUnmount=="function"){r=s,n=s.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:xr(s,s.return);break;case 22:if(s.memoizedState!==null){ff(d);continue}}h!==null?(h.return=s,oe=h):ff(d)}g=g.sibling}e:for(g=null,d=e;;){if(d.tag===5){if(g===null){g=d;try{o=d.stateNode,v?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Yd("display",a))}catch(y){Re(e,e.return,y)}}}else if(d.tag===6){if(g===null)try{d.stateNode.nodeValue=v?"":d.memoizedProps}catch(y){Re(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(t,e),qt(e),r&4&&uf(e);break;case 21:break;default:Lt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Eo(o,""),r.flags&=-33);var i=sf(e);gs(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,c=sf(e);vs(e,c,a);break;default:throw Error(te(161))}}catch(u){Re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kv(e,t,n){oe=e,Sp(e)}function Sp(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var o=oe,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||pi;if(!a){var c=o.alternate,u=c!==null&&c.memoizedState!==null||tt;c=pi;var v=tt;if(pi=a,(tt=u)&&!v)for(oe=o;oe!==null;)a=oe,u=a.child,a.tag===22&&a.memoizedState!==null?df(o):u!==null?(u.return=a,oe=u):df(o);for(;i!==null;)oe=i,Sp(i),i=i.sibling;oe=o,pi=c,tt=v}cf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,oe=i):cf(e)}}function cf(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Gc(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gc(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var g=v.memoizedState;if(g!==null){var d=g.dehydrated;d!==null&&Co(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}tt||t.flags&512&&ms(t)}catch(s){Re(t,t.return,s)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function ff(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function df(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wl(4,t)}catch(u){Re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Re(t,o,u)}}var i=t.return;try{ms(t)}catch(u){Re(t,i,u)}break;case 5:var a=t.return;try{ms(t)}catch(u){Re(t,a,u)}}}catch(u){Re(t,t.return,u)}if(t===e){oe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,oe=c;break}oe=t.return}}var Zv=Math.ceil,nl=fn.ReactCurrentDispatcher,ku=fn.ReactCurrentOwner,Ot=fn.ReactCurrentBatchConfig,ge=0,Ge=null,Ue=null,Ye=0,gt=0,br=Rn(0),$e=0,Uo=null,Jn=0,Nl=0,Ou=0,_o=null,dt=null,Tu=0,Lr=1/0,tn=null,rl=!1,ys=null,kn=null,mi=!1,bn=null,ol=0,jo=0,xs=null,Ci=-1,Ai=0;function it(){return ge&6?Ie():Ci!==-1?Ci:Ci=Ie()}function On(e){return e.mode&1?ge&2&&Ye!==0?Ye&-Ye:Pv.transition!==null?(Ai===0&&(Ai=uh()),Ai):(e=xe,e!==0||(e=window.event,e=e===void 0?16:vh(e.type)),e):1}function zt(e,t,n,r){if(50<jo)throw jo=0,xs=null,Error(te(185));Wo(e,n,r),(!(ge&2)||e!==Ge)&&(e===Ge&&(!(ge&2)&&(Nl|=n),$e===4&&yn(e,Ye)),vt(e,r),n===1&&ge===0&&!(t.mode&1)&&(Lr=Ie()+500,yl&&Mn()))}function vt(e,t){var n=e.callbackNode;P0(e,t);var r=Ui(e,e===Ge?Ye:0);if(r===0)n!==null&&bc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bc(n),t===1)e.tag===0?Av(hf.bind(null,e)):Mh(hf.bind(null,e)),kv(function(){!(ge&6)&&Mn()}),n=null;else{switch(ch(r)){case 1:n=tu;break;case 4:n=ah;break;case 16:n=Bi;break;case 536870912:n=sh;break;default:n=Bi}n=Lp(n,Ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ep(e,t){if(Ci=-1,Ai=0,ge&6)throw Error(te(327));var n=e.callbackNode;if(Er()&&e.callbackNode!==n)return null;var r=Ui(e,e===Ge?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var o=ge;ge|=2;var i=Op();(Ge!==e||Ye!==t)&&(tn=null,Lr=Ie()+500,Kn(e,t));do try{Xv();break}catch(c){kp(e,c)}while(!0);pu(),nl.current=i,ge=o,Ue!==null?t=0:(Ge=null,Ye=0,t=$e)}if(t!==0){if(t===2&&(o=Va(e),o!==0&&(r=o,t=bs(e,o))),t===1)throw n=Uo,Kn(e,0),yn(e,r),vt(e,Ie()),n;if(t===6)yn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Yv(o)&&(t=il(e,r),t===2&&(i=Va(e),i!==0&&(r=i,t=bs(e,i))),t===1))throw n=Uo,Kn(e,0),yn(e,r),vt(e,Ie()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:qn(e,dt,tn);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=Tu+500-Ie(),10<t)){if(Ui(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=es(qn.bind(null,e,dt,tn),t);break}qn(e,dt,tn);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Ft(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zv(r/1960))-r,10<r){e.timeoutHandle=es(qn.bind(null,e,dt,tn),r);break}qn(e,dt,tn);break;case 5:qn(e,dt,tn);break;default:throw Error(te(329))}}}return vt(e,Ie()),e.callbackNode===n?Ep.bind(null,e):null}function bs(e,t){var n=_o;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=il(e,t),e!==2&&(t=dt,dt=n,t!==null&&ws(t)),e}function ws(e){dt===null?dt=e:dt.push.apply(dt,e)}function Yv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Bt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~Ou,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function hf(e){if(ge&6)throw Error(te(327));Er();var t=Ui(e,0);if(!(t&1))return vt(e,Ie()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=bs(e,r))}if(n===1)throw n=Uo,Kn(e,0),yn(e,t),vt(e,Ie()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qn(e,dt,tn),vt(e,Ie()),null}function Cu(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(Lr=Ie()+500,yl&&Mn())}}function er(e){bn!==null&&bn.tag===0&&!(ge&6)&&Er();var t=ge;ge|=1;var n=Ot.transition,r=xe;try{if(Ot.transition=null,xe=1,e)return e()}finally{xe=r,Ot.transition=n,ge=t,!(ge&6)&&Mn()}}function Au(){gt=br.current,Se(br)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ev(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vi();break;case 3:Ar(),Se(pt),Se(nt),bu();break;case 5:xu(r);break;case 4:Ar();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:mu(r.type._context);break;case 22:case 23:Au()}n=n.return}if(Ge=e,Ue=e=Tn(e.current,null),Ye=gt=t,$e=0,Uo=null,Ou=Nl=Jn=0,dt=_o=null,Vn!==null){for(t=0;t<Vn.length;t++)if(n=Vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}Vn=null}return e}function kp(e,t){do{var n=Ue;try{if(pu(),ki.current=tl,el){for(var r=Ae.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}el=!1}if(Xn=0,Ve=He=Ae=null,wo=!1,Fo=0,ku.current=null,n===null||n.return===null){$e=1,Uo=t,Ue=null;break}e:{var i=e,a=n.return,c=n,u=t;if(t=Ye,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var v=u,g=c,d=g.tag;if(!(g.mode&1)&&(d===0||d===11||d===15)){var s=g.alternate;s?(g.updateQueue=s.updateQueue,g.memoizedState=s.memoizedState,g.lanes=s.lanes):(g.updateQueue=null,g.memoizedState=null)}var h=Jc(a);if(h!==null){h.flags&=-257,ef(h,a,c,i,t),h.mode&1&&Xc(i,v,t),t=h,u=v;var b=t.updateQueue;if(b===null){var y=new Set;y.add(u),t.updateQueue=y}else b.add(u);break e}else{if(!(t&1)){Xc(i,v,t),Pu();break e}u=Error(te(426))}}else if(Oe&&c.mode&1){var w=Jc(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ef(w,a,c,i,t),du(Pr(u,c));break e}}i=u=Pr(u,c),$e!==4&&($e=2),_o===null?_o=[i]:_o.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=cp(i,u,t);Vc(i,p);break e;case 1:c=u;var f=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(kn===null||!kn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var m=fp(i,c,t);Vc(i,m);break e}}i=i.return}while(i!==null)}Cp(n)}catch(N){t=N,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Op(){var e=nl.current;return nl.current=tl,e===null?tl:e}function Pu(){($e===0||$e===3||$e===2)&&($e=4),Ge===null||!(Jn&268435455)&&!(Nl&268435455)||yn(Ge,Ye)}function il(e,t){var n=ge;ge|=2;var r=Op();(Ge!==e||Ye!==t)&&(tn=null,Kn(e,t));do try{Qv();break}catch(o){kp(e,o)}while(!0);if(pu(),ge=n,nl.current=r,Ue!==null)throw Error(te(261));return Ge=null,Ye=0,$e}function Qv(){for(;Ue!==null;)Tp(Ue)}function Xv(){for(;Ue!==null&&!_0();)Tp(Ue)}function Tp(e){var t=Pp(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Cp(e):Ue=t,ku.current=null}function Cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wv(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ue=null;return}}else if(n=$v(n,t,gt),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);$e===0&&($e=5)}function qn(e,t,n){var r=xe,o=Ot.transition;try{Ot.transition=null,xe=1,Jv(e,t,n,r)}finally{Ot.transition=o,xe=r}return null}function Jv(e,t,n,r){do Er();while(bn!==null);if(ge&6)throw Error(te(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(L0(e,i),e===Ge&&(Ue=Ge=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,Lp(Bi,function(){return Er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var a=xe;xe=1;var c=ge;ge|=4,ku.current=null,Gv(e,n),jp(n,e),xv(Xa),qi=!!Qa,Xa=Qa=null,e.current=n,Kv(n),j0(),ge=c,xe=a,Ot.transition=i}else e.current=n;if(mi&&(mi=!1,bn=e,ol=o),i=e.pendingLanes,i===0&&(kn=null),k0(n.stateNode),vt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(rl)throw rl=!1,e=ys,ys=null,e;return ol&1&&e.tag!==0&&Er(),i=e.pendingLanes,i&1?e===xs?jo++:(jo=0,xs=e):jo=0,Mn(),null}function Er(){if(bn!==null){var e=ch(ol),t=Ot.transition,n=xe;try{if(Ot.transition=null,xe=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,ol=0,ge&6)throw Error(te(331));var o=ge;for(ge|=4,oe=e.current;oe!==null;){var i=oe,a=i.child;if(oe.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var v=c[u];for(oe=v;oe!==null;){var g=oe;switch(g.tag){case 0:case 11:case 15:No(8,g,i)}var d=g.child;if(d!==null)d.return=g,oe=d;else for(;oe!==null;){g=oe;var s=g.sibling,h=g.return;if(wp(g),g===v){oe=null;break}if(s!==null){s.return=h,oe=s;break}oe=h}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}oe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,oe=a;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:No(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,oe=p;break e}oe=i.return}}var f=e.current;for(oe=f;oe!==null;){a=oe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,oe=x;else e:for(a=f;oe!==null;){if(c=oe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:wl(9,c)}}catch(N){Re(c,c.return,N)}if(c===a){oe=null;break e}var m=c.sibling;if(m!==null){m.return=c.return,oe=m;break e}oe=c.return}}if(ge=o,Mn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(hl,e)}catch{}r=!0}return r}finally{xe=n,Ot.transition=t}}return!1}function pf(e,t,n){t=Pr(n,t),t=cp(e,t,1),e=En(e,t,1),t=it(),e!==null&&(Wo(e,1,t),vt(e,t))}function Re(e,t,n){if(e.tag===3)pf(e,e,n);else for(;t!==null;){if(t.tag===3){pf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Pr(n,e),e=fp(t,e,1),t=En(t,e,1),e=it(),t!==null&&(Wo(t,1,e),vt(t,e));break}}t=t.return}}function eg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Ye&n)===n&&($e===4||$e===3&&(Ye&130023424)===Ye&&500>Ie()-Tu?Kn(e,0):Ou|=n),vt(e,t)}function Ap(e,t){t===0&&(e.mode&1?(t=ii,ii<<=1,!(ii&130023424)&&(ii=4194304)):t=1);var n=it();e=un(e,t),e!==null&&(Wo(e,t,n),vt(e,n))}function tg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ap(e,n)}function ng(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),Ap(e,n)}var Pp;Pp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,Hv(e,t,n);ht=!!(e.flags&131072)}else ht=!1,Oe&&t.flags&1048576&&Dh(t,Zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ti(e,t),e=t.pendingProps;var o=Or(t,nt.current);Sr(t,n),o=Nu(null,t,r,e,o,n);var i=_u();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(i=!0,Gi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,gu(t),o.updater=bl,t.stateNode=o,o._reactInternals=t,as(t,r,e,n),t=cs(null,t,r,!0,i,n)):(t.tag=0,Oe&&i&&cu(t),ot(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ti(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=og(r),e=Mt(r,e),o){case 0:t=us(null,t,r,e,n);break e;case 1:t=rf(null,t,r,e,n);break e;case 11:t=tf(null,t,r,e,n);break e;case 14:t=nf(null,t,r,Mt(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),us(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),rf(e,t,r,o,n);case 3:e:{if(mp(t),e===null)throw Error(te(387));r=t.pendingProps,i=t.memoizedState,o=i.element,qh(e,t),Xi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Pr(Error(te(423)),t),t=of(e,t,r,n,o);break e}else if(r!==o){o=Pr(Error(te(424)),t),t=of(e,t,r,n,o);break e}else for(xt=Sn(t.stateNode.containerInfo.firstChild),bt=t,Oe=!0,It=null,n=Bh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tr(),r===o){t=cn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return Hh(t),e===null&&os(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Ja(r,o)?a=null:i!==null&&Ja(r,i)&&(t.flags|=32),pp(e,t),ot(e,t,a,n),t.child;case 6:return e===null&&os(t),null;case 13:return vp(e,t,n);case 4:return yu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cr(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),tf(e,t,r,o,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Ne(Yi,r._currentValue),r._currentValue=a,i!==null)if(Bt(i.value,a)){if(i.children===o.children&&!pt.current){t=cn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=ln(-1,n&-n),u.tag=2;var v=i.updateQueue;if(v!==null){v=v.shared;var g=v.pending;g===null?u.next=u:(u.next=g.next,g.next=u),v.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),is(i.return,n,t),c.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(te(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),is(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ot(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Sr(t,n),o=Tt(o),r=r(o),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,o=Mt(r,t.pendingProps),o=Mt(r.type,o),nf(e,t,r,o,n);case 15:return dp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Mt(r,o),Ti(e,t),t.tag=1,mt(r)?(e=!0,Gi(t)):e=!1,Sr(t,n),up(t,r,o),as(t,r,o,n),cs(null,t,r,!0,e,n);case 19:return gp(e,t,n);case 22:return hp(e,t,n)}throw Error(te(156,t.tag))};function Lp(e,t){return lh(e,t)}function rg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new rg(e,t,n,r)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function og(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xs)return 11;if(e===Js)return 14}return 2}function Tn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pi(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")Lu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case cr:return Zn(n.children,o,i,t);case Qs:a=8,o|=8;break;case Aa:return e=kt(12,n,t,o|2),e.elementType=Aa,e.lanes=i,e;case Pa:return e=kt(13,n,t,o),e.elementType=Pa,e.lanes=i,e;case La:return e=kt(19,n,t,o),e.elementType=La,e.lanes=i,e;case Hd:return _l(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ud:a=10;break e;case qd:a=9;break e;case Xs:a=11;break e;case Js:a=14;break e;case mn:a=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=kt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Zn(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function _l(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Hd,e.lanes=n,e.stateNode={isHidden:!1},e}function ma(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function va(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ig(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ru(e,t,n,r,o,i,a,c,u){return e=new ig(e,t,n,c,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(i),e}function lg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rp(e){if(!e)return Pn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(mt(n))return Rh(e,n,t)}return t}function Mp(e,t,n,r,o,i,a,c,u){return e=Ru(n,r,!0,e,o,i,a,c,u),e.context=Rp(null),n=e.current,r=it(),o=On(n),i=ln(r,o),i.callback=t??null,En(n,i,o),e.current.lanes=o,Wo(e,o,r),vt(e,r),e}function jl(e,t,n,r){var o=t.current,i=it(),a=On(o);return n=Rp(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(o,t,a),e!==null&&(zt(e,o,a,i),Ei(e,o,a)),a}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mu(e,t){mf(e,t),(e=e.alternate)&&mf(e,t)}function ag(){return null}var Dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Du(e){this._internalRoot=e}Sl.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));jl(e,t,null,null)};Sl.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){jl(null,e,null,null)}),t[sn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&mh(e)}};function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vf(){}function sg(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var v=ll(a);i.call(v)}}var a=Mp(t,r,e,0,null,!1,!1,"",vf);return e._reactRootContainer=a,e[sn]=a.current,Lo(e.nodeType===8?e.parentNode:e),er(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var v=ll(u);c.call(v)}}var u=Ru(e,0,!1,null,null,!1,!1,"",vf);return e._reactRootContainer=u,e[sn]=u.current,Lo(e.nodeType===8?e.parentNode:e),er(function(){jl(t,u,n,r)}),u}function kl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var c=o;o=function(){var u=ll(a);c.call(u)}}jl(t,a,e,o)}else a=sg(n,t,e,o,r);return ll(a)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=po(t.pendingLanes);n!==0&&(nu(t,n|1),vt(t,Ie()),!(ge&6)&&(Lr=Ie()+500,Mn()))}break;case 13:er(function(){var r=un(e,1);if(r!==null){var o=it();zt(r,e,1,o)}}),Mu(e,1)}};ru=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=it();zt(t,e,134217728,n)}Mu(e,134217728)}};dh=function(e){if(e.tag===13){var t=On(e),n=un(e,t);if(n!==null){var r=it();zt(n,e,t,r)}Mu(e,t)}};hh=function(){return xe};ph=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Ha=function(e,t,n){switch(t){case"input":if(Da(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=gl(r);if(!o)throw Error(te(90));Wd(r),Da(r,o)}}}break;case"textarea":Gd(e,n);break;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}};eh=Cu;th=er;var ug={usingClientEntryPoint:!1,Events:[Go,pr,gl,Xd,Jd,Cu]},to={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oh(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{hl=vi.inject(cg),Kt=vi}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(t))throw Error(te(200));return lg(e,t,null,n)};Nt.createRoot=function(e,t){if(!Iu(e))throw Error(te(299));var n=!1,r="",o=Dp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ru(e,1,!1,null,null,n,!1,r,o),e[sn]=t.current,Lo(e.nodeType===8?e.parentNode:e),new Du(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=oh(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return er(e)};Nt.hydrate=function(e,t,n){if(!El(t))throw Error(te(200));return kl(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!Iu(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=Dp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mp(t,null,e,1,n??null,o,!1,i,a),e[sn]=t.current,Lo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Sl(t)};Nt.render=function(e,t,n){if(!El(t))throw Error(te(200));return kl(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!El(e))throw Error(te(40));return e._reactRootContainer?(er(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};Nt.unstable_batchedUpdates=Cu;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!El(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return kl(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Ip(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ip)}catch(e){console.error(e)}}Ip(),Id.exports=Nt;var Fp=Id.exports,zp,gf=Fp;zp=gf.createRoot,gf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const yf="popstate";function fg(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:a,hash:c}=r.location;return Ns("",{pathname:i,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:al(o)}return hg(t,n,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dg(){return Math.random().toString(36).substr(2,8)}function xf(e,t){return{usr:e.state,key:e.key,idx:t}}function Ns(e,t,n,r){return n===void 0&&(n=null),qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zr(t):t,{state:n,key:t&&t.key||r||dg()})}function al(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hg(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,c=wn.Pop,u=null,v=g();v==null&&(v=0,a.replaceState(qo({},a.state,{idx:v}),""));function g(){return(a.state||{idx:null}).idx}function d(){c=wn.Pop;let w=g(),p=w==null?null:w-v;v=w,u&&u({action:c,location:y.location,delta:p})}function s(w,p){c=wn.Push;let f=Ns(y.location,w,p);v=g()+1;let x=xf(f,v),m=y.createHref(f);try{a.pushState(x,"",m)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(m)}i&&u&&u({action:c,location:y.location,delta:1})}function h(w,p){c=wn.Replace;let f=Ns(y.location,w,p);v=g();let x=xf(f,v),m=y.createHref(f);a.replaceState(x,"",m),i&&u&&u({action:c,location:y.location,delta:0})}function b(w){let p=o.location.origin!=="null"?o.location.origin:o.location.href,f=typeof w=="string"?w:al(w);return f=f.replace(/ $/,"%20"),Fe(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let y={get action(){return c},get location(){return e(o,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(yf,d),u=w,()=>{o.removeEventListener(yf,d),u=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:s,replace:h,go(w){return a.go(w)}};return y}var bf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bf||(bf={}));function pg(e,t,n){return n===void 0&&(n="/"),mg(e,t,n)}function mg(e,t,n,r){let o=typeof t=="string"?zr(t):t,i=zu(o.pathname||"/",n);if(i==null)return null;let a=Bp(e);vg(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let v=Og(i);c=Sg(a[u],v)}return c}function Bp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Fe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let v=Cn([r,u.relativePath]),g=n.concat(u);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Bp(i.children,t,g,v)),!(i.path==null&&!i.index)&&t.push({path:v,score:_g(v,i.index),routesMeta:g})};return e.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,a);else for(let u of Up(i.path))o(i,a,u)}),t}function Up(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=Up(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&c.push(...a),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function vg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gg=/^:[\w-]+$/,yg=3,xg=2,bg=1,wg=10,Ng=-2,wf=e=>e==="*";function _g(e,t){let n=e.split("/"),r=n.length;return n.some(wf)&&(r+=Ng),t&&(r+=xg),n.filter(o=>!wf(o)).reduce((o,i)=>o+(gg.test(i)?yg:i===""?bg:wg),r)}function jg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Sg(e,t,n){let{routesMeta:r}=e,o={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],v=c===r.length-1,g=i==="/"?t:t.slice(i.length)||"/",d=Eg({path:u.relativePath,caseSensitive:u.caseSensitive,end:v},g),s=u.route;if(!d)return null;Object.assign(o,d.params),a.push({params:o,pathname:Cn([i,d.pathname]),pathnameBase:Lg(Cn([i,d.pathnameBase])),route:s}),d.pathnameBase!=="/"&&(i=Cn([i,d.pathnameBase]))}return a}function Eg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kg(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((v,g,d)=>{let{paramName:s,isOptional:h}=g;if(s==="*"){let y=c[d]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=c[d];return h&&!b?v[s]=void 0:v[s]=(b||"").replace(/%2F/g,"/"),v},{}),pathname:i,pathnameBase:a,pattern:e}}function kg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Og(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cg=e=>Tg.test(e);function Ag(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?zr(e):e,i;if(n)if(Cg(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Fu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Nf(n.substring(1),"/"):i=Nf(n,t)}else i=t;return{pathname:i,search:Rg(r),hash:Mg(o)}}function Nf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ga(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bu(e,t){let n=Pg(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uu(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=zr(e):(o=qo({},e),Fe(!o.pathname||!o.pathname.includes("?"),ga("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),ga("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),ga("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,c;if(a==null)c=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let s=a.split("/");for(;s[0]==="..";)s.shift(),d-=1;o.pathname=s.join("/")}c=d>=0?t[d]:"/"}let u=Ag(o,c),v=a&&a!=="/"&&a.endsWith("/"),g=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(v||g)&&(u.pathname+="/"),u}const Cn=e=>e.join("/").replace(/\/\/+/g,"/"),Lg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qp=["post","put","patch","delete"];new Set(qp);const Ig=["get",...qp];new Set(Ig);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(this,arguments)}const qu=z.createContext(null),Fg=z.createContext(null),Dn=z.createContext(null),Ol=z.createContext(null),Yt=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Hp=z.createContext(null);function zg(e,t){let{relative:n}=t===void 0?{}:t;Br()||Fe(!1);let{basename:r,navigator:o}=z.useContext(Dn),{hash:i,pathname:a,search:c}=Wp(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Cn([r,a])),o.createHref({pathname:u,search:c,hash:i})}function Br(){return z.useContext(Ol)!=null}function dn(){return Br()||Fe(!1),z.useContext(Ol).location}function $p(e){z.useContext(Dn).static||z.useLayoutEffect(e)}function In(){let{isDataRoute:e}=z.useContext(Yt);return e?ey():Bg()}function Bg(){Br()||Fe(!1);let e=z.useContext(qu),{basename:t,future:n,navigator:r}=z.useContext(Dn),{matches:o}=z.useContext(Yt),{pathname:i}=dn(),a=JSON.stringify(Bu(o,n.v7_relativeSplatPath)),c=z.useRef(!1);return $p(()=>{c.current=!0}),z.useCallback(function(v,g){if(g===void 0&&(g={}),!c.current)return;if(typeof v=="number"){r.go(v);return}let d=Uu(v,JSON.parse(a),i,g.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Cn([t,d.pathname])),(g.replace?r.replace:r.push)(d,g.state,g)},[t,r,a,i,e])}const Ug=z.createContext(null);function qg(e){let t=z.useContext(Yt).outlet;return t&&z.createElement(Ug.Provider,{value:e},t)}function Tl(){let{matches:e}=z.useContext(Yt),t=e[e.length-1];return t?t.params:{}}function Wp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=z.useContext(Dn),{matches:o}=z.useContext(Yt),{pathname:i}=dn(),a=JSON.stringify(Bu(o,r.v7_relativeSplatPath));return z.useMemo(()=>Uu(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Hg(e,t){return $g(e,t)}function $g(e,t,n,r){Br()||Fe(!1);let{navigator:o}=z.useContext(Dn),{matches:i}=z.useContext(Yt),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let v=dn(),g;if(t){var d;let w=typeof t=="string"?zr(t):t;u==="/"||(d=w.pathname)!=null&&d.startsWith(u)||Fe(!1),g=w}else g=v;let s=g.pathname||"/",h=s;if(u!=="/"){let w=u.replace(/^\//,"").split("/");h="/"+s.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=pg(e,{pathname:h}),y=Zg(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Cn([u,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Cn([u,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&y?z.createElement(Ol.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:wn.Pop}},y):y}function Wg(){let e=Jg(),t=Dg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:o},n):null,null)}const Vg=z.createElement(Wg,null);class Gg extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?z.createElement(Yt.Provider,{value:this.props.routeContext},z.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kg(e){let{routeContext:t,match:n,children:r}=e,o=z.useContext(qu);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Yt.Provider,{value:t},r)}function Zg(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(o=n)==null?void 0:o.errors;if(c!=null){let g=a.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);g>=0||Fe(!1),a=a.slice(0,Math.min(a.length,g+1))}let u=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<a.length;g++){let d=a[g];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(v=g),d.route.id){let{loaderData:s,errors:h}=n,b=d.route.loader&&s[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||b){u=!0,v>=0?a=a.slice(0,v+1):a=[a[0]];break}}}return a.reduceRight((g,d,s)=>{let h,b=!1,y=null,w=null;n&&(h=c&&d.route.id?c[d.route.id]:void 0,y=d.route.errorElement||Vg,u&&(v<0&&s===0?(ty("route-fallback"),b=!0,w=null):v===s&&(b=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,s+1)),f=()=>{let x;return h?x=y:b?x=w:d.route.Component?x=z.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=g,z.createElement(Kg,{match:d,routeContext:{outlet:g,matches:p,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||s===0)?z.createElement(Gg,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var Vp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vp||{}),Gp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gp||{});function Yg(e){let t=z.useContext(qu);return t||Fe(!1),t}function Qg(e){let t=z.useContext(Fg);return t||Fe(!1),t}function Xg(e){let t=z.useContext(Yt);return t||Fe(!1),t}function Kp(e){let t=Xg(),n=t.matches[t.matches.length-1];return n.route.id||Fe(!1),n.route.id}function Jg(){var e;let t=z.useContext(Hp),n=Qg(),r=Kp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ey(){let{router:e}=Yg(Vp.UseNavigateStable),t=Kp(Gp.UseNavigateStable),n=z.useRef(!1);return $p(()=>{n.current=!0}),z.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ho({fromRouteId:t},i)))},[e,t])}const _f={};function ty(e,t,n){_f[e]||(_f[e]=!0)}function ny(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rr(e){let{to:t,replace:n,state:r,relative:o}=e;Br()||Fe(!1);let{future:i,static:a}=z.useContext(Dn),{matches:c}=z.useContext(Yt),{pathname:u}=dn(),v=In(),g=Uu(t,Bu(c,i.v7_relativeSplatPath),u,o==="path"),d=JSON.stringify(g);return z.useEffect(()=>v(JSON.parse(d),{replace:n,state:r,relative:o}),[v,d,o,n,r]),null}function ry(e){return qg(e.context)}function ye(e){Fe(!1)}function oy(e){let{basename:t="/",children:n=null,location:r,navigationType:o=wn.Pop,navigator:i,static:a=!1,future:c}=e;Br()&&Fe(!1);let u=t.replace(/^\/*/,"/"),v=z.useMemo(()=>({basename:u,navigator:i,static:a,future:Ho({v7_relativeSplatPath:!1},c)}),[u,c,i,a]);typeof r=="string"&&(r=zr(r));let{pathname:g="/",search:d="",hash:s="",state:h=null,key:b="default"}=r,y=z.useMemo(()=>{let w=zu(g,u);return w==null?null:{location:{pathname:w,search:d,hash:s,state:h,key:b},navigationType:o}},[u,g,d,s,h,b,o]);return y==null?null:z.createElement(Dn.Provider,{value:v},z.createElement(Ol.Provider,{children:n,value:y}))}function iy(e){let{children:t,location:n}=e;return Hg(_s(t),n)}new Promise(()=>{});function _s(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(r,o)=>{if(!z.isValidElement(r))return;let i=[...t,o];if(r.type===z.Fragment){n.push.apply(n,_s(r.props.children,i));return}r.type!==ye&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=_s(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(this,arguments)}function ly(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ay(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sy(e,t){return e.button===0&&(!t||t==="_self")&&!ay(e)}function Ss(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function uy(e,t){let n=Ss(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(i=>{n.append(o,i)})}),n}const cy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fy="6";try{window.__reactRouterVersion=fy}catch{}const dy="startTransition",jf=e0[dy];function hy(e){let{basename:t,children:n,future:r,window:o}=e,i=z.useRef();i.current==null&&(i.current=fg({window:o,v5Compat:!0}));let a=i.current,[c,u]=z.useState({action:a.action,location:a.location}),{v7_startTransition:v}=r||{},g=z.useCallback(d=>{v&&jf?jf(()=>u(d)):u(d)},[u,v]);return z.useLayoutEffect(()=>a.listen(g),[a,g]),z.useEffect(()=>ny(r),[r]),z.createElement(oy,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=z.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:c,target:u,to:v,preventScrollReset:g,viewTransition:d}=t,s=ly(t,cy),{basename:h}=z.useContext(Dn),b,y=!1;if(typeof v=="string"&&my.test(v)&&(b=v,py))try{let x=new URL(window.location.href),m=v.startsWith("//")?new URL(x.protocol+v):new URL(v),N=zu(m.pathname,h);m.origin===x.origin&&N!=null?v=N+m.search+m.hash:y=!0}catch{}let w=zg(v,{relative:o}),p=vy(v,{replace:a,state:c,target:u,preventScrollReset:g,relative:o,viewTransition:d});function f(x){r&&r(x),x.defaultPrevented||p(x)}return z.createElement("a",js({},s,{href:b||w,onClick:y||i?r:f,ref:n,target:u}))});var Sf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sf||(Sf={}));var Ef;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ef||(Ef={}));function vy(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:c}=t===void 0?{}:t,u=In(),v=dn(),g=Wp(e,{relative:a});return z.useCallback(d=>{if(sy(d,n)){d.preventDefault();let s=r!==void 0?r:al(v)===al(g);u(e,{replace:s,state:o,preventScrollReset:i,relative:a,viewTransition:c})}},[v,u,g,r,o,n,e,i,a,c])}function Zp(e){let t=z.useRef(Ss(e)),n=z.useRef(!1),r=dn(),o=z.useMemo(()=>uy(r.search,n.current?null:t.current),[r.search]),i=In(),a=z.useCallback((c,u)=>{const v=Ss(typeof c=="function"?c(o):c);n.current=!0,i("?"+v,u)},[i,o]);return[o,a]}const kf="https://api.pennit.io".trim(),gy=kf||"https://api.pennit.io",Ee=gy.replace(/\/$/,"");async function yy(){const e=await fetch(`${Ee}/api/config`);return Le(e)}function Fn(e){if(!e||typeof e!="string")return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=Ee||"";return t?`${t}${e.startsWith("/")?e:`/${e}`}`:e}async function Le(e){if(!e.ok){const t=await e.json().catch(()=>({error:e.statusText}));throw new Error(t.error||"Request failed")}return e.json()}async function Hu(){const e=await fetch(`${Ee}/api/works`);return Le(e)}async function $u(e){const t=await fetch(`${Ee}/api/works/${e}`);return Le(t)}async function xy(e,t){const n={},r=await fetch(`${Ee}/api/authors/${e}`,{headers:n});return Le(r)}async function by({email:e,name:t,phone:n,password:r,role:o,penName:i}){const a=await fetch(`${Ee}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,name:t,phone:n,password:r,role:o,penName:i})});return Le(a)}async function wy({email:e,password:t}){const n=await fetch(`${Ee}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});return Le(n)}async function Cl(e){const t=new FormData;t.append("file",e);const n=await fetch(`${Ee}/api/upload`,{method:"POST",body:t});return Le(n)}async function Ny({title:e,authorId:t,category:n,genre:r,excerpt:o,body:i,thumbnailUrl:a,topics:c,status:u="published"}){const v=await fetch(`${Ee}/api/works`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,authorId:t,category:n||"short_story",genre:r,excerpt:o||"",body:i||"",thumbnailUrl:a||"",topics:(c&&Array.isArray(c),c),status:u==="draft"?"draft":"published"})});return Le(v)}async function Of(e,{title:t,category:n,genre:r,excerpt:o,body:i,thumbnailUrl:a,status:c}){const u={title:t,category:n,genre:r,excerpt:o,body:i,thumbnailUrl:a};c!==void 0&&(u.status=c);const v=await fetch(`${Ee}/api/works/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});return Le(v)}async function _y(e){const t=await fetch(`${Ee}/api/works/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json().catch(()=>({error:t.statusText}));throw new Error(n.error||"Request failed")}if(t.status!==204)return t.json().catch(()=>({}))}async function Tf(e,{content:t,userId:n,parentId:r}){const o=await fetch(`${Ee}/api/works/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,userId:n,parentId:r})});return Le(o)}async function jy(e,{limit:t=50,offset:n=0}={}){const r=new URLSearchParams({limit:String(t),offset:String(n)}),o=await fetch(`${Ee}/api/works/${e}/comments?${r.toString()}`);return Le(o)}async function Sy(e,t){const n={"Content-Type":"application/json"};t&&(n["x-user-id"]=t);const r=await fetch(`${Ee}/api/works/${e}/clap`,{method:"POST",headers:n,body:JSON.stringify({userId:t})});return Le(r)}async function Ey(e,t){const n={};t&&(n["x-user-id"]=t);const r=await fetch(`${Ee}/api/works/${e}/clap`,{headers:n});return Le(r)}async function Yp(e,t){const n={"Content-Type":"application/json"};t&&(n["x-user-id"]=t);const r=await fetch(`${Ee}/api/works/${e}/save`,{method:"POST",headers:n,body:JSON.stringify({userId:t})});return Le(r)}async function Qp(e){const t={};e&&(t["x-user-id"]=e);const n=await fetch(`${Ee}/api/works/me/saved`,{headers:t});return Le(n)}async function ky(e,t){const n={"Content-Type":"application/json"};t&&(n["x-user-id"]=t);const r=await fetch(`${Ee}/api/authors/${e}/follow`,{method:"POST",headers:n,body:JSON.stringify({userId:t})});return Le(r)}async function Oy(e,t){const n={"Content-Type":"application/json"};t&&(n["x-user-id"]=t);const r=await fetch(`${Ee}/api/works/${e}/view`,{method:"POST",headers:n});return Le(r)}async function Ty(e,{progressPercentage:t,timeSpent:n},r){const o={"Content-Type":"application/json"};r&&(o["x-user-id"]=r);const i=await fetch(`${Ee}/api/works/${e}/read`,{method:"POST",headers:o,body:JSON.stringify({progressPercentage:t,timeSpent:n})});return Le(i)}async function Cy(){const e=await fetch(`${Ee}/api/subscriptions/plans`);return Le(e)}async function Xp(e){const t={};e&&(t["x-user-id"]=e);const n=await fetch(`${Ee}/api/subscriptions/me`,{headers:t});return Le(n)}async function Ay(e,{planId:t,returnUrl:n,cancelUrl:r}){const o={"Content-Type":"application/json"};e&&(o["x-user-id"]=e);const i=await fetch(`${Ee}/api/subscriptions`,{method:"POST",headers:o,body:JSON.stringify({planId:t,returnUrl:n,cancelUrl:r})});return Le(i)}async function Py(e){const t={};e&&(t["x-user-id"]=e);const n=await fetch(`${Ee}/api/earnings/estimated`,{headers:t});return Le(n)}async function Ly(e){const t={};e&&(t["x-user-id"]=e);const n=await fetch(`${Ee}/api/earnings/payout-method`,{headers:t});return Le(n)}const Jp=z.createContext({monetizationEnabled:!1,configLoading:!0});function Ry({children:e}){const[t,n]=z.useState({monetizationEnabled:!1,configLoading:!0});return z.useEffect(()=>{yy().then(r=>n({...r,configLoading:!1})).catch(()=>n({monetizationEnabled:!1,configLoading:!1}))},[]),l.jsx(Jp.Provider,{value:t,children:e})}function Al(){return z.useContext(Jp)}const Wu="pennit_user";function Pt(){try{const e=localStorage.getItem(Wu);return e?JSON.parse(e):null}catch{return null}}function Cf(e){localStorage.setItem(Wu,JSON.stringify(e))}function My(){localStorage.removeItem(Wu)}function Dy({onToggleLeftSidebar:e}){var d;const t=Pt(),{monetizationEnabled:n}=Al(),r=In(),[o,i]=z.useState(!1),[a,c]=z.useState(!1),u=()=>{My(),r("/")};z.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);const v=(t==null?void 0:t.penName)||((d=t==null?void 0:t.email)==null?void 0:d.split("@")[0])||"User",g=v[0].toUpperCase();return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:"bg-white border-b border-stone-200 sticky top-0 z-50",children:l.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4 md:gap-6 flex-1",children:[l.jsx("button",{onClick:()=>{window.matchMedia("(min-width: 1024px)").matches?e==null||e():c(s=>!s)},className:"p-1 text-stone-500 hover:text-stone-900 rounded-full hover:bg-stone-100 transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),l.jsx(de,{to:"/",className:"flex-shrink-0",children:l.jsx("img",{src:"/images/logo.jpeg",alt:"Pennit",className:"h-[43px] w-auto object-contain"})}),l.jsxs("div",{className:`hidden md:flex items-center bg-stone-100 rounded-full px-4 py-2.5 transition-all duration-200 ${o?"bg-white ring-1 ring-stone-900 w-96":"w-80"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-stone-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),l.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-base ml-2 w-full text-stone-900 placeholder:text-stone-400",onFocus:()=>i(!0),onBlur:()=>i(!1)})]})]}),l.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[l.jsxs(de,{to:(t==null?void 0:t.role)==="writer"?"/writers-dashboard":"/?signup=writer",className:"hidden sm:flex items-center gap-2 text-stone-500 hover:text-stone-900 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),l.jsx("span",{className:"text-base font-light",children:"Write"})]}),t?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"text-stone-500 hover:text-stone-900 transition-colors relative",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})})}),l.jsxs("div",{className:"relative group cursor-pointer ml-2",children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-stone-800 text-white flex items-center justify-center font-semibold text-base select-none shadow-sm ring-2 ring-stone-100 hover:ring-stone-300 transition-all",children:g}),l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-60 bg-white rounded-xl shadow-lg border border-stone-100 overflow-hidden hidden group-hover:block z-50 transform origin-top-right transition-all",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-stone-100 bg-stone-50",children:[l.jsx("p",{className:"text-base font-semibold text-stone-900 truncate",children:v}),l.jsx("p",{className:"text-sm text-stone-500 truncate",children:t.email})]}),l.jsx("div",{className:"py-1",children:t.role==="writer"?l.jsx(de,{to:"/writers-dashboard",className:"block px-4 py-2 text-base text-stone-600 hover:bg-stone-50 hover:text-stone-900",children:"Overview"}):l.jsxs(l.Fragment,{children:[l.jsx(de,{to:"/home",className:"block px-4 py-2 text-base text-stone-600 hover:bg-stone-50 hover:text-stone-900",children:"Home"}),l.jsx(de,{to:"/reader",className:"block px-4 py-2 text-base text-stone-600 hover:bg-stone-50 hover:text-stone-900",children:"Discover"})]})}),l.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-3 text-base text-stone-600 hover:bg-stone-50 border-t border-stone-100 hover:text-red-600 transition-colors",children:"Sign out"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(de,{to:"/?signin=1",className:"text-base font-medium text-stone-600 hover:text-stone-900 hidden sm:block",children:"Sign In"}),l.jsx(de,{to:"/?signup=1",className:"bg-stone-900 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-stone-800 transition-colors shadow-sm sm:px-6 sm:py-2.5 sm:text-base",children:"Get Started"})]})]})]})}),a&&l.jsx("div",{className:"fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-50",onClick:()=>c(!1)}),l.jsx("div",{className:`fixed top-0 left-0 bottom-0 w-72 bg-white z-50 shadow-2xl transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,children:l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-8",children:l.jsx(de,{to:"/",onClick:()=>c(!1),children:l.jsx("img",{src:"/images/logo.jpeg",alt:"Pennit",className:"h-[36px] w-auto object-contain"})})}),l.jsx("nav",{className:"space-y-2",children:(t==null?void 0:t.role)==="writer"?l.jsx(l.Fragment,{children:l.jsx(Bn,{to:"/writers-dashboard",icon:l.jsx(Af,{}),label:"Overview",onClick:()=>c(!1)})}):l.jsxs(l.Fragment,{children:[l.jsx(Bn,{to:"/home",icon:l.jsx(Af,{}),label:"Home",onClick:()=>c(!1)}),l.jsx(Bn,{to:"/reader",icon:l.jsx(zy,{}),label:"Discover",onClick:()=>c(!1)}),l.jsx(Bn,{to:"/library",icon:l.jsx(Iy,{}),label:"Library",onClick:()=>c(!1)}),l.jsx(Bn,{to:"/profile",icon:l.jsx(Fy,{}),label:"Profile",onClick:()=>c(!1)}),l.jsx(Bn,{to:"/stats",icon:l.jsx(By,{}),label:"Stats",onClick:()=>c(!1)}),n&&l.jsx(Bn,{to:"/pricing",icon:l.jsx(Uy,{}),label:"Subscribe",onClick:()=>c(!1)})]})}),(t==null?void 0:t.role)!=="writer"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-8 border-t border-stone-100"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-stone-900 mb-4 px-3",children:"Following"}),l.jsx("div",{className:"px-3",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4 cursor-pointer hover:bg-stone-50 p-2 -mx-2 rounded-lg transition-colors",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-stone-200 flex items-center justify-center text-stone-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-stone-600",children:"Find writers"}),l.jsx("p",{className:"text-xs text-stone-400",children:"See suggestions"})]})]})})]})]})]})})]})}function Bn({to:e,icon:t,label:n,active:r,onClick:o}){return l.jsxs(de,{to:e,onClick:o,className:`flex items-center gap-4 px-3 py-3 rounded-lg transition-colors ${r?"text-stone-900 font-semibold":"text-stone-600 hover:bg-stone-50 hover:text-stone-900"}`,children:[l.jsx("span",{className:"text-stone-400 group-hover:text-stone-900",children:t}),l.jsx("span",{className:"text-base",children:n})]})}function Af(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function Iy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})})}function Fy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}function zy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})}function By(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})})}function Uy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"})})}function qy(){const e=Pt(),t=dn(),n=(e==null?void 0:e.role)==="writer",r=o=>t.pathname===o;return n?l.jsx("div",{className:"sticky top-16 p-6 h-[calc(100vh-4rem)] overflow-y-auto",children:l.jsx("nav",{className:"space-y-1",children:l.jsx(ar,{to:"/writers-dashboard",icon:l.jsx(Pf,{}),label:"Overview",active:r("/writers-dashboard")})})}):l.jsxs("div",{className:"sticky top-16 p-6 h-[calc(100vh-4rem)] overflow-y-auto",children:[l.jsxs("nav",{className:"space-y-1",children:[l.jsx(ar,{to:"/home",icon:l.jsx(Pf,{}),label:"Home",active:r("/home")}),l.jsx(ar,{to:"/reader",icon:l.jsx(Wy,{}),label:"Discover",active:r("/reader")}),l.jsx(ar,{to:"/library",icon:l.jsx(Hy,{}),label:"Library",active:r("/library")}),l.jsx(ar,{to:"/profile",icon:l.jsx($y,{}),label:"Profile",active:r("/profile")}),l.jsx(ar,{to:"/stats",icon:l.jsx(Vy,{}),label:"Stats",active:r("/stats")})]}),l.jsx("div",{className:"my-6 border-t border-stone-100"}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-sm font-medium text-stone-500 mb-4 flex items-center gap-2",children:[l.jsx(Gy,{}),"Following"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-stone-500",children:"Find writers and publications to follow."}),l.jsx(de,{to:"/discover",className:"text-sm font-medium text-stone-900 underline hover:no-underline",children:"See suggestions"})]})]})]})}function ar({to:e,icon:t,label:n,active:r}){return l.jsxs(de,{to:e,className:`flex items-center gap-4 px-3 py-2.5 rounded-lg transition-colors ${r?"text-stone-900 font-semibold bg-stone-50":"text-stone-600 hover:bg-stone-50 hover:text-stone-900"}`,children:[l.jsx("span",{className:r?"text-stone-900":"text-stone-400",children:t}),l.jsx("span",{className:"text-base",children:n})]})}function Pf(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function Hy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})})}function $y(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}function Wy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})}function Vy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})})}function Gy(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})}function Ky(){return l.jsxs("div",{className:"sticky top-16 p-6 h-[calc(100vh-4rem)] overflow-y-auto",children:[l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-base font-bold text-stone-900 mb-4",children:"Staff Picks"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ya,{publication:"Pennit Weekly",author:"Editorial Team",title:"Celebrating African Voices: Our Top Reads This Month",date:"2d ago"}),l.jsx(ya,{publication:"Creative Corner",author:"Amina K.",title:"The Art of Short Fiction: A Writer's Journey",date:"Jan 28"}),l.jsx(ya,{publication:"Poetry Hub",author:"Kwame A.",title:"Finding Rhythm in Everyday Life",date:"Jan 25"})]}),l.jsx(de,{to:"/staff-picks",className:"block mt-4 text-sm text-green-600 hover:text-green-700 font-medium",children:"See the full list"})]}),l.jsxs("section",{className:"bg-yellow-50 rounded-xl p-5 mb-8",children:[l.jsx("h3",{className:"text-base font-bold text-stone-900 mb-3",children:"Writing on Pennit"}),l.jsxs("ul",{className:"text-sm text-stone-600 space-y-2 mb-4",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),"Join our Pennit Writing 101 Webinar"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),"Read Pennit tips & tricks"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),"Get practical writing advice"]})]}),l.jsx(de,{to:"/write",className:"inline-block bg-stone-900 text-white text-sm font-medium px-5 py-2 rounded-full hover:bg-stone-800 transition-colors",children:"Start writing"})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h3",{className:"text-sm font-medium text-stone-500 mb-3",children:"Recommended topics"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(sr,{label:"Poetry"}),l.jsx(sr,{label:"Short Stories"}),l.jsx(sr,{label:"Fiction"}),l.jsx(sr,{label:"African Culture"}),l.jsx(sr,{label:"Creative Writing"}),l.jsx(sr,{label:"Literature"})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-sm font-medium text-stone-500 mb-3",children:"Who to follow"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(xa,{name:"Adaeze Obi",bio:"Poet & storyteller. Lagos-based."}),l.jsx(xa,{name:"Kofi Mensah",bio:"Fiction writer exploring identity."}),l.jsx(xa,{name:"Zara Ibrahim",bio:"Short fiction enthusiast."})]})]})]})}function ya({publication:e,author:t,title:n,date:r}){return l.jsxs("div",{className:"group cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-stone-200 flex-shrink-0"}),l.jsxs("span",{className:"text-xs text-stone-500 truncate",children:["In ",l.jsx("span",{className:"font-medium text-stone-600",children:e})," by ",t]})]}),l.jsx("h4",{className:"text-sm font-bold text-stone-900 leading-snug group-hover:underline line-clamp-2",children:n}),l.jsx("p",{className:"text-xs text-stone-400 mt-1",children:r})]})}function sr({label:e}){return l.jsx(de,{to:`/topic/${e.toLowerCase().replace(/\s+/g,"-")}`,className:"px-3 py-1.5 bg-stone-100 text-stone-600 text-sm rounded-full hover:bg-stone-200 transition-colors",children:e})}function xa({name:e,bio:t}){return l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-stone-300 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:e}),l.jsx("p",{className:"text-xs text-stone-500 truncate",children:t})]}),l.jsx("button",{className:"text-xs font-medium text-stone-900 border border-stone-900 rounded-full px-3 py-1 hover:bg-stone-900 hover:text-white transition-colors flex-shrink-0",children:"Follow"})]})}function Ht(){const e=dn(),[t,n]=z.useState(!0),r=e.pathname.startsWith("/author/"),o=["/library","/profile","/stories","/stats","/writers-dashboard"].includes(e.pathname)||r;return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(Dy,{onToggleLeftSidebar:()=>n(i=>!i)}),l.jsx("aside",{className:`hidden lg:block fixed left-0 top-16 z-10 h-[calc(100vh-4rem)] overflow-hidden border-r border-stone-200 bg-white transition-[width] duration-300 ease-in-out ${t?"lg:w-64":"lg:w-0 lg:min-w-0 lg:border-r-0"}`,children:l.jsx("div",{className:"w-64 min-w-64 h-full overflow-y-auto",children:l.jsx(qy,{})})}),l.jsxs("div",{className:`flex flex-1 transition-[margin] duration-300 ease-in-out ${t?"lg:ml-64":"lg:ml-0"}`,children:[l.jsx("main",{className:`flex-1 min-w-0 overflow-x-hidden ${r?"bg-white":"xl:border-r xl:border-stone-200 bg-artistic-lines carving-edge bg-wow-orbs bg-white/95"}`,children:l.jsx("div",{className:"relative z-10 min-h-full min-w-0",children:l.jsx(ry,{})})}),!o&&l.jsx("aside",{className:"hidden xl:block w-80 flex-shrink-0 bg-white",children:l.jsx(Ky,{})})]})]})}function Zy(){const e=In(),[t,n]=Zp(),[r,o]=z.useState(!1),[i,a]=z.useState("signin"),[c,u]=z.useState(""),[v,g]=z.useState(""),[d,s]=z.useState(""),[h,b]=z.useState(""),[y,w]=z.useState("reader"),[p,f]=z.useState(""),[x,m]=z.useState(!1),[N,k]=z.useState(""),[S,E]=z.useState(!1),[P,_]=z.useState(""),[j,O]=z.useState(""),[C,M]=z.useState(!1),[D,q]=z.useState(""),[$,W]=z.useState(!1);z.useEffect(()=>{const T=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=T||""}},[]),z.useEffect(()=>{const T=t.get("signup"),R=t.get("signin");T==="writer"||T==="1"?(o(!0),a("signup-email"),w(T==="writer"?"writer":"reader"),n({},{replace:!0})):R==="1"&&(o(!0),a("signin"),n({},{replace:!0}))},[t,n]);const B=async T=>{if(T.preventDefault(),k(""),!c.trim()){k("Please enter your email.");return}if(!v.trim()){k("Please enter your name.");return}if(!h||h.length<6){k("Password must be at least 6 characters.");return}E(!0);try{const R=await by({email:c.trim(),name:v.trim(),phone:d.trim(),password:h,role:y,penName:y==="writer"?p.trim():void 0});Cf({id:R.id,email:R.email,name:R.name,role:R.role==="writer"?"writer":"reader",penName:R.penName||void 0,authorId:R.authorId||void 0}),u(""),g(""),s(""),b(""),f(""),o(!1),a("signin"),e(y==="writer"?"/writers-dashboard":"/home")}catch(R){k(R.message||"Could not create account. Please try again.")}finally{E(!1)}},A=async T=>{if(T.preventDefault(),q(""),!P.trim()){q("Please enter your email.");return}if(!j){q("Please enter your password.");return}W(!0);try{const R=await wy({email:P.trim(),password:j}),I=R.role==="writer"?"writer":"reader";Cf({id:R.id,email:R.email,name:R.name,role:I,penName:R.penName||void 0,authorId:R.authorId||void 0}),_(""),O(""),o(!1),a("signin"),e(I==="writer"?"/writers-dashboard":"/home")}catch(R){q(R.message||"Could not sign in. Please try again.")}finally{W(!1)}};return l.jsxs("div",{className:"h-screen overflow-hidden lg:min-h-screen lg:overflow-visible bg-[#FDFCFB]",children:[l.jsx("header",{className:"absolute top-0 left-0 right-0 z-50 px-6 lg:px-12 py-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[l.jsx(de,{to:"/",className:"flex-shrink-0",children:l.jsx("img",{src:"/images/logo.jpeg",alt:"Pennit",className:"h-[48px] w-auto object-contain rounded-md"})}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("button",{onClick:()=>o(!0),className:"hidden sm:flex items-center gap-2 text-sm font-medium text-white hover:text-white/90 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),"Write"]}),l.jsx("button",{onClick:()=>o(!0),className:"text-sm font-medium text-white hover:text-white/90 transition-colors",children:"Sign In"}),l.jsx("button",{onClick:()=>o(!0),className:"text-xs font-bold sm:text-sm sm:font-black bg-yellow-400 text-stone-900 px-4 py-2 sm:px-6 sm:py-2.5 rounded-full hover:bg-yellow-300 transition-colors",children:"Get Started"})]})]})}),l.jsxs("section",{className:"relative h-full lg:min-h-screen flex flex-col lg:flex-row",children:[l.jsxs("div",{className:"hidden lg:flex w-full lg:w-1/2 bg-[#FDFCFB] flex-col justify-center px-6 lg:px-20 py-32 lg:py-20 relative overflow-hidden bg-writing-carvings corner-flourish",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-[0.04] pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/natural-paper.png')"}}),l.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-yellow-400/15 blur-[120px] rounded-full"}),l.jsx("div",{className:"absolute top-1/3 -right-20 w-72 h-72 bg-amber-300/12 blur-[100px] rounded-full"}),l.jsx("div",{className:"absolute bottom-1/4 -left-16 w-64 h-64 bg-yellow-500/10 blur-[90px] rounded-full"}),l.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-gradient-to-bl from-yellow-100/30 via-transparent to-transparent pointer-events-none"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-full h-1/2 bg-gradient-to-t from-stone-100/60 to-transparent pointer-events-none"}),l.jsxs("div",{className:"max-w-xl relative z-10",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-stone-100 border border-stone-200 text-stone-600 px-4 py-2 rounded-full text-xs font-bold tracking-widest uppercase mb-10 animate-fade-in",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-500 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-yellow-500"})]}),"Africa's Premier Writing Platform"]}),l.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-stone-900 leading-[1.1] mb-6 tracking-tight",children:["Where African",l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-600",children:"Creativity"}),l.jsx("br",{}),"Thrives."]}),l.jsx("p",{className:"text-base md:text-lg text-stone-600 mb-10 max-w-md leading-relaxed",children:"A borderless home for African stories. Join a global community of writers and readers celebrating the richness of our heritage."}),l.jsxs("div",{className:"flex flex-wrap gap-4 mb-16",children:[l.jsxs(de,{to:"/home",className:"group relative inline-flex items-center gap-3 bg-yellow-400 text-stone-900 text-sm font-black px-8 py-4 rounded-xl hover:bg-yellow-300 transition-all duration-300 shadow-[0_0_40px_-10px_rgba(250,204,21,0.3)] hover:shadow-[0_0_50px_-5px_rgba(250,204,21,0.4)] hover:-translate-y-1",children:["Start Reading",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-4 h-4 group-hover:translate-x-1 transition-transform",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]}),l.jsx("button",{onClick:()=>o(!0),className:"inline-flex items-center gap-3 bg-stone-100 border border-stone-200 text-stone-900 text-sm font-bold px-8 py-4 rounded-xl hover:bg-stone-200 transition-all duration-300",children:"Start Writing"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-8 border-t border-stone-200 pt-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex -space-x-3",children:[[10,12,15,32].map(T=>l.jsx("img",{src:`https://i.pravatar.cc/150?u=${T}`,alt:"User",className:"w-10 h-10 rounded-full border-[3px] border-[#FDFCFB] object-cover"},T)),l.jsx("div",{className:"w-10 h-10 rounded-full border-[3px] border-[#FDFCFB] bg-yellow-400 flex items-center justify-center text-xs font-black text-stone-900",children:"+"})]}),l.jsxs("div",{className:"text-xs font-bold text-stone-500",children:["Join ",l.jsx("strong",{className:"text-stone-900",children:"10,000+"})," writers"]})]}),l.jsx("div",{className:"hidden sm:block w-px h-10 bg-stone-200"}),l.jsxs("div",{className:"flex gap-10",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-stone-900",children:"50K+"}),l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-stone-400 font-bold",children:"Stories"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-stone-900",children:"1M+"}),l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-stone-400 font-bold",children:"Readers"})]})]})]})]})]}),l.jsxs("div",{className:"flex-1 h-full lg:min-h-0 lg:w-1/2 relative overflow-hidden order-first lg:order-none",children:[l.jsx("img",{src:"/images/hero-illustration.png",alt:"African creativity",className:"absolute inset-0 w-full h-full object-cover",onError:T=>{T.target.src="https://images.unsplash.com/photo-1544535830-9df3f56fff6a?w=800&q=80"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-stone-900/20 to-transparent"}),l.jsx("div",{className:"absolute inset-x-6 top-20 lg:hidden",children:l.jsx("div",{className:"inline-block max-w-xs px-4 py-3 rounded-3xl bg-stone-950/60 backdrop-blur-md shadow-lg",children:l.jsxs("h1",{className:"text-2xl font-black leading-snug tracking-tight text-white",children:["Where African",l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-400",children:"Creativity"}),l.jsx("br",{}),"Thrives."]})})}),l.jsx("div",{className:"absolute bottom-24 lg:bottom-12 left-6 lg:left-12 group",children:l.jsxs("button",{type:"button",onClick:()=>e("/home"),className:"bg-white/90 backdrop-blur-2xl border border-white/50 rounded-[2.5rem] p-4 pl-4 pr-12 shadow-[0_30px_100px_-20px_rgba(0,0,0,0.3)] flex items-center gap-6 transform hover:-translate-y-2 transition-all duration-500 cursor-pointer",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-14 h-14 bg-stone-900 rounded-[1.5rem] flex items-center justify-center transition-transform duration-500 group-hover:rotate-[10deg]",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"white",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})}),l.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 border-[3px] border-white rounded-full"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-stone-900 font-extrabold text-sm uppercase tracking-tight",children:"Start Your Journey"}),l.jsx("span",{className:"text-stone-400 text-[10px] font-bold uppercase tracking-[0.2em] mt-0.5",children:"Join the community"})]}),l.jsx("div",{className:"absolute right-6 opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all duration-500",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"#1C1917",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})]})})]})]}),r&&l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[l.jsx("div",{className:"absolute inset-0 bg-stone-900/40 backdrop-blur-sm animate-fade-in",onClick:()=>o(!1)}),l.jsxs("div",{className:"relative w-full max-w-xl max-h-[90vh] bg-white rounded-none shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300 ease-out flex flex-col",children:[l.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 p-2 text-stone-400 hover:text-stone-900 transition-colors z-10",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})}),l.jsx("div",{className:"px-8 pt-12 pb-8 sm:px-16 text-center overflow-y-auto",children:i==="signin"?l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-serif text-stone-900 mb-12",children:"Welcome back."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(no,{icon:"google",label:"Sign in with Google"}),l.jsx(no,{icon:"facebook",label:"Sign in with Facebook"}),l.jsx(no,{icon:"apple",label:"Sign in with Apple"}),l.jsx(no,{icon:"x",label:"Sign in with X"}),l.jsx(no,{icon:"email",label:"Sign in with email",onClick:()=>a("signin-email")})]}),l.jsxs("div",{className:"mt-12 text-sm",children:[l.jsxs("p",{className:"text-stone-600 font-medium",children:["No account? ",l.jsx("button",{type:"button",onClick:()=>a("signup-email"),className:"text-stone-900 font-bold hover:underline",children:"Create one"})]}),l.jsxs("p",{className:"text-stone-600 font-medium mt-4",children:["Forgot email or trouble signing in? ",l.jsx("button",{type:"button",className:"text-stone-900 font-bold hover:underline",children:"Get help."})]})]}),l.jsxs("div",{className:"mt-12 text-[10px] text-stone-400 leading-relaxed max-w-xs mx-auto",children:[`By clicking "Sign in", you accept Pennit's `,l.jsx("button",{type:"button",className:"underline",children:"Terms of Service"})," and ",l.jsx("button",{type:"button",className:"underline",children:"Privacy Policy"}),"."]})]}):i==="signin-email"?l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-serif text-stone-900 mb-5",children:"Sign in with email"}),D&&l.jsx("p",{className:"max-w-sm mx-auto mb-3 text-sm text-red-600 text-left",children:D}),l.jsxs("form",{onSubmit:A,className:"max-w-sm mx-auto text-left space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signin-email",className:"block text-sm font-medium text-stone-700 mb-1",children:"Your email"}),l.jsx("input",{id:"signin-email",type:"email",value:P,onChange:T=>_(T.target.value),placeholder:"Enter your email address",className:"w-full px-3 py-2 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm",autoComplete:"email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signin-password",className:"block text-sm font-medium text-stone-700 mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"signin-password",type:C?"text":"password",value:j,onChange:T=>O(T.target.value),placeholder:"Enter your password",className:"w-full px-3 py-2 pr-10 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm",autoComplete:"current-password"}),l.jsx("button",{type:"button",onClick:()=>M(T=>!T),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-stone-400 hover:text-stone-600 transition-colors","aria-label":C?"Hide password":"Show password",children:C?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})})]})]}),l.jsx("button",{type:"submit",disabled:$,className:"w-full mt-4 bg-stone-900 text-white font-bold py-3 rounded-full hover:bg-stone-800 transition-all text-sm disabled:opacity-60 disabled:cursor-not-allowed",children:$?"Signing in":"Sign in"})]}),l.jsxs("div",{className:"mt-6 space-y-2",children:[l.jsx("button",{type:"button",onClick:()=>{a("signin"),q("")},className:"text-stone-600 font-medium hover:text-stone-900 transition-colors text-sm",children:"Back to sign in options"}),l.jsxs("p",{className:"text-stone-600 font-medium text-sm",children:["No account? ",l.jsx("button",{type:"button",onClick:()=>a("signup-email"),className:"text-stone-900 font-bold hover:underline",children:"Create one"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-10 h-10 text-stone-900",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-serif text-stone-900 mb-5",children:"Sign up with email"}),N&&l.jsx("p",{className:"max-w-sm mx-auto mb-3 text-sm text-red-600 text-left",children:N}),l.jsxs("form",{onSubmit:B,className:"max-w-sm mx-auto text-left space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-stone-700 mb-1",children:"Your email"}),l.jsx("input",{id:"signup-email",type:"email",value:c,onChange:T=>u(T.target.value),placeholder:"Enter your email address",className:"w-full px-3 py-2 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm",autoComplete:"email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signup-name",className:"block text-sm font-medium text-stone-700 mb-1",children:"Name"}),l.jsx("input",{id:"signup-name",type:"text",value:v,onChange:T=>g(T.target.value),placeholder:"Enter your full name",className:"w-full px-3 py-2 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm",autoComplete:"name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signup-phone",className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone number"}),l.jsx("input",{id:"signup-phone",type:"tel",value:d,onChange:T=>s(T.target.value),placeholder:"Enter your phone number",className:"w-full px-3 py-2 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm",autoComplete:"tel"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signup-password",className:"block text-sm font-medium text-stone-700 mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"signup-password",type:x?"text":"password",value:h,onChange:T=>b(T.target.value),placeholder:"Create a password (min. 6 characters)",className:"w-full px-3 py-2 pr-10 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm",autoComplete:"new-password"}),l.jsx("button",{type:"button",onClick:()=>m(T=>!T),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-stone-400 hover:text-stone-600 transition-colors","aria-label":x?"Hide password":"Show password",children:x?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}):l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})})]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-sm font-medium text-stone-700 mb-2",children:"I am a"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"signup-role",checked:y==="reader",onChange:()=>w("reader"),className:"text-stone-900 focus:ring-stone-900"}),l.jsx("span",{className:"text-stone-700 text-sm",children:"Reader"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"signup-role",checked:y==="writer",onChange:()=>w("writer"),className:"text-stone-900 focus:ring-stone-900"}),l.jsx("span",{className:"text-stone-700 text-sm",children:"Writer"})]})]})]}),y==="writer"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"signup-penname",className:"block text-sm font-medium text-stone-700 mb-1",children:"Pen name"}),l.jsx("input",{id:"signup-penname",type:"text",value:p,onChange:T=>f(T.target.value),placeholder:"Your pen name",className:"w-full px-3 py-2 border border-stone-300 rounded-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 outline-none transition-all placeholder:text-stone-400 text-sm"})]}),l.jsx("button",{type:"submit",disabled:S,className:"w-full mt-4 bg-stone-900 text-white font-bold py-3 rounded-full hover:bg-stone-800 transition-all text-sm disabled:opacity-60 disabled:cursor-not-allowed",children:S?"Creating account":"Create account"})]}),l.jsxs("div",{className:"mt-6 space-y-2",children:[l.jsx("button",{type:"button",onClick:()=>a("signin"),className:"text-stone-600 font-medium hover:text-stone-900 transition-colors",children:"Back to sign up options"}),l.jsxs("p",{className:"text-stone-600 font-medium text-sm",children:["Already have an account? ",l.jsx("button",{onClick:()=>a("signin"),className:"text-stone-900 font-bold hover:underline",children:"Sign in"})]})]}),l.jsxs("div",{className:"mt-4 text-[10px] text-stone-400 leading-snug max-w-xs mx-auto",children:[`By clicking "Create Account", you accept Pennit's `,l.jsx("button",{type:"button",className:"underline",children:"Terms of Service"})," and ",l.jsx("button",{type:"button",className:"underline",children:"Privacy Policy"}),". reCAPTCHA applies."]})]})})]})]})]})}function no({icon:e,label:t,onClick:n}){const r={google:l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),facebook:l.jsx("path",{fill:"#1877F2",d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"}),apple:l.jsx("path",{d:"M12.152 6.896c-.694 0-1.31.351-1.563.351-.253 0-.896-.351-1.446-.351-1.616 0-3.001 1.189-3.001 3.523 0 2.606 1.854 5.591 3.435 5.591.545 0 .808-.303 1.454-.303s.909.303 1.454.303c1.581 0 3.12-2.343 3.12-3.279 0-.053-.014-.074-.015-.075-.011-.021-1.206-.438-1.206-1.896 0-1.22 1.014-1.815 1.064-1.843.033-.019.039-.033.038-.049-.348-1.261-1.788-2.022-3.334-2.022zm-.251-1.12c.732-1.11 1.798-1.554 1.798-1.554l.03-.005.008.031c.002.008.035.129.035.267 0 1.026-.814 1.96-1.742 2.115-.815.132-1.716-.484-1.716-.484l-.042-.027.016-.048c.023-.07 1.047-1.184 1.613-1.691z"}),x:l.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932 6.064-6.932zm-1.292 19.487h2.039L6.486 3.236H4.297l13.312 17.404z"}),email:l.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884zM18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})};return l.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-center gap-3 px-6 py-3.5 border border-stone-200 rounded-none hover:bg-stone-50 transition-all duration-200 group",children:[l.jsx("span",{className:"flex-shrink-0",children:e==="google"?r.google:l.jsx("svg",{className:"w-5 h-5 fill-stone-900",viewBox:"0 0 24 24",children:r[e]})}),l.jsx("span",{className:"text-sm font-medium text-stone-700 group-hover:text-stone-900",children:t})]})}function Yy(){const[e,t]=z.useState("forYou"),[n,r]=z.useState([]),[o,i]=z.useState(!0),[a,c]=z.useState(null),u=Pt();z.useEffect(()=>{Hu().then(r).catch(()=>r([])).finally(()=>i(!1))},[]);const v=s=>{const h=new Date(s),y=Math.floor((new Date-h)/(1e3*60*60*24));return y===0?"Today":y===1?"1d ago":y<7?`${y}d ago`:h.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},g=s=>s>=1e3?`${(s/1e3).toFixed(1)}K`:s.toString(),d=async s=>{if(u){r(h=>h.map(b=>{if(b.id!==s)return b;const y=!!b._saved,w=b.saveCount??0,p=!y,f=Math.max(0,w+(p?1:-1));return{...b,_saved:p,saveCount:f}}));try{const h=await Yp(s,u.id);r(b=>b.map(y=>y.id===s?{...y,saveCount:h.saveCount,_saved:h.saved}:y))}catch{r(h=>h.map(b=>{if(b.id!==s)return b;const y=!!b._saved,w=b.saveCount??0,p=!y,f=Math.max(0,w+(p?1:-1));return{...b,_saved:p,saveCount:f}}))}}};return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[l.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-100 -mx-4 sm:-mx-6 -mt-6 sm:-mt-8 px-4 sm:px-6 py-3 mb-6 sm:mb-8 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-700",children:[l.jsx("span",{className:"text-yellow-500",children:""}),l.jsxs("span",{children:[l.jsx("strong",{children:"Pre-launch:"})," Launching FebruaryMarch 2026. Join now to be part of the community from day one."]})]}),l.jsx("button",{className:"text-stone-400 hover:text-stone-600",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex gap-6 border-b border-stone-200 mb-8",children:[l.jsxs("button",{onClick:()=>t("forYou"),className:`pb-4 text-sm font-medium transition-colors relative ${e==="forYou"?"text-stone-900":"text-stone-500 hover:text-stone-700"}`,children:["For you",e==="forYou"&&l.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-px bg-stone-900"})]}),l.jsxs("button",{onClick:()=>t("featured"),className:`pb-4 text-sm font-medium transition-colors relative ${e==="featured"?"text-stone-900":"text-stone-500 hover:text-stone-700"}`,children:["Featured",e==="featured"&&l.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-px bg-stone-900"})]})]}),l.jsx("div",{className:"space-y-8",children:o?Array.from({length:3}).map((s,h)=>l.jsx(Xy,{},h)):n.map(s=>{const h=s.author;return l.jsx(Qy,{id:s.id,author:h,title:s.title,excerpt:s.excerpt,date:v(s.createdAt),reads:g(s.readCount),comments:s.commentCount??0,category:s.category,publication:s.genre,thumbnailUrl:s.thumbnailUrl,clapCount:s.clapCount,saved:s._saved,onToggleSave:()=>d(s.id),disabled:!!a},s.id)})})]})}function Qy({id:e,author:t,title:n,excerpt:r,date:o,reads:i,comments:a,category:c,publication:u,thumbnailUrl:v,clapCount:g,saved:d,onToggleSave:s,disabled:h}){var p;const[b,y]=z.useState(!1),w=z.useRef(null);return z.useEffect(()=>{if(!b)return;const f=x=>{w.current&&!w.current.contains(x.target)&&y(!1)};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[b]),l.jsxs("article",{className:"group",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 min-w-0",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-stone-300 flex-shrink-0 overflow-hidden",children:t!=null&&t.avatarUrl?l.jsx("img",{src:t.avatarUrl,alt:t.penName,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-stone-400 to-stone-500 flex items-center justify-center text-white text-xs font-medium",children:((p=t==null?void 0:t.penName)==null?void 0:p[0])||"A"})}),l.jsxs("div",{className:"flex items-center gap-1 text-sm min-w-0 truncate",children:[u&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-stone-500",children:"In"}),l.jsx(de,{to:`/publication/${u.toLowerCase().replace(/\s+/g,"-")}`,className:"font-medium text-stone-700 hover:underline",children:u}),l.jsx("span",{className:"text-stone-500",children:"by"})]}),l.jsx(de,{to:`/author/${t==null?void 0:t.id}`,className:"font-medium text-stone-900 hover:underline",children:(t==null?void 0:t.penName)||"Anonymous"})]})]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:gap-6 gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0 order-2 md:order-1",children:[l.jsx(de,{to:`/reading/${e}`,state:{from:"home"},children:l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-stone-900 mb-2 leading-snug group-hover:underline line-clamp-2",children:n})}),l.jsx("p",{className:"text-stone-600 text-sm sm:text-base leading-relaxed line-clamp-2 mb-4",children:r}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-sm text-stone-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-yellow-500",children:""}),l.jsx("span",{children:o})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 flex-shrink-0",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),l.jsx("span",{children:i})]}),l.jsxs("div",{className:"flex items-center gap-1 text-stone-500",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 flex-shrink-0",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3c-4.31 0-8 3.033-8 7 0 2.024.978 3.825 2.499 5.085a3.478 3.478 0 0 1-.522 1.756.75.75 0 0 0 .584 1.143 5.976 5.976 0 0 0 3.936-1.108c.487.082.99.124 1.503.124 4.31 0 8-3.033 8-7s-3.69-7-8-7Z",clipRule:"evenodd"})}),l.jsx("span",{children:a})]}),l.jsx("div",{className:"flex-1 min-w-0"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 px-3 h-8 rounded-full text-xs font-medium border border-stone-300 bg-white text-stone-600","aria-label":`${Math.max(0,g??0)} claps`,children:[l.jsx("span",{className:"text-base leading-none",children:""}),l.jsx("span",{children:Math.max(0,g??0)})]}),l.jsx("button",{type:"button",disabled:h,onClick:s,className:`w-8 h-8 flex items-center justify-center rounded-full border transition-colors ${d?"border-blue-500 text-white bg-blue-500":"border-stone-300 text-stone-400 bg-white hover:border-stone-400 hover:text-stone-600"}`,children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:d?"currentColor":"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3h-6"})]})}),l.jsxs("div",{className:"relative",ref:w,children:[l.jsx("button",{type:"button",disabled:h,onClick:f=>{f.stopPropagation(),y(x=>!x)},className:"w-8 h-8 flex items-center justify-center rounded-full border border-stone-300 text-stone-400 bg-white hover:border-stone-400 hover:text-stone-600 transition-colors","aria-label":"More options","aria-expanded":b,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4",children:l.jsx("path",{fillRule:"evenodd",d:"M6 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",clipRule:"evenodd"})})}),b&&l.jsxs("div",{className:"absolute right-0 top-full mt-1 pt-1.5 z-50",children:[l.jsx("div",{className:"absolute right-4 top-0 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[6px] border-b-white drop-shadow-[0_-1px_1px_rgba(0,0,0,0.06)]"}),l.jsxs("div",{className:"min-w-[240px] rounded-lg bg-white border border-stone-200 shadow-lg py-1",children:[l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-t-lg",onClick:()=>y(!1),children:"Follow author"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-none",onClick:()=>y(!1),children:"Follow publication"}),l.jsx("div",{className:"my-1 border-t border-stone-200"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-none",onClick:()=>y(!1),children:"Mute author"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-none",onClick:()=>y(!1),children:"Mute publication"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-stone-50 rounded-b-lg",onClick:()=>y(!1),children:"Report story"})]})]})]})]})]})]}),l.jsx(de,{to:`/reading/${e}`,state:{from:"home"},className:"order-1 md:order-2 flex-shrink-0 w-full md:w-44 md:h-28",children:l.jsx("div",{className:"w-full aspect-video md:aspect-auto md:w-44 md:h-28 rounded-lg overflow-hidden bg-stone-200",children:v?l.jsx("img",{src:Fn(v),alt:n,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400"})})})]}),l.jsx("div",{className:"border-b border-stone-200 mt-8"})]})}function Xy(){return l.jsxs("article",{className:"animate-pulse",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-stone-200"}),l.jsx("div",{className:"flex-1 h-3 bg-stone-200 rounded-full max-w-xs"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:gap-6 gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0 space-y-3 order-2 md:order-1",children:[l.jsx("div",{className:"h-5 bg-stone-200 rounded-full max-w-sm"}),l.jsx("div",{className:"h-4 bg-stone-200 rounded-full max-w-md"}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsx("div",{className:"h-3 w-16 bg-stone-200 rounded-full"}),l.jsx("div",{className:"h-3 w-12 bg-stone-200 rounded-full"}),l.jsx("div",{className:"h-3 w-12 bg-stone-200 rounded-full"})]})]}),l.jsx("div",{className:"order-1 md:order-2 flex-shrink-0 w-full md:w-44 md:h-28",children:l.jsx("div",{className:"w-full aspect-video md:aspect-auto md:w-44 md:h-28 rounded-lg bg-stone-200"})})]}),l.jsx("div",{className:"border-b border-stone-200 mt-8"})]})}const em=[{value:"all",label:"All"},{value:"poem",label:"Poems"},{value:"short_story",label:"Short Stories"},{value:"novel",label:"Novels"}],Jy=[{value:"popular",label:"Popular"},{value:"newest",label:"Newest"}];function Lf(e){var t;return((t=e.author)==null?void 0:t.penName)||"Unknown"}function ex(e){var t;return((t=em.find(n=>n.value===e))==null?void 0:t.label)||e}function tx(){const[e,t]=z.useState([]),[n,r]=z.useState(!0),[o,i]=z.useState("all"),[a,c]=z.useState("popular"),[u,v]=z.useState("");z.useEffect(()=>{Hu().then(s=>{t(s),r(!1)})},[]);const d=[...e.filter(s=>s.status!=="draft").filter(s=>o==="all"||s.category===o).filter(s=>{if(!u.trim())return!0;const h=u.toLowerCase(),b=Lf(s).toLowerCase();return s.title.toLowerCase().includes(h)||b.includes(h)||s.genre&&s.genre.toLowerCase().includes(h)})].sort((s,h)=>a==="popular"?(h.readCount||0)-(s.readCount||0):new Date(h.createdAt)-new Date(s.createdAt));return n?l.jsx("div",{className:"w-full min-w-0 max-w-5xl mx-auto px-4 py-16 text-center",children:l.jsxs("div",{className:"inline-flex items-center gap-2 text-stone-500",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),l.jsx("span",{children:"Loading stories"})]})}):l.jsxs("div",{className:"w-full min-w-0 max-w-5xl mx-auto px-4 sm:px-6 py-8 sm:py-10 overflow-x-hidden",children:[l.jsxs("header",{className:"mb-8 sm:mb-10 min-w-0",children:[l.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-stone-900 font-serif tracking-tight",children:"Discover"}),l.jsx("p",{className:"mt-2 text-stone-600 text-base sm:text-lg break-words",children:"Stories from African writers  poems, short stories, and novels."})]}),l.jsxs("div",{className:"space-y-4 mb-8 min-w-0",children:[l.jsxs("div",{className:"relative w-full min-w-0",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),l.jsx("input",{type:"search",placeholder:"Search by title, author, or genre",value:u,onChange:s=>v(s.target.value),className:"w-full min-w-0 pl-10 pr-4 py-3 rounded-xl border border-stone-200 bg-white/80 text-stone-900 placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition shadow-sm box-border"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 min-w-0",children:[em.map(s=>l.jsx("button",{type:"button",onClick:()=>i(s.value),className:`px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition flex-shrink-0 ${o===s.value?"bg-yellow-400 text-stone-900 shadow-sm":"bg-white/80 text-stone-600 border border-stone-200 hover:border-stone-300 hover:bg-stone-50"}`,children:s.label},s.value)),l.jsx("span",{className:"text-stone-300 flex-shrink-0 hidden sm:inline",children:""}),l.jsx("select",{value:a,onChange:s=>c(s.target.value),className:"px-3 py-2 rounded-full border border-stone-200 bg-white/80 text-stone-600 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 flex-shrink-0",children:Jy.map(s=>l.jsx("option",{value:s.value,children:s.label},s.value))})]})]}),l.jsx("ul",{className:"space-y-1 min-w-0",children:d.map(s=>l.jsx("li",{className:"min-w-0",children:l.jsxs(de,{to:`/reading/${s.id}`,className:"flex items-center gap-2 py-2.5 text-stone-700 hover:text-yellow-700 transition-colors min-w-0 overflow-hidden",children:[l.jsx("span",{className:"font-semibold text-stone-900 truncate min-w-0 flex-1",children:s.title}),l.jsx("span",{className:"text-stone-400 flex-shrink-0",children:""}),l.jsx("span",{className:"text-stone-500 truncate min-w-0 shrink",children:Lf(s)}),l.jsx("span",{className:"text-stone-400 flex-shrink-0 hidden sm:inline",children:""}),l.jsx("span",{className:"text-stone-500 text-sm truncate flex-shrink-0 hidden sm:inline",children:ex(s.category)}),l.jsx("span",{className:"text-stone-400 flex-shrink-0 hidden sm:inline",children:""}),l.jsxs("span",{className:"text-stone-400 text-sm flex-shrink-0",children:[s.readCount??0," reads"]})]})},s.id))}),d.length===0&&l.jsxs("div",{className:"text-center py-16 px-4 rounded-2xl border border-dashed border-stone-200 bg-white/50",children:[l.jsx("p",{className:"text-stone-600 font-medium",children:"No stories match your filters."}),l.jsx("p",{className:"text-stone-500 text-sm mt-1",children:"Try a different category or search."})]})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:tm,setPrototypeOf:Rf,isFrozen:nx,getPrototypeOf:rx,getOwnPropertyDescriptor:ox}=Object;let{freeze:lt,seal:At,create:Es}=Object,{apply:ks,construct:Os}=typeof Reflect<"u"&&Reflect;lt||(lt=function(t){return t});At||(At=function(t){return t});ks||(ks=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return t.apply(n,o)});Os||(Os=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new t(...r)});const gi=at(Array.prototype.forEach),ix=at(Array.prototype.lastIndexOf),Mf=at(Array.prototype.pop),ro=at(Array.prototype.push),lx=at(Array.prototype.splice),Li=at(String.prototype.toLowerCase),ba=at(String.prototype.toString),wa=at(String.prototype.match),oo=at(String.prototype.replace),ax=at(String.prototype.indexOf),sx=at(String.prototype.trim),Rt=at(Object.prototype.hasOwnProperty),rt=at(RegExp.prototype.test),io=ux(TypeError);function at(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return ks(e,t,r)}}function ux(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Os(e,n)}}function me(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Li;Rf&&Rf(e,null);let r=t.length;for(;r--;){let o=t[r];if(typeof o=="string"){const i=n(o);i!==o&&(nx(t)||(t[r]=i),o=i)}e[o]=!0}return e}function cx(e){for(let t=0;t<e.length;t++)Rt(e,t)||(e[t]=null);return e}function Wt(e){const t=Es(null);for(const[n,r]of tm(e))Rt(e,n)&&(Array.isArray(r)?t[n]=cx(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Wt(r):t[n]=r);return t}function lo(e,t){for(;e!==null;){const r=ox(e,t);if(r){if(r.get)return at(r.get);if(typeof r.value=="function")return at(r.value)}e=rx(e)}function n(){return null}return n}const Df=lt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Na=lt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_a=lt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fx=lt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ja=lt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dx=lt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),If=lt(["#text"]),Ff=lt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Sa=lt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zf=lt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yi=lt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hx=At(/\{\{[\w\W]*|[\w\W]*\}\}/gm),px=At(/<%[\w\W]*|[\w\W]*%>/gm),mx=At(/\$\{[\w\W]*/gm),vx=At(/^data-[\-\w.\u00B7-\uFFFF]+$/),gx=At(/^aria-[\-\w]+$/),nm=At(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yx=At(/^(?:\w+script|data):/i),xx=At(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rm=At(/^html$/i),bx=At(/^[a-z][.\w]*(-[.\w]+)+$/i);var Bf=Object.freeze({__proto__:null,ARIA_ATTR:gx,ATTR_WHITESPACE:xx,CUSTOM_ELEMENT:bx,DATA_ATTR:vx,DOCTYPE_NAME:rm,ERB_EXPR:px,IS_ALLOWED_URI:nm,IS_SCRIPT_OR_DATA:yx,MUSTACHE_EXPR:hx,TMPLIT_EXPR:mx});const ao={element:1,text:3,progressingInstruction:7,comment:8,document:9},wx=function(){return typeof window>"u"?null:window},Nx=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(r=n.getAttribute(o));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Uf=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function om(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wx();const t=le=>om(le);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==ao.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,o=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:c,Element:u,NodeFilter:v,NamedNodeMap:g=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:s,trustedTypes:h}=e,b=u.prototype,y=lo(b,"cloneNode"),w=lo(b,"remove"),p=lo(b,"nextSibling"),f=lo(b,"childNodes"),x=lo(b,"parentNode");if(typeof a=="function"){const le=n.createElement("template");le.content&&le.content.ownerDocument&&(n=le.content.ownerDocument)}let m,N="";const{implementation:k,createNodeIterator:S,createDocumentFragment:E,getElementsByTagName:P}=n,{importNode:_}=r;let j=Uf();t.isSupported=typeof tm=="function"&&typeof x=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:O,ERB_EXPR:C,TMPLIT_EXPR:M,DATA_ATTR:D,ARIA_ATTR:q,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:B}=Bf;let{IS_ALLOWED_URI:A}=Bf,T=null;const R=me({},[...Df,...Na,..._a,...ja,...If]);let I=null;const V=me({},[...Ff,...Sa,...zf,...yi]);let F=Object.seal(Es(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),L=null,U=null;const K=Object.seal(Es(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Z=!0,J=!0,re=!1,se=!0,ue=!1,he=!0,pe=!1,Me=!1,we=!1,Y=!1,G=!1,Q=!1,ee=!0,X=!1;const ae="user-content-";let fe=!0,ce=!1,De={},ze=null;const be=me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Zo=null;const Te=me({},["audio","video","img","source","image","track"]);let jt=null;const Zu=me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yo="http://www.w3.org/1998/Math/MathML",Qo="http://www.w3.org/2000/svg",Qt="http://www.w3.org/1999/xhtml";let rr=Qt,Bl=!1,Ul=null;const Cm=me({},[Yo,Qo,Qt],ba);let Xo=me({},["mi","mo","mn","ms","mtext"]),Jo=me({},["annotation-xml"]);const Am=me({},["title","style","font","a","script"]);let Gr=null;const Pm=["application/xhtml+xml","text/html"],Lm="text/html";let qe=null,or=null;const Rm=n.createElement("form"),Yu=function(H){return H instanceof RegExp||H instanceof Function},ql=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(or&&or===H)){if((!H||typeof H!="object")&&(H={}),H=Wt(H),Gr=Pm.indexOf(H.PARSER_MEDIA_TYPE)===-1?Lm:H.PARSER_MEDIA_TYPE,qe=Gr==="application/xhtml+xml"?ba:Li,T=Rt(H,"ALLOWED_TAGS")?me({},H.ALLOWED_TAGS,qe):R,I=Rt(H,"ALLOWED_ATTR")?me({},H.ALLOWED_ATTR,qe):V,Ul=Rt(H,"ALLOWED_NAMESPACES")?me({},H.ALLOWED_NAMESPACES,ba):Cm,jt=Rt(H,"ADD_URI_SAFE_ATTR")?me(Wt(Zu),H.ADD_URI_SAFE_ATTR,qe):Zu,Zo=Rt(H,"ADD_DATA_URI_TAGS")?me(Wt(Te),H.ADD_DATA_URI_TAGS,qe):Te,ze=Rt(H,"FORBID_CONTENTS")?me({},H.FORBID_CONTENTS,qe):be,L=Rt(H,"FORBID_TAGS")?me({},H.FORBID_TAGS,qe):Wt({}),U=Rt(H,"FORBID_ATTR")?me({},H.FORBID_ATTR,qe):Wt({}),De=Rt(H,"USE_PROFILES")?H.USE_PROFILES:!1,Z=H.ALLOW_ARIA_ATTR!==!1,J=H.ALLOW_DATA_ATTR!==!1,re=H.ALLOW_UNKNOWN_PROTOCOLS||!1,se=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ue=H.SAFE_FOR_TEMPLATES||!1,he=H.SAFE_FOR_XML!==!1,pe=H.WHOLE_DOCUMENT||!1,Y=H.RETURN_DOM||!1,G=H.RETURN_DOM_FRAGMENT||!1,Q=H.RETURN_TRUSTED_TYPE||!1,we=H.FORCE_BODY||!1,ee=H.SANITIZE_DOM!==!1,X=H.SANITIZE_NAMED_PROPS||!1,fe=H.KEEP_CONTENT!==!1,ce=H.IN_PLACE||!1,A=H.ALLOWED_URI_REGEXP||nm,rr=H.NAMESPACE||Qt,Xo=H.MATHML_TEXT_INTEGRATION_POINTS||Xo,Jo=H.HTML_INTEGRATION_POINTS||Jo,F=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&Yu(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&Yu(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ue&&(J=!1),G&&(Y=!0),De&&(T=me({},If),I=[],De.html===!0&&(me(T,Df),me(I,Ff)),De.svg===!0&&(me(T,Na),me(I,Sa),me(I,yi)),De.svgFilters===!0&&(me(T,_a),me(I,Sa),me(I,yi)),De.mathMl===!0&&(me(T,ja),me(I,zf),me(I,yi))),H.ADD_TAGS&&(typeof H.ADD_TAGS=="function"?K.tagCheck=H.ADD_TAGS:(T===R&&(T=Wt(T)),me(T,H.ADD_TAGS,qe))),H.ADD_ATTR&&(typeof H.ADD_ATTR=="function"?K.attributeCheck=H.ADD_ATTR:(I===V&&(I=Wt(I)),me(I,H.ADD_ATTR,qe))),H.ADD_URI_SAFE_ATTR&&me(jt,H.ADD_URI_SAFE_ATTR,qe),H.FORBID_CONTENTS&&(ze===be&&(ze=Wt(ze)),me(ze,H.FORBID_CONTENTS,qe)),H.ADD_FORBID_CONTENTS&&(ze===be&&(ze=Wt(ze)),me(ze,H.ADD_FORBID_CONTENTS,qe)),fe&&(T["#text"]=!0),pe&&me(T,["html","head","body"]),T.table&&(me(T,["tbody"]),delete L.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw io('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw io('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');m=H.TRUSTED_TYPES_POLICY,N=m.createHTML("")}else m===void 0&&(m=Nx(h,o)),m!==null&&typeof N=="string"&&(N=m.createHTML(""));lt&&lt(H),or=H}},Qu=me({},[...Na,..._a,...fx]),Xu=me({},[...ja,...dx]),Mm=function(H){let ne=x(H);(!ne||!ne.tagName)&&(ne={namespaceURI:rr,tagName:"template"});const ie=Li(H.tagName),ke=Li(ne.tagName);return Ul[H.namespaceURI]?H.namespaceURI===Qo?ne.namespaceURI===Qt?ie==="svg":ne.namespaceURI===Yo?ie==="svg"&&(ke==="annotation-xml"||Xo[ke]):!!Qu[ie]:H.namespaceURI===Yo?ne.namespaceURI===Qt?ie==="math":ne.namespaceURI===Qo?ie==="math"&&Jo[ke]:!!Xu[ie]:H.namespaceURI===Qt?ne.namespaceURI===Qo&&!Jo[ke]||ne.namespaceURI===Yo&&!Xo[ke]?!1:!Xu[ie]&&(Am[ie]||!Qu[ie]):!!(Gr==="application/xhtml+xml"&&Ul[H.namespaceURI]):!1},Ut=function(H){ro(t.removed,{element:H});try{x(H).removeChild(H)}catch{w(H)}},zn=function(H,ne){try{ro(t.removed,{attribute:ne.getAttributeNode(H),from:ne})}catch{ro(t.removed,{attribute:null,from:ne})}if(ne.removeAttribute(H),H==="is")if(Y||G)try{Ut(ne)}catch{}else try{ne.setAttribute(H,"")}catch{}},Ju=function(H){let ne=null,ie=null;if(we)H="<remove></remove>"+H;else{const Be=wa(H,/^[\r\n\t ]+/);ie=Be&&Be[0]}Gr==="application/xhtml+xml"&&rr===Qt&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const ke=m?m.createHTML(H):H;if(rr===Qt)try{ne=new s().parseFromString(ke,Gr)}catch{}if(!ne||!ne.documentElement){ne=k.createDocument(rr,"template",null);try{ne.documentElement.innerHTML=Bl?N:ke}catch{}}const Xe=ne.body||ne.documentElement;return H&&ie&&Xe.insertBefore(n.createTextNode(ie),Xe.childNodes[0]||null),rr===Qt?P.call(ne,pe?"html":"body")[0]:pe?ne.documentElement:Xe},ec=function(H){return S.call(H.ownerDocument||H,H,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},Hl=function(H){return H instanceof d&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof g)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},tc=function(H){return typeof c=="function"&&H instanceof c};function Xt(le,H,ne){gi(le,ie=>{ie.call(t,H,ne,or)})}const nc=function(H){let ne=null;if(Xt(j.beforeSanitizeElements,H,null),Hl(H))return Ut(H),!0;const ie=qe(H.nodeName);if(Xt(j.uponSanitizeElement,H,{tagName:ie,allowedTags:T}),he&&H.hasChildNodes()&&!tc(H.firstElementChild)&&rt(/<[/\w!]/g,H.innerHTML)&&rt(/<[/\w!]/g,H.textContent)||H.nodeType===ao.progressingInstruction||he&&H.nodeType===ao.comment&&rt(/<[/\w]/g,H.data))return Ut(H),!0;if(!(K.tagCheck instanceof Function&&K.tagCheck(ie))&&(!T[ie]||L[ie])){if(!L[ie]&&oc(ie)&&(F.tagNameCheck instanceof RegExp&&rt(F.tagNameCheck,ie)||F.tagNameCheck instanceof Function&&F.tagNameCheck(ie)))return!1;if(fe&&!ze[ie]){const ke=x(H)||H.parentNode,Xe=f(H)||H.childNodes;if(Xe&&ke){const Be=Xe.length;for(let ct=Be-1;ct>=0;--ct){const Jt=y(Xe[ct],!0);Jt.__removalCount=(H.__removalCount||0)+1,ke.insertBefore(Jt,p(H))}}}return Ut(H),!0}return H instanceof u&&!Mm(H)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&rt(/<\/no(script|embed|frames)/i,H.innerHTML)?(Ut(H),!0):(ue&&H.nodeType===ao.text&&(ne=H.textContent,gi([O,C,M],ke=>{ne=oo(ne,ke," ")}),H.textContent!==ne&&(ro(t.removed,{element:H.cloneNode()}),H.textContent=ne)),Xt(j.afterSanitizeElements,H,null),!1)},rc=function(H,ne,ie){if(ee&&(ne==="id"||ne==="name")&&(ie in n||ie in Rm))return!1;if(!(J&&!U[ne]&&rt(D,ne))){if(!(Z&&rt(q,ne))){if(!(K.attributeCheck instanceof Function&&K.attributeCheck(ne,H))){if(!I[ne]||U[ne]){if(!(oc(H)&&(F.tagNameCheck instanceof RegExp&&rt(F.tagNameCheck,H)||F.tagNameCheck instanceof Function&&F.tagNameCheck(H))&&(F.attributeNameCheck instanceof RegExp&&rt(F.attributeNameCheck,ne)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(ne,H))||ne==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&rt(F.tagNameCheck,ie)||F.tagNameCheck instanceof Function&&F.tagNameCheck(ie))))return!1}else if(!jt[ne]){if(!rt(A,oo(ie,W,""))){if(!((ne==="src"||ne==="xlink:href"||ne==="href")&&H!=="script"&&ax(ie,"data:")===0&&Zo[H])){if(!(re&&!rt($,oo(ie,W,"")))){if(ie)return!1}}}}}}}return!0},oc=function(H){return H!=="annotation-xml"&&wa(H,B)},ic=function(H){Xt(j.beforeSanitizeAttributes,H,null);const{attributes:ne}=H;if(!ne||Hl(H))return;const ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let ke=ne.length;for(;ke--;){const Xe=ne[ke],{name:Be,namespaceURI:ct,value:Jt}=Xe,ir=qe(Be),$l=Jt;let Ke=Be==="value"?$l:sx($l);if(ie.attrName=ir,ie.attrValue=Ke,ie.keepAttr=!0,ie.forceKeepAttr=void 0,Xt(j.uponSanitizeAttribute,H,ie),Ke=ie.attrValue,X&&(ir==="id"||ir==="name")&&(zn(Be,H),Ke=ae+Ke),he&&rt(/((--!?|])>)|<\/(style|title|textarea)/i,Ke)){zn(Be,H);continue}if(ir==="attributename"&&wa(Ke,"href")){zn(Be,H);continue}if(ie.forceKeepAttr)continue;if(!ie.keepAttr){zn(Be,H);continue}if(!se&&rt(/\/>/i,Ke)){zn(Be,H);continue}ue&&gi([O,C,M],ac=>{Ke=oo(Ke,ac," ")});const lc=qe(H.nodeName);if(!rc(lc,ir,Ke)){zn(Be,H);continue}if(m&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!ct)switch(h.getAttributeType(lc,ir)){case"TrustedHTML":{Ke=m.createHTML(Ke);break}case"TrustedScriptURL":{Ke=m.createScriptURL(Ke);break}}if(Ke!==$l)try{ct?H.setAttributeNS(ct,Be,Ke):H.setAttribute(Be,Ke),Hl(H)?Ut(H):Mf(t.removed)}catch{zn(Be,H)}}Xt(j.afterSanitizeAttributes,H,null)},Dm=function le(H){let ne=null;const ie=ec(H);for(Xt(j.beforeSanitizeShadowDOM,H,null);ne=ie.nextNode();)Xt(j.uponSanitizeShadowNode,ne,null),nc(ne),ic(ne),ne.content instanceof i&&le(ne.content);Xt(j.afterSanitizeShadowDOM,H,null)};return t.sanitize=function(le){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=null,ie=null,ke=null,Xe=null;if(Bl=!le,Bl&&(le="<!-->"),typeof le!="string"&&!tc(le))if(typeof le.toString=="function"){if(le=le.toString(),typeof le!="string")throw io("dirty is not a string, aborting")}else throw io("toString is not a function");if(!t.isSupported)return le;if(Me||ql(H),t.removed=[],typeof le=="string"&&(ce=!1),ce){if(le.nodeName){const Jt=qe(le.nodeName);if(!T[Jt]||L[Jt])throw io("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof c)ne=Ju("<!---->"),ie=ne.ownerDocument.importNode(le,!0),ie.nodeType===ao.element&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?ne=ie:ne.appendChild(ie);else{if(!Y&&!ue&&!pe&&le.indexOf("<")===-1)return m&&Q?m.createHTML(le):le;if(ne=Ju(le),!ne)return Y?null:Q?N:""}ne&&we&&Ut(ne.firstChild);const Be=ec(ce?le:ne);for(;ke=Be.nextNode();)nc(ke),ic(ke),ke.content instanceof i&&Dm(ke.content);if(ce)return le;if(Y){if(G)for(Xe=E.call(ne.ownerDocument);ne.firstChild;)Xe.appendChild(ne.firstChild);else Xe=ne;return(I.shadowroot||I.shadowrootmode)&&(Xe=_.call(r,Xe,!0)),Xe}let ct=pe?ne.outerHTML:ne.innerHTML;return pe&&T["!doctype"]&&ne.ownerDocument&&ne.ownerDocument.doctype&&ne.ownerDocument.doctype.name&&rt(rm,ne.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+ne.ownerDocument.doctype.name+`>
`+ct),ue&&gi([O,C,M],Jt=>{ct=oo(ct,Jt," ")}),m&&Q?m.createHTML(ct):ct},t.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ql(le),Me=!0},t.clearConfig=function(){or=null,Me=!1},t.isValidAttribute=function(le,H,ne){or||ql({});const ie=qe(le),ke=qe(H);return rc(ie,ke,ne)},t.addHook=function(le,H){typeof H=="function"&&ro(j[le],H)},t.removeHook=function(le,H){if(H!==void 0){const ne=ix(j[le],H);return ne===-1?void 0:lx(j[le],ne,1)[0]}return Mf(j[le])},t.removeHooks=function(le){j[le]=[]},t.removeAllHooks=function(){j=Uf()},t}var im=om();function qf(e){const t=Math.max(0,Number(e)??0);return t>=1e3?`${(t/1e3).toFixed(1)}K`:String(t)}function _x(e){return e?e.replace(/<[^>]*>/g," ").replace(/&nbsp;/g," "):""}function jx(){var Me,we,Y;const{id:e}=Tl(),t=dn(),n=In(),[r,o]=z.useState(null),[i,a]=z.useState(!0),[c,u]=z.useState(!1),[v,g]=z.useState(0),[d,s]=z.useState(!1),[h,b]=z.useState([]),[y,w]=z.useState(""),[p,f]=z.useState(!1),[x,m]=z.useState(!1),[N,k]=z.useState(!1),[S,E]=z.useState(null),[P,_]=z.useState(""),j=z.useRef(null),O=z.useRef(null),C=z.useRef(null),M=z.useRef(null),D=z.useRef(null),q=((Me=t.state)==null?void 0:Me.from)==="home",$=q?"/home":"/reader",W=q?"Back to home":"Back to discover",B=()=>n($),A=Pt(),{monetizationEnabled:T}=Al(),[R,I]=z.useState(!0),[V,F]=z.useState(!1),L=!T||V;z.useEffect(()=>{if(!e){a(!1);return}$u(e).then(G=>{o(G),g(Math.max(0,G.clapCount??0))}).catch(()=>o(null)).finally(()=>a(!1))},[e]),z.useEffect(()=>{!e||!(A!=null&&A.id)||Ey(e,A.id).then(G=>{u(!!G.clapped),g(Math.max(0,G.clapCount??0))}).catch(()=>{})},[e,A==null?void 0:A.id]),z.useEffect(()=>{!e||!(A!=null&&A.id)||Qp(A.id).then(G=>{const Q=Array.isArray(G)?G.map(ee=>ee.id||ee._id):[];s(Q.includes(e))}).catch(()=>{})},[e,A==null?void 0:A.id]),z.useEffect(()=>{e&&(f(!0),jy(e,{limit:50}).then(b).catch(()=>b([])).finally(()=>f(!1)))},[e]),z.useEffect(()=>{if(!T){I(!1);return}if(!(A!=null&&A.id)){F(!1),I(!1);return}I(!0),Xp(A.id).then(G=>{const Q=G==null?void 0:G.subscription,ee=!!Q&&Q.status==="active"&&Q.currentPeriodEnd&&new Date(Q.currentPeriodEnd)>new Date;F(!!ee)}).catch(()=>F(!1)).finally(()=>I(!1))},[T,A==null?void 0:A.id]),z.useEffect(()=>{if(!x)return;const G=Q=>{j.current&&!j.current.contains(Q.target)&&m(!1)};return document.addEventListener("click",G),()=>document.removeEventListener("click",G)},[x]),z.useEffect(()=>{if(S){const G=setTimeout(()=>{var Q;return(Q=C.current)==null?void 0:Q.focus()},150);return()=>clearTimeout(G)}},[S]);const U=async()=>{if(!(A!=null&&A.id)||N)return;k(!0);const G=c,Q=v;u(!G),g(Math.max(0,Q+(G?-1:1)));try{const ee=await Sy(e,A.id);u(!!ee.clapped),g(Math.max(0,ee.clapCount??0))}catch{u(G),g(Q)}finally{k(!1)}},K=async()=>{if(!(!(A!=null&&A.id)||N)){k(!0);try{const G=await Yp(e,A.id);s(!!G.saved)}catch{}finally{k(!1)}}},Z=async()=>{const G=window.location.href;if(navigator.share)try{await navigator.share({url:G,title:r==null?void 0:r.title})}catch{await navigator.clipboard.writeText(G)}else await navigator.clipboard.writeText(G)},J=async G=>{if(G.preventDefault(),!(!(A!=null&&A.id)||!y.trim()||N)){k(!0);try{const Q=await Tf(e,{content:y.trim(),userId:A.id});b(ee=>[{...Q,userName:A.penName||A.name||"You"},...ee]),w("")}catch{}finally{k(!1)}}},re=G=>{E(G),_(""),setTimeout(()=>{var Q;return(Q=C.current)==null?void 0:Q.focus()},100)},se=async G=>{if(G.preventDefault(),!(!(A!=null&&A.id)||!S||!P.trim()||N)){k(!0);try{const Q=await Tf(e,{content:P.trim(),userId:A.id,parentId:S});b(ee=>[{...Q,userName:A.penName||A.name||"You",parentId:S},...ee]),_(""),E(null)}catch{}finally{k(!1)}}},ue=()=>{var G;(G=O.current)==null||G.scrollIntoView({behavior:"smooth"})};if(z.useEffect(()=>{e&&Oy(e,A==null?void 0:A.id).catch(()=>{})},[e,A==null?void 0:A.id]),z.useEffect(()=>{if(!e||!r||!L)return;M.current=Date.now();const G=()=>{const Q=Math.floor((Date.now()-(M.current||Date.now()))/1e3),ee=document.documentElement.scrollTop||document.body.scrollTop,X=document.documentElement.scrollHeight-document.documentElement.clientHeight,ae=X>0?Math.min(100,Math.round(ee/X*100)):0;Ty(e,{progressPercentage:ae,timeSpent:Q},A==null?void 0:A.id).catch(()=>{})};return D.current=setInterval(G,15e3),()=>{D.current&&clearInterval(D.current),G()}},[e,r,A==null?void 0:A.id,L]),i)return l.jsx(Sx,{});if(!r)return l.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:[l.jsx("p",{className:"text-stone-500 mb-4",children:"Story not found."}),l.jsxs("button",{type:"button",onClick:B,className:"text-yellow-600 font-medium hover:underline",children:[" ",W]})]});const he={poem:"Poem",short_story:"Short Story",novel:"Novel"}[r.category]||r.category,pe=G=>{if(!G)return"";const Q=new Date(G);return Q.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" at "+Q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return l.jsxs("article",{className:"max-w-2xl mx-auto px-4 py-8",children:[l.jsx("button",{type:"button",onClick:B,className:"text-stone-500 text-sm hover:text-yellow-600 mb-6 inline-block",children:" Back"}),l.jsxs("header",{className:"mb-8",children:[l.jsx("p",{className:"text-yellow-600 font-medium text-sm uppercase tracking-wide mb-2",children:he}),l.jsx("h1",{className:"text-3xl font-bold text-stone-900 font-serif",children:r.title}),l.jsx("p",{className:"text-stone-600 mt-2",children:l.jsx(de,{to:`/author/${r.authorId}`,className:"text-yellow-600 hover:underline font-medium",children:((we=r.author)==null?void 0:we.penName)||"Unknown"})}),l.jsxs("p",{className:"text-stone-500 text-sm mt-2",children:["Posted ",pe(r.createdAt),"  ",r.readCount," reads"]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 py-4 mb-6 border-y border-stone-200",children:[l.jsxs("div",{className:"flex items-center gap-6 text-stone-500",children:[l.jsxs("button",{type:"button",onClick:U,disabled:N||!A,className:`flex items-center gap-2 text-sm hover:text-stone-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${c?"text-stone-900":""}`,"aria-label":c?"Unclap":"Clap",children:[l.jsx("span",{className:"text-lg leading-none","aria-hidden":!0,children:""}),l.jsx("span",{children:qf(v)})]}),l.jsxs("button",{type:"button",onClick:ue,className:"flex items-center gap-2 text-sm text-stone-500 hover:text-stone-700 transition-colors","aria-label":"Comments",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"})}),l.jsx("span",{children:qf(p?r.commentCount??0:h.length)})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-stone-500",children:[l.jsx("button",{type:"button",onClick:K,disabled:N||!A,className:"p-2 rounded-full hover:bg-stone-100 hover:text-stone-700 transition-colors disabled:opacity-50","aria-label":d?"Unsave":"Save",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:d?"currentColor":"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3h-6"})]})}),l.jsx("button",{type:"button",onClick:Z,className:"p-2 rounded-full hover:bg-stone-100 hover:text-stone-700 transition-colors","aria-label":"Share",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933 2.185 2.25 2.25 0 0 0-3.933 2.185Z"})})}),l.jsxs("div",{className:"relative",ref:j,children:[l.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),m(Q=>!Q)},className:"p-2 rounded-full hover:bg-stone-100 hover:text-stone-700 transition-colors","aria-label":"More options","aria-expanded":x,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-5 h-5",children:l.jsx("path",{fillRule:"evenodd",d:"M6 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",clipRule:"evenodd"})})}),x&&l.jsxs("div",{className:"absolute right-0 top-full mt-1 pt-1.5 z-50",children:[l.jsx("div",{className:"absolute right-4 top-0 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[6px] border-b-white drop-shadow-[0_-1px_1px_rgba(0,0,0,0.06)]"}),l.jsxs("div",{className:"min-w-[240px] rounded-lg bg-white border border-stone-200 shadow-lg py-1",children:[l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-t-lg",onClick:()=>m(!1),children:"Follow author"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-none",onClick:()=>m(!1),children:"Follow publication"}),l.jsx("div",{className:"my-1 border-t border-stone-200"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-none",onClick:()=>m(!1),children:"Mute author"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-stone-600 hover:bg-stone-50 rounded-none",onClick:()=>m(!1),children:"Mute publication"}),l.jsx("button",{type:"button",className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-stone-50 rounded-b-lg",onClick:()=>m(!1),children:"Report story"})]})]})]})]})]}),r.thumbnailUrl&&l.jsx("div",{className:"rounded-xl overflow-hidden border border-stone-200 mb-8 max-w-2xl aspect-video bg-stone-100",children:l.jsx("img",{src:Fn(r.thumbnailUrl),alt:"",className:"w-full h-full object-cover"})}),L?l.jsx("div",{className:"prose prose-stone max-w-none font-serif text-lg leading-relaxed text-stone-800",children:r.body!=null&&r.body!==""?l.jsx("div",{dangerouslySetInnerHTML:{__html:im.sanitize(r.body)}}):l.jsx("p",{className:"text-stone-500 italic",children:"No content available for this story."})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"prose prose-stone max-w-none font-serif text-lg leading-relaxed text-stone-800",children:r.body!=null&&r.body!==""?(()=>{const Q=_x(r.body);return Q.length<=600?Q:`${Q.slice(0,600)}...`})():l.jsx("p",{className:"text-stone-500 italic",children:"No content available for this story."})}),l.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-white to-transparent","aria-hidden":!0})]}),l.jsxs("div",{className:"mt-6 p-6 rounded-xl border border-stone-200 bg-stone-50 max-w-2xl",children:[l.jsx("p",{className:"text-stone-700 font-medium mb-2",children:"Subscribe to read the full story"}),l.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Get full access to all stories on Pennit with a monthly subscription."}),l.jsx(de,{to:"/pricing",className:"inline-block px-5 py-2.5 rounded-lg bg-stone-900 text-white text-sm font-medium hover:bg-stone-800 transition-colors",children:"View subscription plans"})]})]}),l.jsxs("section",{ref:O,className:"mt-8",children:[l.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Comments"}),p?l.jsx("p",{className:"text-sm text-stone-500",children:"Loading comments"}):l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"space-y-4 mb-6",children:h.length===0?l.jsx("li",{className:"text-sm text-stone-500",children:"No comments yet. Be the first to comment."}):(()=>{const G=h.filter(ee=>!ee.parentId).sort((ee,X)=>new Date(X.createdAt)-new Date(ee.createdAt)),Q=h.reduce((ee,X)=>(X.parentId&&(ee[X.parentId]||(ee[X.parentId]=[]),ee[X.parentId].push(X)),ee),{});return G.map(ee=>{const X=(Q[ee.id]||[]).sort((ae,fe)=>new Date(ae.createdAt)-new Date(fe.createdAt));return l.jsxs("li",{className:"border-b border-stone-100 pb-3 last:border-0",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium text-stone-800",children:ee.userName||"Reader"}),l.jsx("span",{className:"text-stone-400 mx-2",children:""}),l.jsx("span",{className:"text-stone-700",children:ee.content})]}),A&&l.jsx("button",{type:"button",onClick:()=>re(ee.id),className:"mt-1 text-xs font-medium text-stone-500 hover:text-stone-700",children:"Reply"}),S===ee.id&&A&&l.jsxs("form",{onSubmit:se,className:"mt-2 flex gap-2",children:[l.jsx("input",{ref:S===ee.id?C:void 0,type:"text",value:P,onChange:ae=>_(ae.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 text-sm border border-stone-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500",disabled:N}),l.jsx("button",{type:"submit",disabled:N||!P.trim(),className:"px-3 py-2 text-sm font-medium rounded-lg bg-stone-900 text-white hover:bg-stone-800 disabled:opacity-50",children:"Reply"}),l.jsx("button",{type:"button",onClick:()=>{E(null),_("")},className:"px-3 py-2 text-sm text-stone-500 hover:text-stone-700",children:"Cancel"})]}),X.length>0&&l.jsx("ul",{className:"mt-3 ml-4 pl-4 border-l-2 border-stone-200 space-y-2",children:X.map(ae=>{const fe=(Q[ae.id]||[]).sort((ce,De)=>new Date(ce.createdAt)-new Date(De.createdAt));return l.jsxs("li",{children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium text-stone-800",children:ae.userName||"Reader"}),l.jsx("span",{className:"text-stone-400 mx-2",children:""}),l.jsx("span",{className:"text-stone-700",children:ae.content})]}),A&&l.jsx("button",{type:"button",onClick:()=>re(ae.id),className:"mt-0.5 text-xs font-medium text-stone-500 hover:text-stone-700",children:"Reply"}),S===ae.id&&A&&l.jsxs("form",{onSubmit:se,className:"mt-2 flex gap-2",children:[l.jsx("input",{ref:S===ae.id?C:void 0,type:"text",value:P,onChange:ce=>_(ce.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 text-sm border border-stone-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500",disabled:N}),l.jsx("button",{type:"submit",disabled:N||!P.trim(),className:"px-3 py-2 text-sm font-medium rounded-lg bg-stone-900 text-white hover:bg-stone-800 disabled:opacity-50",children:"Reply"}),l.jsx("button",{type:"button",onClick:()=>{E(null),_("")},className:"px-3 py-2 text-sm text-stone-500 hover:text-stone-700",children:"Cancel"})]}),fe.length>0&&l.jsx("ul",{className:"mt-2 ml-3 pl-3 border-l border-stone-200 space-y-2",children:fe.map(ce=>l.jsxs("li",{className:"text-sm",children:[l.jsx("span",{className:"font-medium text-stone-800",children:ce.userName||"Reader"}),l.jsx("span",{className:"text-stone-400 mx-2",children:""}),l.jsx("span",{className:"text-stone-700",children:ce.content})]},ce.id))})]},ae.id)})})]},ee.id)})})()}),A?l.jsxs("form",{onSubmit:J,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:y,onChange:G=>w(G.target.value),placeholder:"Add a comment...",className:"flex-1 px-4 py-2.5 text-sm border border-stone-300 rounded-full focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500",disabled:N}),l.jsx("button",{type:"submit",disabled:N||!y.trim(),className:"px-4 py-2.5 text-sm font-medium rounded-full bg-stone-900 text-white hover:bg-stone-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Post"})]}):l.jsx("p",{className:"text-sm text-stone-500",children:"Sign in to comment."})]})]}),l.jsxs("footer",{className:"mt-12 pt-6 border-t border-stone-200",children:[l.jsxs("p",{className:"text-stone-500 text-sm",children:[r.readCount," reads"]}),l.jsxs(de,{to:`/author/${r.authorId}`,className:"text-yellow-600 font-medium hover:underline mt-2 inline-block",children:["More from ",((Y=r.author)==null?void 0:Y.penName)||"Unknown"]})]})]})}function Sx(){return l.jsxs("article",{className:"max-w-2xl mx-auto px-4 py-8 animate-pulse",children:[l.jsx("div",{className:"h-4 w-20 bg-stone-200 rounded-full mb-4"}),l.jsx("div",{className:"h-8 w-3/4 bg-stone-200 rounded mb-3"}),l.jsx("div",{className:"h-4 w-32 bg-stone-200 rounded mb-2"}),l.jsx("div",{className:"h-3 w-40 bg-stone-200 rounded mb-8"}),l.jsx("div",{className:"rounded-xl overflow-hidden border border-stone-200 mb-8 max-w-2xl aspect-video bg-stone-200"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 bg-stone-200 rounded"}),l.jsx("div",{className:"h-4 bg-stone-200 rounded w-11/12"}),l.jsx("div",{className:"h-4 bg-stone-200 rounded w-10/12"}),l.jsx("div",{className:"h-4 bg-stone-200 rounded w-9/12"})]})]})}const Ex={poem:"Poem",short_story:"Short Story",novel:"Novel"},Hf=e=>e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e??0);function kx(){var s,h;const{id:e}=Tl(),[t,n]=z.useState(null),[r,o]=z.useState(!0),[i,a]=z.useState(!1),c=Pt();if(z.useEffect(()=>{if(!e){o(!1);return}xy(e).then(n).catch(()=>n(null)).finally(()=>o(!1))},[e]),r)return l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-12 flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-stone-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-stone-500 text-sm",children:"Loading author"})]})});if(!t)return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 text-center",children:[l.jsx("p",{className:"text-stone-500 mb-4",children:"Author not found."}),l.jsx(de,{to:"/reader",className:"text-yellow-600 font-medium hover:underline",children:"Back to discover"})]});const u=(t.works||[]).filter(b=>b.status!=="draft"),v=u.reduce((b,y)=>b+(y.readCount||0),0),g=t.followerCount??0,d=async()=>{if(c){a(!0);try{const b=await ky(t.id,c.id);n(y=>y&&{...y,followerCount:b.followerCount,_following:b.following})}finally{a(!1)}}};return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-8 w-full min-w-0",children:[l.jsx(de,{to:"/reader",className:"text-stone-500 text-sm hover:text-yellow-600 mb-6 inline-block",children:" Back to discover"}),l.jsxs("header",{className:"mb-10",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4 sm:gap-6",children:[l.jsx("div",{className:"flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-gradient-to-br from-amber-100 to-yellow-200 flex items-center justify-center text-2xl sm:text-3xl font-bold text-amber-800 border-2 border-amber-200/80",children:((h=(s=t.penName)==null?void 0:s.charAt(0))==null?void 0:h.toUpperCase())||"?"}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-stone-900 font-serif tracking-tight",children:t.penName||"Author"}),t.bio&&l.jsx("p",{className:"text-stone-600 mt-2 leading-relaxed max-w-xl",children:t.bio})]})]}),l.jsx("button",{type:"button",onClick:d,disabled:i||!c,className:`mt-4 sm:mt-0 px-4 py-2 rounded-full text-sm font-medium border ${t._following?"border-stone-300 text-stone-700 bg-stone-100":"border-amber-500 text-amber-700 bg-amber-50 hover:bg-amber-100"}`,children:t._following?"Following":"Follow"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mt-8",children:[l.jsxs("div",{className:"p-4 sm:p-5 rounded-2xl bg-stone-900 text-white",children:[l.jsx("p",{className:"text-stone-300 text-xs font-medium uppercase tracking-wider",children:"Total reads"}),l.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-1",children:Hf(v)}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Across all works"})]}),l.jsxs("div",{className:"p-4 sm:p-5 rounded-2xl border border-stone-200 bg-white",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Stories"}),l.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-stone-900 mt-1",children:u.length}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Published"})]}),l.jsxs("div",{className:"p-4 sm:p-5 rounded-2xl border border-stone-200 bg-white",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Followers"}),l.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-stone-900 mt-1",children:g}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Readers following"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-6",children:"Works"}),u.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-stone-200 bg-stone-50/50 px-6 py-12 text-center",children:l.jsx("p",{className:"text-stone-500",children:"No published works yet."})}):l.jsx("ul",{className:"space-y-4",children:u.map(b=>l.jsx("li",{children:l.jsxs(de,{to:`/reading/${b.id}`,className:"group flex gap-4 p-4 rounded-2xl border border-stone-200 bg-white hover:border-amber-200 hover:shadow-md transition-all duration-200",children:[l.jsx("div",{className:"flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-xl overflow-hidden bg-stone-100",children:b.thumbnailUrl?l.jsx("img",{src:Fn(b.thumbnailUrl),alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-stone-200 to-stone-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-8 h-8 text-stone-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-amber-700 text-xs font-medium uppercase tracking-wider",children:Ex[b.category]||b.category}),l.jsx("h3",{className:"font-semibold text-stone-900 group-hover:text-amber-800 line-clamp-2 mt-0.5",children:b.title}),b.excerpt&&l.jsx("p",{className:"text-stone-500 text-sm mt-1 line-clamp-2",children:b.excerpt}),l.jsxs("p",{className:"text-stone-400 text-sm mt-2",children:[l.jsxs("span",{className:"font-medium text-stone-600",children:[Hf(b.readCount)," reads"]}),l.jsx("span",{className:"mx-1",children:""}),l.jsx("span",{children:"this work"})]})]}),l.jsx("span",{className:"flex-shrink-0 self-center text-stone-400 group-hover:text-stone-600",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})]})},b.id))})]})]})}const Ox=[{id:"your-lists",label:"Your lists"},{id:"saved-lists",label:"Saved lists"},{id:"highlights",label:"Highlights"},{id:"reading-history",label:"Reading history"},{id:"responses",label:"Responses"}];function Tx(){const[e,t]=z.useState("your-lists"),[n,r]=z.useState(!0),[o,i]=z.useState([]),[a,c]=z.useState(!1),[u,v]=z.useState(null),g=Pt();return z.useEffect(()=>{e!=="saved-lists"||!g||(c(!0),v(null),Qp(g.id).then(d=>{i(Array.isArray(d)?d:[])}).catch(()=>{v("Could not load saved stories."),i([])}).finally(()=>{c(!1)}))},[e,g==null?void 0:g.id]),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-stone-900",children:"Your library"}),l.jsx("button",{type:"button",className:"px-5 py-2.5 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 transition-colors",children:"New list"})]}),l.jsx("nav",{className:"border-b border-stone-200 mb-8",children:l.jsx("ul",{className:"flex gap-6 overflow-x-auto pb-px",children:Ox.map(d=>l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>t(d.id),className:`py-3 text-sm font-medium whitespace-nowrap transition-colors ${e===d.id?"text-stone-900 border-b-2 border-stone-900":"text-stone-500 hover:text-stone-700"}`,children:d.label})},d.id))})}),e==="saved-lists"&&n&&l.jsxs("div",{className:"relative rounded-2xl bg-green-500 overflow-hidden mb-6",children:[l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-40 h-40 rounded-full bg-green-400/40 -translate-x-1/2"}),l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-32 h-32 rounded-full bg-green-400/40 translate-x-1/2"}),l.jsxs("div",{className:"relative flex items-center justify-between gap-6 p-6 sm:p-8",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-bold text-lg sm:text-xl leading-snug mb-4",children:"Create a list to easily organize and share stories"}),l.jsx("button",{type:"button",className:"px-4 py-2.5 rounded-lg bg-green-800 text-white text-sm font-semibold hover:bg-green-900 transition-colors",children:"Start a list"})]}),l.jsxs("div",{className:"flex-shrink-0 hidden sm:block relative",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white border-2 border-green-800 flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-green-800",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})})}),l.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 rounded-full bg-green-800 flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 text-white",children:l.jsx("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})})})]}),l.jsx("button",{type:"button",onClick:()=>r(!1),className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-white transition-colors","aria-label":"Dismiss",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53Z",clipRule:"evenodd"})})})]})]}),e==="saved-lists"&&l.jsxs(l.Fragment,{children:[u&&l.jsx("p",{className:"mb-4 text-sm text-red-600",children:u}),l.jsxs("div",{className:"rounded-2xl bg-white border border-stone-200 shadow-sm overflow-hidden",children:[l.jsx("button",{type:"button",className:"w-full text-left",children:l.jsxs("div",{className:"p-5 sm:p-6 flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-200 flex items-center justify-center overflow-hidden",children:l.jsx("span",{className:"text-stone-500 font-semibold text-lg",children:((g==null?void 0:g.name)||(g==null?void 0:g.email)||"R").charAt(0).toUpperCase()})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-stone-900",children:(g==null?void 0:g.name)||(g==null?void 0:g.email)||"Reader"}),l.jsx("h2",{className:"text-lg font-bold text-stone-900 mt-1",children:"Reading list"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-stone-500",children:[a?l.jsx("span",{children:"Loading stories"}):o.length===0?l.jsx("span",{children:"No stories"}):l.jsxs("span",{children:[o.length," ",o.length===1?"story":"stories"]}),l.jsxs("span",{className:"flex items-center gap-1 text-stone-400",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4","aria-hidden":!0,children:l.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z",clipRule:"evenodd"})}),l.jsx("span",{children:"Private"})]})]})]}),l.jsxs("div",{className:"flex-shrink-0 flex items-center gap-4",children:[l.jsx("span",{className:"hidden sm:inline-block text-stone-400 text-sm",children:""}),l.jsx("div",{className:"hidden sm:flex flex-shrink-0 gap-2",children:(o.length?o.slice(0,3):[1,2,3]).map((d,s)=>l.jsx("div",{className:"w-12 h-16 rounded bg-stone-100"},d.id||s))})]})]})}),o.length>0&&l.jsx("div",{className:"border-t border-stone-100 bg-stone-50/60",children:l.jsx("ul",{className:"divide-y divide-stone-100",children:o.map(d=>l.jsx("li",{children:l.jsxs(de,{to:`/reading/${d.id}`,className:"flex items-center gap-4 px-5 sm:px-6 py-3 hover:bg-stone-100 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-stone-200 flex-shrink-0",children:d.thumbnailUrl?l.jsx("img",{src:Fn(d.thumbnailUrl),alt:d.title,className:"w-full h-full object-cover"}):null}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-stone-900 truncate",children:d.title}),l.jsx("p",{className:"text-xs text-stone-500 truncate",children:d.excerpt||d.genre||"Saved story"})]}),l.jsx("span",{className:"text-stone-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})]})},d.id))})})]})]})]})}const Cx=[{id:"about",label:"About"},{id:"settings",label:"Settings"},{id:"account",label:"Account"}];function Ax(){const[e,t]=z.useState("about"),n=Pt();return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-stone-900",children:"Profile"}),l.jsx("button",{type:"button",className:"px-5 py-2.5 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 transition-colors",children:"Edit profile"})]}),l.jsx("nav",{className:"border-b border-stone-200 mb-8",children:l.jsx("ul",{className:"flex gap-6 overflow-x-auto pb-px",children:Cx.map(r=>l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>t(r.id),className:`py-3 text-sm font-medium whitespace-nowrap transition-colors ${e===r.id?"text-stone-900 border-b-2 border-stone-900":"text-stone-500 hover:text-stone-700"}`,children:r.label})},r.id))})}),l.jsxs("div",{className:"rounded-2xl bg-white border border-stone-200 shadow-sm p-6",children:[e==="about"&&l.jsxs("div",{className:"flex gap-6",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-stone-200 flex items-center justify-center text-2xl font-bold text-stone-500 flex-shrink-0",children:((n==null?void 0:n.penName)||(n==null?void 0:n.email)||"?").charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-bold text-stone-900",children:(n==null?void 0:n.penName)||"Your name"}),l.jsx("p",{className:"text-stone-500 text-sm mt-1",children:n==null?void 0:n.email}),l.jsx("p",{className:"text-stone-600 mt-4",children:"Add a bio to tell readers about yourself."})]})]}),e==="settings"&&l.jsx("p",{className:"text-stone-600",children:"Notification and display preferences will appear here."}),e==="account"&&l.jsx("p",{className:"text-stone-600",children:"Email, password, and account security options will appear here."})]})]})}const Px=[{value:"short_story",label:"Short story"},{value:"poem",label:"Poem"},{value:"novel",label:"Novel"}];function Lx({isOpen:e,onClose:t,onSave:n}){const r=z.useRef(null),[o,i]=z.useState(""),[a,c]=z.useState("short_story"),[u,v]=z.useState(""),[g,d]=z.useState(!1),[s,h]=z.useState(""),[b,y]=z.useState(""),[w,p]=z.useState(!1),[f,x]=z.useState(""),m=()=>{i(""),c("short_story"),v(""),h(""),y("")},N=()=>{x(""),m(),r.current&&(r.current.value=""),t()},k=async _=>{var O;const j=(O=_.target.files)==null?void 0:O[0];if(j){if(!j.type.startsWith("image/")){x("Please select an image file (JPEG, PNG, GIF, or WebP).");return}x(""),d(!0);try{const{url:C}=await Cl(j);v(C)}catch(C){x((C==null?void 0:C.message)||"Failed to upload image.")}finally{d(!1),r.current&&(r.current.value="")}}},S=()=>{v(""),r.current&&(r.current.value="")},E=async()=>{if(o.trim()){p(!0);try{await(n==null?void 0:n({title:o.trim(),category:a,thumbnailUrl:u.trim(),excerpt:s.trim(),body:b.trim(),status:"draft"})),N()}finally{p(!1)}}},P=async()=>{if(o.trim()){x(""),p(!0);try{await(n==null?void 0:n({title:o.trim(),category:a,thumbnailUrl:u.trim(),excerpt:s.trim(),body:b.trim(),status:"published"})),N()}catch(_){x((_==null?void 0:_.message)||"Failed to publish. Please try again.")}finally{p(!1)}}};return e?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",role:"dialog","aria-modal":"true","aria-labelledby":"new-story-title",children:[l.jsx("button",{type:"button",onClick:N,className:"absolute inset-0 bg-stone-900/40 backdrop-blur-sm","aria-label":"Close"}),l.jsxs("div",{className:"relative w-full max-w-2xl h-full sm:h-auto sm:max-h-[90vh] flex flex-col bg-white rounded-t-2xl sm:rounded-2xl shadow-xl border border-stone-100 border-b-0 sm:border-b min-h-0",children:[l.jsxs("div",{className:"flex items-center justify-between flex-shrink-0 px-4 sm:px-6 py-4 border-b border-stone-100",children:[l.jsx("h2",{id:"new-story-title",className:"text-lg font-semibold text-stone-900",children:"New story"}),l.jsx("button",{type:"button",onClick:N,className:"p-2.5 -mr-1 rounded-lg text-stone-400 hover:text-stone-600 hover:bg-stone-100 transition-colors touch-manipulation","aria-label":"Close",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53Z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden px-4 sm:px-6 py-4 sm:py-5 space-y-4 sm:space-y-5",children:[f&&l.jsx("p",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:f}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"story-title",className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Title"}),l.jsx("input",{id:"story-title",type:"text",value:o,onChange:_=>i(_.target.value),placeholder:"Give your story a title",className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 text-stone-900 placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-stone-400/50 focus:border-stone-400"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"story-category",className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Category"}),l.jsx("select",{id:"story-category",value:a,onChange:_=>c(_.target.value),className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 text-stone-900 focus:outline-none focus:ring-2 focus:ring-stone-400/50 focus:border-stone-400 bg-white",children:Px.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:["Thumbnail ",l.jsx("span",{className:"text-stone-400 font-normal",children:"(optional)"})]}),l.jsx("input",{ref:r,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:k,className:"hidden",id:"story-thumbnail"}),u?l.jsxs("div",{className:"mt-2 flex items-start gap-3",children:[l.jsx("div",{className:"rounded-lg overflow-hidden border border-stone-200 bg-stone-50 w-full max-w-[200px] aspect-video flex-shrink-0",children:l.jsx("img",{src:Fn(u),alt:"Thumbnail preview",className:"w-full h-full object-cover",onError:_=>{_.target.style.display="none"}})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var _;return(_=r.current)==null?void 0:_.click()},disabled:g,className:"text-sm font-medium text-stone-600 hover:text-stone-900 disabled:opacity-50",children:g?"Uploading":"Change image"}),l.jsx("button",{type:"button",onClick:S,disabled:g,className:"text-sm font-medium text-red-600 hover:text-red-700 disabled:opacity-50",children:"Remove"})]})]}):l.jsxs("label",{htmlFor:"story-thumbnail",className:`mt-2 flex flex-col items-center justify-center gap-1 w-full max-w-[240px] min-h-[100px] py-4 px-4 rounded-xl border-2 border-dashed border-stone-200 bg-stone-50/80 cursor-pointer hover:bg-stone-100 hover:border-stone-300 transition-colors ${g?"opacity-60 pointer-events-none":""}`,children:[l.jsx("span",{className:"text-stone-700 text-sm font-medium text-center",children:g?"Uploading":"Select image from device"}),l.jsx("span",{className:"text-stone-400 text-xs text-center",children:"JPG, PNG, GIF or WebP  Max 5 MB"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"story-excerpt",className:"block text-sm font-medium text-stone-700 mb-1.5",children:["Short summary ",l.jsx("span",{className:"text-stone-400 font-normal",children:"(for previews)"})]}),l.jsx("textarea",{id:"story-excerpt",value:s,onChange:_=>h(_.target.value),placeholder:"A brief teaser or summary in one or two sentences.",rows:2,className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 text-stone-900 placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-stone-400/50 focus:border-stone-400 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"story-body",className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Story"}),l.jsx("textarea",{id:"story-body",value:b,onChange:_=>y(_.target.value),placeholder:"Write your story here",rows:8,className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 text-stone-900 placeholder:text-stone-400 focus:outline-none focus:ring-2 focus:ring-stone-400/50 focus:border-stone-400 resize-y min-h-[180px] sm:min-h-[200px] font-serif text-base leading-relaxed"})]})]}),l.jsxs("div",{className:"flex-shrink-0 flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-end gap-2 sm:gap-3 px-4 sm:px-6 py-4 border-t border-stone-100 bg-stone-50/50 rounded-b-2xl",children:[l.jsx("button",{type:"button",onClick:N,className:"order-3 sm:order-1 px-4 py-3 sm:py-2 text-sm font-medium text-stone-600 hover:text-stone-900 transition-colors touch-manipulation",children:"Cancel"}),l.jsx("button",{type:"button",onClick:E,disabled:w||!o.trim(),className:"order-2 px-4 py-3 sm:py-2 rounded-lg text-sm font-medium text-stone-700 bg-stone-200 hover:bg-stone-300 disabled:opacity-50 disabled:pointer-events-none transition-colors touch-manipulation",children:"Save draft"}),l.jsx("button",{type:"button",onClick:P,disabled:w||!o.trim(),className:"order-1 sm:order-3 px-4 py-3 sm:py-2 rounded-lg text-sm font-medium text-white bg-stone-900 hover:bg-stone-800 disabled:opacity-50 disabled:pointer-events-none transition-colors touch-manipulation",children:w?"Publishing":"Publish"})]})]})]}):null}const Rx=[{id:"published",label:"Published"},{id:"drafts",label:"Drafts"},{id:"all",label:"All"}];function Mx(){const[e,t]=z.useState("published"),[n,r]=z.useState(!1);return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-stone-900",children:"Stories"}),l.jsx("button",{type:"button",onClick:()=>r(!0),className:"px-5 py-2.5 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 transition-colors",children:"New story"})]}),l.jsx(Lx,{isOpen:n,onClose:()=>r(!1),onSave:async()=>{}}),l.jsx("nav",{className:"border-b border-stone-200 mb-8",children:l.jsx("ul",{className:"flex gap-6 overflow-x-auto pb-px",children:Rx.map(o=>l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>t(o.id),className:`py-3 text-sm font-medium whitespace-nowrap transition-colors ${e===o.id?"text-stone-900 border-b-2 border-stone-900":"text-stone-500 hover:text-stone-700"}`,children:o.label})},o.id))})}),l.jsxs("div",{className:"rounded-2xl bg-white border border-stone-200 shadow-sm p-8 text-center",children:[l.jsxs("p",{className:"text-stone-500",children:[e==="published"&&"No published stories yet.",e==="drafts"&&"No drafts.",e==="all"&&"No stories yet."]}),l.jsx("button",{type:"button",onClick:()=>r(!0),className:"mt-4 px-4 py-2 rounded-lg bg-stone-100 text-stone-700 text-sm font-medium hover:bg-stone-200 transition-colors",children:"Start writing"})]})]})}const Dx=[{id:"overview",label:"Overview"},{id:"reads",label:"Reads"},{id:"engagement",label:"Engagement"}];function Ix(){const[e,t]=z.useState("overview");return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-stone-900",children:"Stats"}),l.jsx("button",{type:"button",className:"px-5 py-2.5 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 transition-colors",children:"Export"})]}),l.jsx("nav",{className:"border-b border-stone-200 mb-8",children:l.jsx("ul",{className:"flex gap-6 overflow-x-auto pb-px",children:Dx.map(n=>l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>t(n.id),className:`py-3 text-sm font-medium whitespace-nowrap transition-colors ${e===n.id?"text-stone-900 border-b-2 border-stone-900":"text-stone-500 hover:text-stone-700"}`,children:n.label})},n.id))})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-2xl bg-white border border-stone-200 shadow-sm p-6 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50",children:[l.jsx("p",{className:"text-stone-500 text-sm",children:"Total reads"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:"0"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50",children:[l.jsx("p",{className:"text-stone-500 text-sm",children:"Stories"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:"0"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50",children:[l.jsx("p",{className:"text-stone-500 text-sm",children:"Followers"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:"0"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50",children:[l.jsx("p",{className:"text-stone-500 text-sm",children:"Earnings"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:""})]})]}),l.jsx("div",{className:"rounded-2xl bg-white border border-stone-200 shadow-sm p-8 text-center",children:l.jsxs("p",{className:"text-stone-500",children:[e==="overview"&&"Your stats overview will appear here.",e==="reads"&&"Read trends and history will appear here.",e==="engagement"&&"Engagement metrics will appear here."]})})]})]})}const Fx=e=>{const t=new Date(e),r=Math.floor((new Date-t)/(1e3*60*60*24));return r===0?"Today":r===1?"1d ago":r<7?`${r}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Ea=e=>e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),zx=e=>({poem:"Poem",short_story:"Short story",novel:"Novel"})[e]||e;function Bx(){var m;const e=Pt(),{monetizationEnabled:t}=Al(),[n,r]=z.useState("overview"),[o,i]=z.useState([]),[a,c]=z.useState(!0),[u,v]=z.useState(!1),[g,d]=z.useState(null),[s,h]=z.useState(null),b=e==null?void 0:e.authorId,y=z.useCallback(async()=>{c(!0);try{const N=await Hu(),k=b?N.filter(S=>S.authorId===b):[];i(k)}finally{c(!1)}},[b]);z.useEffect(()=>{y()},[y]),z.useEffect(()=>{t&&(e!=null&&e.id)?(Py(e.id).then(d).catch(()=>d(null)),Ly(e.id).then(N=>h(N.payoutMethod)).catch(()=>h(null))):(d(null),h(null))},[t,e==null?void 0:e.id]),z.useEffect(()=>{v(!0);const N=setTimeout(()=>v(!1),400);return()=>clearTimeout(N)},[n]);const w=o.reduce((N,k)=>N+(k.readCount||0),0),p=(g==null?void 0:g.monetizationEnabled)&&(g==null?void 0:g.estimatedThisMonth),f=(p==null?void 0:p.points)??0,x=(p==null?void 0:p.amountGhc)??0;return l.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-xl font-bold text-stone-900 tracking-tight",children:"Writers"}),l.jsx(de,{to:"/writers-dashboard/new",className:"px-4 py-2 rounded-lg bg-stone-900 text-white text-sm font-medium hover:bg-stone-800 transition-colors",children:"New story"})]}),l.jsxs("div",{className:"flex gap-6 border-b border-stone-200 mb-8",children:[l.jsxs("button",{onClick:()=>r("overview"),className:`pb-4 text-sm font-medium transition-colors relative ${n==="overview"?"text-stone-900":"text-stone-500 hover:text-stone-700"}`,children:["Overview",n==="overview"&&l.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-px bg-stone-900"})]}),l.jsxs("button",{onClick:()=>r("posts"),className:`pb-4 text-sm font-medium transition-colors relative ${n==="posts"?"text-stone-900":"text-stone-500 hover:text-stone-700"}`,children:["My posts",n==="posts"&&l.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-px bg-stone-900"})]}),l.jsxs("button",{onClick:()=>r("earnings"),className:`pb-4 text-sm font-medium transition-colors relative ${n==="earnings"?"text-stone-900":"text-stone-500 hover:text-stone-700"}`,children:["Earnings",n==="earnings"&&l.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-px bg-stone-900"})]})]}),n==="overview"&&l.jsx(l.Fragment,{children:u?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-stone-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-stone-500 text-sm",children:"Loading overview"})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Reads"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:Ea(w)})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Stories"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:o.length})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Followers"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:""})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Earnings"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:t?p?`GH ${Number(x).toFixed(2)}`:"":"Pre-launch"})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-medium text-stone-500 mb-4",children:"Top stories"}),o.length===0?l.jsx("p",{className:"text-stone-500 text-sm py-6",children:"No stories yet. Write your first one."}):l.jsx("ul",{className:"space-y-1",children:[...o].sort((N,k)=>(k.readCount||0)-(N.readCount||0)).slice(0,5).map(N=>l.jsxs("li",{className:"flex items-center justify-between py-2 border-b border-stone-100 last:border-0",children:[l.jsx(de,{to:`/writers-dashboard/story/${N.id}`,className:"text-stone-900 font-medium hover:underline truncate flex-1 min-w-0",children:N.title}),l.jsxs("span",{className:"text-stone-500 text-sm flex-shrink-0 ml-3",children:[Ea(N.readCount)," reads"]})]},N.id))})]})]})}),n==="earnings"&&l.jsx(l.Fragment,{children:u?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-stone-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-stone-500 text-sm",children:"Loading earnings"})]}):t?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-6 rounded-2xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-sm font-medium uppercase tracking-wider",children:"Total points this month"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:f.toLocaleString()}),l.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"From reads (poem=1, short story=3, novel=5 per read)"})]}),l.jsxs("div",{className:"p-6 rounded-2xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-sm font-medium uppercase tracking-wider",children:"Estimated earnings this month"}),l.jsxs("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:["GH ",Number(x).toFixed(2)]}),l.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"Ghana cedis (GHS). Final amount calculated at month end."})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-medium text-stone-500 mb-4",children:"Earnings history"}),(m=g==null?void 0:g.history)!=null&&m.length?l.jsx("ul",{className:"space-y-2",children:g.history.map(N=>l.jsxs("li",{className:"flex items-center justify-between gap-4 py-2 border-b border-stone-100 last:border-0",children:[l.jsx("span",{className:"text-stone-700",children:N.month}),l.jsxs("span",{className:"font-medium text-stone-900",children:["GH ",Number(N.amountGhc).toFixed(2)]}),l.jsx("span",{className:"text-stone-500 text-sm shrink-0",children:N.status==="paid"?"Paid":"Calculated"})]},N.id))}):l.jsx("p",{className:"text-stone-500 text-sm py-6",children:"No past earnings yet."})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-medium text-stone-500 mb-4",children:"Payout method"}),l.jsx("p",{className:"text-stone-600 text-sm",children:s?`Bank or Mobile Money: ${s.type==="bank"?`Bank account ${s.accountNumber||""}`:`${s.mobileMoneyProvider||"Mobile Money"} ${s.mobileMoneyNumber||""}`}`:"Set your bank or mobile money details to receive monthly payouts."})]})]}):l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"p-6 rounded-2xl bg-amber-50 border border-amber-100",children:[l.jsx("p",{className:"text-amber-800 font-medium",children:"Earnings will be available after launch"}),l.jsx("p",{className:"text-stone-600 text-sm mt-2",children:"Monetization is built in but not yet active. Once enabled, youll see estimated earnings here based on reader engagement."})]})})}),n==="posts"&&l.jsx(l.Fragment,{children:u?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-3",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-stone-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-stone-500 text-sm",children:"Loading posts"})]}):l.jsx("div",{className:"space-y-8",children:a?l.jsx("p",{className:"text-stone-500 text-sm py-8",children:"Loading"}):o.length===0?l.jsxs("div",{className:"py-12 text-center",children:[l.jsx("p",{className:"text-stone-500 text-sm mb-4",children:"You havent published any stories yet."}),l.jsx(de,{to:"/writers-dashboard/new",className:"inline-block px-4 py-2 rounded-lg bg-stone-900 text-white text-sm font-medium hover:bg-stone-800",children:"New story"})]}):o.map(N=>l.jsxs("article",{className:"group",children:[l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(de,{to:`/writers-dashboard/story/${N.id}`,className:"block",children:l.jsxs("h2",{className:"text-xl font-bold text-stone-900 leading-snug group-hover:underline line-clamp-2 mb-2 flex items-center gap-2 flex-wrap",children:[l.jsx("span",{children:N.title}),N.status==="draft"&&l.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded bg-amber-100 text-amber-800",children:"Draft"})]})}),l.jsx("p",{className:"text-stone-600 text-base leading-relaxed line-clamp-2 mb-3",children:N.excerpt}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-500",children:[l.jsx("span",{className:"text-yellow-500",children:""}),l.jsx("span",{children:zx(N.category)}),l.jsx("span",{children:Fx(N.createdAt)}),l.jsxs("span",{children:[Ea(N.readCount)," reads"]})]}),l.jsx(de,{to:`/writers-dashboard/story/${N.id}/analytics`,className:"inline-block mt-3 text-sm font-medium text-amber-700 hover:text-amber-800 hover:underline",children:"View analytics "})]}),l.jsx(de,{to:`/writers-dashboard/story/${N.id}`,className:"flex-shrink-0 w-32 h-20 rounded-sm overflow-hidden bg-stone-200",children:N.thumbnailUrl?l.jsx("img",{src:Fn(N.thumbnailUrl),alt:"",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-stone-300 to-stone-400"})})]}),l.jsx("div",{className:"border-b border-stone-200 mt-8"})]},N.id))})})]})}var Ts=function(e,t){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ts(e,t)};function Ux(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ts(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var We=function(){return We=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},We.apply(this,arguments)};var $f=!1,$n,Cs,As,Ri,Mi,lm,Di,Ps,Ls,Rs,am,Ms,Ds,sm,um;function ft(){if(!$f){$f=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Ms=/\b(iPhone|iP[ao]d)/.exec(e),Ds=/\b(iP[ao]d)/.exec(e),Rs=/Android/i.exec(e),sm=/FBAN\/\w+;/i.exec(e),um=/Mobile/i.exec(e),am=!!/Win64/.exec(e),t){$n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,$n&&document&&document.documentMode&&($n=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);lm=r?parseFloat(r[1])+4:$n,Cs=t[2]?parseFloat(t[2]):NaN,As=t[3]?parseFloat(t[3]):NaN,Ri=t[4]?parseFloat(t[4]):NaN,Ri?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Mi=t&&t[1]?parseFloat(t[1]):NaN):Mi=NaN}else $n=Cs=As=Mi=Ri=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Di=o?parseFloat(o[1].replace("_",".")):!0}else Di=!1;Ps=!!n[2],Ls=!!n[3]}else Di=Ps=Ls=!1}}var Is={ie:function(){return ft()||$n},ieCompatibilityMode:function(){return ft()||lm>$n},ie64:function(){return Is.ie()&&am},firefox:function(){return ft()||Cs},opera:function(){return ft()||As},webkit:function(){return ft()||Ri},safari:function(){return Is.webkit()},chrome:function(){return ft()||Mi},windows:function(){return ft()||Ps},osx:function(){return ft()||Di},linux:function(){return ft()||Ls},iphone:function(){return ft()||Ms},mobile:function(){return ft()||Ms||Ds||Rs||um},nativeApp:function(){return ft()||sm},android:function(){return ft()||Rs},ipad:function(){return ft()||Ds}},qx=Is,Hx=!!(typeof window<"u"&&window.document&&window.document.createElement),$x={canUseDOM:Hx},Wx=$x,cm=Wx,fm;cm.canUseDOM&&(fm=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Vx(e,t){if(!cm.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&fm&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Gx=Vx,Kx=qx,Zx=Gx,Wf=10,Vf=40,Gf=800;function dm(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Wf,o=n*Wf,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=Vf,o*=Vf):(r*=Gf,o*=Gf)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}dm.getEventType=function(){return Kx.firefox()?"DOMMouseScroll":Zx("wheel")?"wheel":"mousewheel"};var Yx=dm,Qx=Yx;const Xx=Hs(Qx);function Jx(e,t,n,r,o,i){i===void 0&&(i=0);var a=Mr(e,t,i),c=a.width,u=a.height,v=Math.min(c,n),g=Math.min(u,r);return v>g*o?{width:g*o,height:g}:{width:v,height:v/o}}function e1(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function so(e,t,n,r,o){o===void 0&&(o=0);var i=Mr(t.width,t.height,o),a=i.width,c=i.height;return{x:Kf(e.x,a,n.width,r),y:Kf(e.y,c,n.height,r)}}function Kf(e,t,n,r){var o=t*r/2-n/2;return Pl(e,-o,o)}function Zf(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Yf(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function t1(e,t,n,r,o,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var c=a?n1:r1,u=Mr(t.width,t.height,i),v=Mr(t.naturalWidth,t.naturalHeight,i),g={x:c(100,((u.width-n.width/o)/2-e.x/o)/u.width*100),y:c(100,((u.height-n.height/o)/2-e.y/o)/u.height*100),width:c(100,n.width/u.width*100/o),height:c(100,n.height/u.height*100/o)},d=Math.round(c(v.width,g.width*v.width/100)),s=Math.round(c(v.height,g.height*v.height/100)),h=v.width>=v.height*r,b=h?{width:Math.round(s*r),height:s}:{width:d,height:Math.round(d/r)},y=We(We({},b),{x:Math.round(c(v.width-b.width,g.x*v.width/100)),y:Math.round(c(v.height-b.height,g.y*v.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:y}}function n1(e,t){return Math.min(e,Math.max(0,t))}function r1(e,t){return t}function o1(e,t,n,r,o,i){var a=Mr(t.width,t.height,n),c=Pl(r.width/a.width*(100/e.width),o,i),u={x:c*a.width/2-r.width/2-a.width*c*(e.x/100),y:c*a.height/2-r.height/2-a.height*c*(e.y/100)};return{crop:u,zoom:c}}function i1(e,t,n){var r=e1(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function l1(e,t,n,r,o,i){n===void 0&&(n=0);var a=Mr(t.naturalWidth,t.naturalHeight,n),c=Pl(i1(e,t,r),o,i),u=r.height>r.width?r.height/e.height:r.width/e.width,v={x:((a.width-e.width)/2-e.x)*u,y:((a.height-e.height)/2-e.y)*u};return{crop:v,zoom:c}}function Qf(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function a1(e){return e*Math.PI/180}function Mr(e,t,n){var r=a1(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function Pl(e,t,n){return Math.min(Math.max(e,t),n)}function xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var s1=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,u1=1,c1=3,f1=1,d1=function(e){Ux(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=z.createRef(),n.imageRef=z.createRef(),n.videoRef=z.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var o=o1(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=o.crop,a=o.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}else if(n.props.initialCroppedAreaPixels){var c=l1(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=c.crop,a=c.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}},n.computeSizes=function(){var r,o,i,a,c,u,v=n.imageRef.current||n.videoRef.current;if(v&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,d=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,s=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=n.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,h=v.offsetWidth<d||v.offsetHeight<s,b=d/s,y=void 0;if(h)switch(n.state.mediaObjectFit){default:case"contain":y=g>b?{width:n.containerRect.height*b,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/b};break;case"horizontal-cover":y={width:n.containerRect.width,height:n.containerRect.width/b};break;case"vertical-cover":y={width:n.containerRect.height*b,height:n.containerRect.height};break}else y={width:v.offsetWidth,height:v.offsetHeight};n.mediaSize=We(We({},y),{naturalWidth:d,naturalHeight:s}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var w=n.props.cropSize?n.props.cropSize:Jx(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((c=n.state.cropSize)===null||c===void 0?void 0:c.height)!==w.height||((u=n.state.cropSize)===null||u===void 0?void 0:u.width)!==w.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(w),n.setState({cropSize:w},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(w),w}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var o=t.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var a=n.gestureRotationStart+r.rotation;n.props.onRotationChange(a)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var o,i,a=r.x,c=r.y;n.dragStartPosition={x:a,y:c},n.dragStartCrop=We({},n.props.crop),(i=(o=n.props).onInteractionStart)===null||i===void 0||i.call(o)},n.onDrag=function(r){var o=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(o===void 0||i===void 0)){var a=o-n.dragStartPosition.x,c=i-n.dragStartPosition.y,u={x:n.dragStartCrop.x+a,y:n.dragStartCrop.y+c},v=n.props.restrictPosition?so(u,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):u;n.props.onCropChange(v)}}))},n.onDragStopped=function(){var r,o;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(o=(r=n.props).onInteractionEnd)===null||o===void 0||o.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var o=t.getMousePoint(r),i=Xx(r).pixelY,a=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(a,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var c,u;return(u=(c=n.props).onInteractionStart)===null||u===void 0?void 0:u.call(c)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var c,u;return(u=(c=n.props).onInteractionEnd)===null||u===void 0?void 0:u.call(c)})},250)}},n.getPointOnContainer=function(r,o){var i=r.x,a=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-o.x),y:n.containerRect.height/2-(a-o.y)}},n.getPointOnMedia=function(r){var o=r.x,i=r.y,a=n.props,c=a.crop,u=a.zoom;return{x:(o+c.x)/u,y:(i+c.y)/u}},n.setNewZoom=function(r,o,i){var a=i===void 0?{}:i,c=a.shouldUpdatePosition,u=c===void 0?!0:c;if(!(!n.state.cropSize||!n.props.onZoomChange)){var v=Pl(r,n.props.minZoom,n.props.maxZoom);if(u){var g=n.getPointOnContainer(o,n.containerPosition),d=n.getPointOnMedia(g),s={x:d.x*v-g.x,y:d.y*v-g.y},h=n.props.restrictPosition?so(s,n.mediaSize,n.state.cropSize,v,n.props.rotation):s;n.props.onCropChange(h)}n.props.onZoomChange(v)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?so(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return t1(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(o,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.recomputeCropPosition=function(){var r,o;if(n.state.cropSize){var i=n.props.crop;if(n.isInitialized&&(!((r=n.previousCropSize)===null||r===void 0)&&r.width)&&(!((o=n.previousCropSize)===null||o===void 0)&&o.height)){var a=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(a){var c=n.state.cropSize.width/n.previousCropSize.width,u=n.state.cropSize.height/n.previousCropSize.height;i={x:n.props.crop.x*c,y:n.props.crop.y*u}}}var v=n.props.restrictPosition?so(i,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):i;n.previousCropSize=n.state.cropSize,n.props.onCropChange(v),n.emitCropData()}},n.onKeyDown=function(r){var o,i,a=n.props,c=a.crop,u=a.onCropChange,v=a.keyboardStep,g=a.zoom,d=a.rotation,s=v;if(n.state.cropSize){r.shiftKey&&(s*=.2);var h=We({},c);switch(r.key){case"ArrowUp":h.y-=s,r.preventDefault();break;case"ArrowDown":h.y+=s,r.preventDefault();break;case"ArrowLeft":h.x-=s,r.preventDefault();break;case"ArrowRight":h.x+=s,r.preventDefault();break;default:return}n.props.restrictPosition&&(h=so(h,n.mediaSize,n.state.cropSize,g,d)),r.repeat||(i=(o=n.props).onInteractionStart)===null||i===void 0||i.call(o),u(h)}},n.onKeyUp=function(r){var o,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(i=(o=n.props).onInteractionEnd)===null||i===void 0||i.call(o)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=s1,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,o,i,a,c,u,v,g,d;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((c=n.crop)===null||c===void 0?void 0:c.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((v=n.crop)===null||v===void 0?void 0:v.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load());var s=this.getObjectFit();s!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:s},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,o=n.aspect;return r?r.width/r.height:o},t.prototype.getObjectFit=function(){var n,r,o,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,u=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,v=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,g=u/v;return g<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),o=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=Zf(r,o),this.lastPinchRotation=Yf(r,o),this.onDragStart(Qf(r,o))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]),a=Qf(o,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=Zf(o,i),u=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(u,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var v=Yf(o,i),g=r.props.rotation+(v-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=v})}},t.prototype.render=function(){var n=this,r,o=this.props,i=o.image,a=o.video,c=o.mediaProps,u=o.cropperProps,v=o.transform,g=o.crop,d=g.x,s=g.y,h=o.rotation,b=o.zoom,y=o.cropShape,w=o.showGrid,p=o.roundCropAreaPixels,f=o.style,x=f.containerStyle,m=f.cropAreaStyle,N=f.mediaStyle,k=o.classes,S=k.containerClassName,E=k.cropAreaClassName,P=k.mediaClassName,_=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return z.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(O){return n.containerRef=O},"data-testid":"container",style:x,className:xi("reactEasyCrop_Container",S)},i?z.createElement("img",We({alt:"",className:xi("reactEasyCrop_Image",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},c,{src:i,ref:this.imageRef,style:We(We({},N),{transform:v||"translate(".concat(d,"px, ").concat(s,"px) rotate(").concat(h,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):a&&z.createElement("video",We({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:xi("reactEasyCrop_Video",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:We(We({},N),{transform:v||"translate(".concat(d,"px, ").concat(s,"px) rotate(").concat(h,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(j){return z.createElement("source",We({key:j.src},j))})),this.state.cropSize&&z.createElement("div",We({ref:this.cropperRef,style:We(We({},m),{width:p?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:p?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:xi("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",w&&"reactEasyCrop_CropAreaGrid",E)},u)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:c1,minZoom:u1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:f1},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(z.Component);function h1(e){return new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>t(r)),r.addEventListener("error",n),r.src=e})}async function p1(e,t){const n=await h1(e),r=t||{x:0,y:0,width:n.naturalWidth,height:n.naturalHeight},o=document.createElement("canvas");o.width=r.width,o.height=r.height;const i=o.getContext("2d");if(!i)throw new Error("Canvas not supported");return i.drawImage(n,r.x,r.y,r.width,r.height,0,0,r.width,r.height),new Promise((a,c)=>{o.toBlob(u=>u?a(u):c(new Error("Canvas toBlob failed")),"image/jpeg",.92)})}const m1=16/9;function hm({imageSrc:e,onComplete:t,onCancel:n}){const[r,o]=z.useState({x:0,y:0}),[i,a]=z.useState(1),[c,u]=z.useState(null),[v,g]=z.useState(!1),d=z.useCallback((h,b)=>{u(b)},[]),s=async()=>{if(e){g(!0);try{const h=await p1(e,c);t(h)}catch(h){console.error("Crop failed:",h)}finally{g(!1)}}};return l.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-stone-900/95",role:"dialog","aria-modal":"true","aria-label":"Crop thumbnail",children:[l.jsxs("div",{className:"flex-none flex items-center justify-between px-4 py-3 border-b border-stone-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Crop thumbnail"}),l.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-lg text-stone-400 hover:text-white hover:bg-stone-700","aria-label":"Close",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53Z",clipRule:"evenodd"})})})]}),l.jsx("div",{className:"flex-1 min-h-[40vh] relative",children:l.jsx(d1,{image:e,crop:r,zoom:i,aspect:m1,onCropChange:o,onZoomChange:a,onCropComplete:d,className:"cropper-container"})}),l.jsxs("div",{className:"flex-none border-t border-stone-700 bg-stone-900",children:[l.jsxs("div",{className:"flex flex-col items-center gap-3 py-4 px-4",children:[l.jsx("label",{className:"text-stone-400 text-sm",children:"Zoom"}),l.jsx("input",{type:"range",min:1,max:3,step:.1,value:i,onChange:h=>a(Number(h.target.value)),className:"w-full max-w-xs accent-yellow-400"})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 px-4 py-4 bg-white border-t-2 border-stone-200",children:[l.jsx("button",{type:"button",onClick:n,className:"px-5 py-2.5 rounded-lg text-stone-600 hover:text-stone-900 hover:bg-stone-100 text-sm font-medium transition-colors",children:"Cancel"}),l.jsx("button",{type:"button",onClick:s,disabled:v,className:"px-5 py-2.5 rounded-lg bg-stone-900 text-white text-sm font-semibold hover:bg-stone-800 disabled:opacity-50 transition-colors shadow-sm",children:v?"Saving":"Save crop & continue"})]})]})]})}function v1(){this.__data__=[],this.size=0}var g1=v1;function y1(e,t){return e===t||e!==e&&t!==t}var pm=y1,x1=pm;function b1(e,t){for(var n=e.length;n--;)if(x1(e[n][0],t))return n;return-1}var Ll=b1,w1=Ll,N1=Array.prototype,_1=N1.splice;function j1(e){var t=this.__data__,n=w1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_1.call(t,n,1),--this.size,!0}var S1=j1,E1=Ll;function k1(e){var t=this.__data__,n=E1(t,e);return n<0?void 0:t[n][1]}var O1=k1,T1=Ll;function C1(e){return T1(this.__data__,e)>-1}var A1=C1,P1=Ll;function L1(e,t){var n=this.__data__,r=P1(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var R1=L1,M1=g1,D1=S1,I1=O1,F1=A1,z1=R1;function Ur(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ur.prototype.clear=M1;Ur.prototype.delete=D1;Ur.prototype.get=I1;Ur.prototype.has=F1;Ur.prototype.set=z1;var Rl=Ur,B1=Rl;function U1(){this.__data__=new B1,this.size=0}var q1=U1;function H1(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var $1=H1;function W1(e){return this.__data__.get(e)}var V1=W1;function G1(e){return this.__data__.has(e)}var K1=G1,Z1=typeof yt=="object"&&yt&&yt.Object===Object&&yt,mm=Z1,Y1=mm,Q1=typeof self=="object"&&self&&self.Object===Object&&self,X1=Y1||Q1||Function("return this")(),hn=X1,J1=hn,eb=J1.Symbol,Vu=eb,Xf=Vu,vm=Object.prototype,tb=vm.hasOwnProperty,nb=vm.toString,uo=Xf?Xf.toStringTag:void 0;function rb(e){var t=tb.call(e,uo),n=e[uo];try{e[uo]=void 0;var r=!0}catch{}var o=nb.call(e);return r&&(t?e[uo]=n:delete e[uo]),o}var ob=rb,ib=Object.prototype,lb=ib.toString;function ab(e){return lb.call(e)}var sb=ab,Jf=Vu,ub=ob,cb=sb,fb="[object Null]",db="[object Undefined]",ed=Jf?Jf.toStringTag:void 0;function hb(e){return e==null?e===void 0?db:fb:ed&&ed in Object(e)?ub(e):cb(e)}var Ml=hb;function pb(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gm=pb,mb=Ml,vb=gm,gb="[object AsyncFunction]",yb="[object Function]",xb="[object GeneratorFunction]",bb="[object Proxy]";function wb(e){if(!vb(e))return!1;var t=mb(e);return t==yb||t==xb||t==gb||t==bb}var ym=wb,Nb=hn,_b=Nb["__core-js_shared__"],jb=_b,ka=jb,td=function(){var e=/[^.]+$/.exec(ka&&ka.keys&&ka.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sb(e){return!!td&&td in e}var Eb=Sb,kb=Function.prototype,Ob=kb.toString;function Tb(e){if(e!=null){try{return Ob.call(e)}catch{}try{return e+""}catch{}}return""}var xm=Tb,Cb=ym,Ab=Eb,Pb=gm,Lb=xm,Rb=/[\\^$.*+?()[\]{}|]/g,Mb=/^\[object .+?Constructor\]$/,Db=Function.prototype,Ib=Object.prototype,Fb=Db.toString,zb=Ib.hasOwnProperty,Bb=RegExp("^"+Fb.call(zb).replace(Rb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ub(e){if(!Pb(e)||Ab(e))return!1;var t=Cb(e)?Bb:Mb;return t.test(Lb(e))}var qb=Ub;function Hb(e,t){return e==null?void 0:e[t]}var $b=Hb,Wb=qb,Vb=$b;function Gb(e,t){var n=Vb(e,t);return Wb(n)?n:void 0}var qr=Gb,Kb=qr,Zb=hn,Yb=Kb(Zb,"Map"),Gu=Yb,Qb=qr,Xb=Qb(Object,"create"),Dl=Xb,nd=Dl;function Jb(){this.__data__=nd?nd(null):{},this.size=0}var e2=Jb;function t2(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var n2=t2,r2=Dl,o2="__lodash_hash_undefined__",i2=Object.prototype,l2=i2.hasOwnProperty;function a2(e){var t=this.__data__;if(r2){var n=t[e];return n===o2?void 0:n}return l2.call(t,e)?t[e]:void 0}var s2=a2,u2=Dl,c2=Object.prototype,f2=c2.hasOwnProperty;function d2(e){var t=this.__data__;return u2?t[e]!==void 0:f2.call(t,e)}var h2=d2,p2=Dl,m2="__lodash_hash_undefined__";function v2(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=p2&&t===void 0?m2:t,this}var g2=v2,y2=e2,x2=n2,b2=s2,w2=h2,N2=g2;function Hr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hr.prototype.clear=y2;Hr.prototype.delete=x2;Hr.prototype.get=b2;Hr.prototype.has=w2;Hr.prototype.set=N2;var _2=Hr,rd=_2,j2=Rl,S2=Gu;function E2(){this.size=0,this.__data__={hash:new rd,map:new(S2||j2),string:new rd}}var k2=E2;function O2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var T2=O2,C2=T2;function A2(e,t){var n=e.__data__;return C2(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Il=A2,P2=Il;function L2(e){var t=P2(this,e).delete(e);return this.size-=t?1:0,t}var R2=L2,M2=Il;function D2(e){return M2(this,e).get(e)}var I2=D2,F2=Il;function z2(e){return F2(this,e).has(e)}var B2=z2,U2=Il;function q2(e,t){var n=U2(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var H2=q2,$2=k2,W2=R2,V2=I2,G2=B2,K2=H2;function $r(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$r.prototype.clear=$2;$r.prototype.delete=W2;$r.prototype.get=V2;$r.prototype.has=G2;$r.prototype.set=K2;var bm=$r,Z2=Rl,Y2=Gu,Q2=bm,X2=200;function J2(e,t){var n=this.__data__;if(n instanceof Z2){var r=n.__data__;if(!Y2||r.length<X2-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Q2(r)}return n.set(e,t),this.size=n.size,this}var ew=J2,tw=Rl,nw=q1,rw=$1,ow=V1,iw=K1,lw=ew;function Wr(e){var t=this.__data__=new tw(e);this.size=t.size}Wr.prototype.clear=nw;Wr.prototype.delete=rw;Wr.prototype.get=ow;Wr.prototype.has=iw;Wr.prototype.set=lw;var aw=Wr,sw="__lodash_hash_undefined__";function uw(e){return this.__data__.set(e,sw),this}var cw=uw;function fw(e){return this.__data__.has(e)}var dw=fw,hw=bm,pw=cw,mw=dw;function sl(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new hw;++t<n;)this.add(e[t])}sl.prototype.add=sl.prototype.push=pw;sl.prototype.has=mw;var vw=sl;function gw(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yw=gw;function xw(e,t){return e.has(t)}var bw=xw,ww=vw,Nw=yw,_w=bw,jw=1,Sw=2;function Ew(e,t,n,r,o,i){var a=n&jw,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var v=i.get(e),g=i.get(t);if(v&&g)return v==t&&g==e;var d=-1,s=!0,h=n&Sw?new ww:void 0;for(i.set(e,t),i.set(t,e);++d<c;){var b=e[d],y=t[d];if(r)var w=a?r(y,b,d,t,e,i):r(b,y,d,e,t,i);if(w!==void 0){if(w)continue;s=!1;break}if(h){if(!Nw(t,function(p,f){if(!_w(h,f)&&(b===p||o(b,p,n,r,i)))return h.push(f)})){s=!1;break}}else if(!(b===y||o(b,y,n,r,i))){s=!1;break}}return i.delete(e),i.delete(t),s}var wm=Ew,kw=hn,Ow=kw.Uint8Array,Tw=Ow;function Cw(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var Aw=Cw;function Pw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Lw=Pw,od=Vu,id=Tw,Rw=pm,Mw=wm,Dw=Aw,Iw=Lw,Fw=1,zw=2,Bw="[object Boolean]",Uw="[object Date]",qw="[object Error]",Hw="[object Map]",$w="[object Number]",Ww="[object RegExp]",Vw="[object Set]",Gw="[object String]",Kw="[object Symbol]",Zw="[object ArrayBuffer]",Yw="[object DataView]",ld=od?od.prototype:void 0,Oa=ld?ld.valueOf:void 0;function Qw(e,t,n,r,o,i,a){switch(n){case Yw:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zw:return!(e.byteLength!=t.byteLength||!i(new id(e),new id(t)));case Bw:case Uw:case $w:return Rw(+e,+t);case qw:return e.name==t.name&&e.message==t.message;case Ww:case Gw:return e==t+"";case Hw:var c=Dw;case Vw:var u=r&Fw;if(c||(c=Iw),e.size!=t.size&&!u)return!1;var v=a.get(e);if(v)return v==t;r|=zw,a.set(e,t);var g=Mw(c(e),c(t),r,o,i,a);return a.delete(e),g;case Kw:if(Oa)return Oa.call(e)==Oa.call(t)}return!1}var Xw=Qw;function Jw(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var e5=Jw,t5=Array.isArray,Ku=t5,n5=e5,r5=Ku;function o5(e,t,n){var r=t(e);return r5(e)?r:n5(r,n(e))}var i5=o5;function l5(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var a5=l5;function s5(){return[]}var u5=s5,c5=a5,f5=u5,d5=Object.prototype,h5=d5.propertyIsEnumerable,ad=Object.getOwnPropertySymbols,p5=ad?function(e){return e==null?[]:(e=Object(e),c5(ad(e),function(t){return h5.call(e,t)}))}:f5,m5=p5;function v5(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var g5=v5;function y5(e){return e!=null&&typeof e=="object"}var Fl=y5,x5=Ml,b5=Fl,w5="[object Arguments]";function N5(e){return b5(e)&&x5(e)==w5}var _5=N5,sd=_5,j5=Fl,Nm=Object.prototype,S5=Nm.hasOwnProperty,E5=Nm.propertyIsEnumerable,k5=sd(function(){return arguments}())?sd:function(e){return j5(e)&&S5.call(e,"callee")&&!E5.call(e,"callee")},O5=k5,ul={exports:{}};function T5(){return!1}var C5=T5;ul.exports;(function(e,t){var n=hn,r=C5,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,c=a?n.Buffer:void 0,u=c?c.isBuffer:void 0,v=u||r;e.exports=v})(ul,ul.exports);var _m=ul.exports,A5=9007199254740991,P5=/^(?:0|[1-9]\d*)$/;function L5(e,t){var n=typeof e;return t=t??A5,!!t&&(n=="number"||n!="symbol"&&P5.test(e))&&e>-1&&e%1==0&&e<t}var R5=L5,M5=9007199254740991;function D5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=M5}var jm=D5,I5=Ml,F5=jm,z5=Fl,B5="[object Arguments]",U5="[object Array]",q5="[object Boolean]",H5="[object Date]",$5="[object Error]",W5="[object Function]",V5="[object Map]",G5="[object Number]",K5="[object Object]",Z5="[object RegExp]",Y5="[object Set]",Q5="[object String]",X5="[object WeakMap]",J5="[object ArrayBuffer]",eN="[object DataView]",tN="[object Float32Array]",nN="[object Float64Array]",rN="[object Int8Array]",oN="[object Int16Array]",iN="[object Int32Array]",lN="[object Uint8Array]",aN="[object Uint8ClampedArray]",sN="[object Uint16Array]",uN="[object Uint32Array]",je={};je[tN]=je[nN]=je[rN]=je[oN]=je[iN]=je[lN]=je[aN]=je[sN]=je[uN]=!0;je[B5]=je[U5]=je[J5]=je[q5]=je[eN]=je[H5]=je[$5]=je[W5]=je[V5]=je[G5]=je[K5]=je[Z5]=je[Y5]=je[Q5]=je[X5]=!1;function cN(e){return z5(e)&&F5(e.length)&&!!je[I5(e)]}var fN=cN;function dN(e){return function(t){return e(t)}}var hN=dN,cl={exports:{}};cl.exports;(function(e,t){var n=mm,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,c=function(){try{var u=o&&o.require&&o.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=c})(cl,cl.exports);var pN=cl.exports,mN=fN,vN=hN,ud=pN,cd=ud&&ud.isTypedArray,gN=cd?vN(cd):mN,Sm=gN,yN=g5,xN=O5,bN=Ku,wN=_m,NN=R5,_N=Sm,jN=Object.prototype,SN=jN.hasOwnProperty;function EN(e,t){var n=bN(e),r=!n&&xN(e),o=!n&&!r&&wN(e),i=!n&&!r&&!o&&_N(e),a=n||r||o||i,c=a?yN(e.length,String):[],u=c.length;for(var v in e)(t||SN.call(e,v))&&!(a&&(v=="length"||o&&(v=="offset"||v=="parent")||i&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||NN(v,u)))&&c.push(v);return c}var kN=EN,ON=Object.prototype;function TN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ON;return e===n}var CN=TN;function AN(e,t){return function(n){return e(t(n))}}var PN=AN,LN=PN,RN=LN(Object.keys,Object),MN=RN,DN=CN,IN=MN,FN=Object.prototype,zN=FN.hasOwnProperty;function BN(e){if(!DN(e))return IN(e);var t=[];for(var n in Object(e))zN.call(e,n)&&n!="constructor"&&t.push(n);return t}var UN=BN,qN=ym,HN=jm;function $N(e){return e!=null&&HN(e.length)&&!qN(e)}var WN=$N,VN=kN,GN=UN,KN=WN;function ZN(e){return KN(e)?VN(e):GN(e)}var YN=ZN,QN=i5,XN=m5,JN=YN;function e_(e){return QN(e,JN,XN)}var t_=e_,fd=t_,n_=1,r_=Object.prototype,o_=r_.hasOwnProperty;function i_(e,t,n,r,o,i){var a=n&n_,c=fd(e),u=c.length,v=fd(t),g=v.length;if(u!=g&&!a)return!1;for(var d=u;d--;){var s=c[d];if(!(a?s in t:o_.call(t,s)))return!1}var h=i.get(e),b=i.get(t);if(h&&b)return h==t&&b==e;var y=!0;i.set(e,t),i.set(t,e);for(var w=a;++d<u;){s=c[d];var p=e[s],f=t[s];if(r)var x=a?r(f,p,s,t,e,i):r(p,f,s,e,t,i);if(!(x===void 0?p===f||o(p,f,n,r,i):x)){y=!1;break}w||(w=s=="constructor")}if(y&&!w){var m=e.constructor,N=t.constructor;m!=N&&"constructor"in e&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof N=="function"&&N instanceof N)&&(y=!1)}return i.delete(e),i.delete(t),y}var l_=i_,a_=qr,s_=hn,u_=a_(s_,"DataView"),c_=u_,f_=qr,d_=hn,h_=f_(d_,"Promise"),p_=h_,m_=qr,v_=hn,g_=m_(v_,"Set"),y_=g_,x_=qr,b_=hn,w_=x_(b_,"WeakMap"),N_=w_,Fs=c_,zs=Gu,Bs=p_,Us=y_,qs=N_,Em=Ml,Vr=xm,dd="[object Map]",__="[object Object]",hd="[object Promise]",pd="[object Set]",md="[object WeakMap]",vd="[object DataView]",j_=Vr(Fs),S_=Vr(zs),E_=Vr(Bs),k_=Vr(Us),O_=Vr(qs),Hn=Em;(Fs&&Hn(new Fs(new ArrayBuffer(1)))!=vd||zs&&Hn(new zs)!=dd||Bs&&Hn(Bs.resolve())!=hd||Us&&Hn(new Us)!=pd||qs&&Hn(new qs)!=md)&&(Hn=function(e){var t=Em(e),n=t==__?e.constructor:void 0,r=n?Vr(n):"";if(r)switch(r){case j_:return vd;case S_:return dd;case E_:return hd;case k_:return pd;case O_:return md}return t});var T_=Hn,Ta=aw,C_=wm,A_=Xw,P_=l_,gd=T_,yd=Ku,xd=_m,L_=Sm,R_=1,bd="[object Arguments]",wd="[object Array]",bi="[object Object]",M_=Object.prototype,Nd=M_.hasOwnProperty;function D_(e,t,n,r,o,i){var a=yd(e),c=yd(t),u=a?wd:gd(e),v=c?wd:gd(t);u=u==bd?bi:u,v=v==bd?bi:v;var g=u==bi,d=v==bi,s=u==v;if(s&&xd(e)){if(!xd(t))return!1;a=!0,g=!1}if(s&&!g)return i||(i=new Ta),a||L_(e)?C_(e,t,n,r,o,i):A_(e,t,u,n,r,o,i);if(!(n&R_)){var h=g&&Nd.call(e,"__wrapped__"),b=d&&Nd.call(t,"__wrapped__");if(h||b){var y=h?e.value():e,w=b?t.value():t;return i||(i=new Ta),o(y,w,n,r,i)}}return s?(i||(i=new Ta),P_(e,t,n,r,o,i)):!1}var I_=D_,F_=I_,_d=Fl;function km(e,t,n,r,o){return e===t?!0:e==null||t==null||!_d(e)&&!_d(t)?e!==e&&t!==t:F_(e,t,n,r,km,o)}var z_=km,B_=z_;function U_(e,t){return B_(e,t)}var q_=U_,Om={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,o){e.exports=o()})(typeof self<"u"?self:yt,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,c){o.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:c})},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=109)}([function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(17),a=o(18),c=o(19),u=o(45),v=o(46),g=o(47),d=o(48),s=o(49),h=o(12),b=o(32),y=o(33),w=o(31),p=o(1),f={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:i.default,Format:a.default,Leaf:c.default,Embed:d.default,Scroll:u.default,Block:g.default,Inline:v.default,Text:s.default,Attributor:{Attribute:h.default,Class:b.default,Style:y.default,Store:w.default}};r.default=f},function(n,r,o){var i=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var x in f)f.hasOwnProperty(x)&&(p[x]=f[x])};return function(p,f){w(p,f);function x(){this.constructor=p}p.prototype=f===null?Object.create(f):(x.prototype=f.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=function(w){i(p,w);function p(f){var x=this;return f="[Parchment] "+f,x=w.call(this,f)||this,x.message=f,x.name=x.constructor.name,x}return p}(Error);r.ParchmentError=a;var c={},u={},v={},g={};r.DATA_KEY="__blot";var d;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function s(w,p){var f=b(w);if(f==null)throw new a("Unable to create "+w+" blot");var x=f,m=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:x.create(p);return new x(m,p)}r.create=s;function h(w,p){return p===void 0&&(p=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:p?h(w.parentNode,p):null}r.find=h;function b(w,p){p===void 0&&(p=d.ANY);var f;if(typeof w=="string")f=g[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)f=g.text;else if(typeof w=="number")w&d.LEVEL&d.BLOCK?f=g.block:w&d.LEVEL&d.INLINE&&(f=g.inline);else if(w instanceof HTMLElement){var x=(w.getAttribute("class")||"").split(/\s+/);for(var m in x)if(f=u[x[m]],f)break;f=f||v[w.tagName]}return f==null?null:p&d.LEVEL&f.scope&&p&d.TYPE&f.scope?f:null}r.query=b;function y(){for(var w=[],p=0;p<arguments.length;p++)w[p]=arguments[p];if(w.length>1)return w.map(function(m){return y(m)});var f=w[0];if(typeof f.blotName!="string"&&typeof f.attrName!="string")throw new a("Invalid definition");if(f.blotName==="abstract")throw new a("Cannot register abstract class");if(g[f.blotName||f.attrName]=f,typeof f.keyName=="string")c[f.keyName]=f;else if(f.className!=null&&(u[f.className]=f),f.tagName!=null){Array.isArray(f.tagName)?f.tagName=f.tagName.map(function(m){return m.toUpperCase()}):f.tagName=f.tagName.toUpperCase();var x=Array.isArray(f.tagName)?f.tagName:[f.tagName];x.forEach(function(m){(v[m]==null||f.className==null)&&(v[m]=f)})}return f}r.register=y},function(n,r,o){var i=o(51),a=o(11),c=o(3),u=o(20),v="\0",g=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};g.prototype.insert=function(d,s){var h={};return d.length===0?this:(h.insert=d,s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(h.attributes=s),this.push(h))},g.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},g.prototype.retain=function(d,s){if(d<=0)return this;var h={retain:d};return s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(h.attributes=s),this.push(h)},g.prototype.push=function(d){var s=this.ops.length,h=this.ops[s-1];if(d=c(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[s-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(s-=1,h=this.ops[s-1],typeof h!="object"))return this.ops.unshift(d),this;if(a(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[s-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[s-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[s-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[s-1].attributes=d.attributes),this}}return s===this.ops.length?this.ops.push(d):this.ops.splice(s,0,d),this},g.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},g.prototype.filter=function(d){return this.ops.filter(d)},g.prototype.forEach=function(d){this.ops.forEach(d)},g.prototype.map=function(d){return this.ops.map(d)},g.prototype.partition=function(d){var s=[],h=[];return this.forEach(function(b){var y=d(b)?s:h;y.push(b)}),[s,h]},g.prototype.reduce=function(d,s){return this.ops.reduce(d,s)},g.prototype.changeLength=function(){return this.reduce(function(d,s){return s.insert?d+u.length(s):s.delete?d-s.delete:d},0)},g.prototype.length=function(){return this.reduce(function(d,s){return d+u.length(s)},0)},g.prototype.slice=function(d,s){d=d||0,typeof s!="number"&&(s=1/0);for(var h=[],b=u.iterator(this.ops),y=0;y<s&&b.hasNext();){var w;y<d?w=b.next(d-y):(w=b.next(s-y),h.push(w)),y+=u.length(w)}return new g(h)},g.prototype.compose=function(d){var s=u.iterator(this.ops),h=u.iterator(d.ops),b=[],y=h.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;s.peekType()==="insert"&&s.peekLength()<=w;)w-=s.peekLength(),b.push(s.next());y.retain-w>0&&h.next(y.retain-w)}for(var p=new g(b);s.hasNext()||h.hasNext();)if(h.peekType()==="insert")p.push(h.next());else if(s.peekType()==="delete")p.push(s.next());else{var f=Math.min(s.peekLength(),h.peekLength()),x=s.next(f),m=h.next(f);if(typeof m.retain=="number"){var N={};typeof x.retain=="number"?N.retain=f:N.insert=x.insert;var k=u.attributes.compose(x.attributes,m.attributes,typeof x.retain=="number");if(k&&(N.attributes=k),p.push(N),!h.hasNext()&&a(p.ops[p.ops.length-1],N)){var S=new g(s.rest());return p.concat(S).chop()}}else typeof m.delete=="number"&&typeof x.retain=="number"&&p.push(m)}return p.chop()},g.prototype.concat=function(d){var s=new g(this.ops.slice());return d.ops.length>0&&(s.push(d.ops[0]),s.ops=s.ops.concat(d.ops.slice(1))),s},g.prototype.diff=function(d,s){if(this.ops===d.ops)return new g;var h=[this,d].map(function(f){return f.map(function(x){if(x.insert!=null)return typeof x.insert=="string"?x.insert:v;var m=f===d?"on":"with";throw new Error("diff() called "+m+" non-document")}).join("")}),b=new g,y=i(h[0],h[1],s),w=u.iterator(this.ops),p=u.iterator(d.ops);return y.forEach(function(f){for(var x=f[1].length;x>0;){var m=0;switch(f[0]){case i.INSERT:m=Math.min(p.peekLength(),x),b.push(p.next(m));break;case i.DELETE:m=Math.min(x,w.peekLength()),w.next(m),b.delete(m);break;case i.EQUAL:m=Math.min(w.peekLength(),p.peekLength(),x);var N=w.next(m),k=p.next(m);a(N.insert,k.insert)?b.retain(m,u.attributes.diff(N.attributes,k.attributes)):b.push(k).delete(m);break}x-=m}}),b.chop()},g.prototype.eachLine=function(d,s){s=s||`
`;for(var h=u.iterator(this.ops),b=new g,y=0;h.hasNext();){if(h.peekType()!=="insert")return;var w=h.peek(),p=u.length(w)-h.peekLength(),f=typeof w.insert=="string"?w.insert.indexOf(s,p)-p:-1;if(f<0)b.push(h.next());else if(f>0)b.push(h.next(f));else{if(d(b,h.next(1).attributes||{},y)===!1)return;y+=1,b=new g}}b.length()>0&&d(b,{},y)},g.prototype.transform=function(d,s){if(s=!!s,typeof d=="number")return this.transformPosition(d,s);for(var h=u.iterator(this.ops),b=u.iterator(d.ops),y=new g;h.hasNext()||b.hasNext();)if(h.peekType()==="insert"&&(s||b.peekType()!=="insert"))y.retain(u.length(h.next()));else if(b.peekType()==="insert")y.push(b.next());else{var w=Math.min(h.peekLength(),b.peekLength()),p=h.next(w),f=b.next(w);if(p.delete)continue;f.delete?y.push(f):y.retain(w,u.attributes.transform(p.attributes,f.attributes,s))}return y.chop()},g.prototype.transformPosition=function(d,s){s=!!s;for(var h=u.iterator(this.ops),b=0;h.hasNext()&&b<=d;){var y=h.peekLength(),w=h.peekType();if(h.next(),w==="delete"){d-=Math.min(y,d-b);continue}else w==="insert"&&(b<d||!s)&&(d+=y);b+=y}return d},n.exports=g},function(n,r){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=function(h){return typeof Array.isArray=="function"?Array.isArray(h):i.call(h)==="[object Array]"},v=function(h){if(!h||i.call(h)!=="[object Object]")return!1;var b=o.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&o.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!b&&!y)return!1;var w;for(w in h);return typeof w>"u"||o.call(h,w)},g=function(h,b){a&&b.name==="__proto__"?a(h,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):h[b.name]=b.newValue},d=function(h,b){if(b==="__proto__")if(o.call(h,b)){if(c)return c(h,b).value}else return;return h[b]};n.exports=function s(){var h,b,y,w,p,f,x=arguments[0],m=1,N=arguments.length,k=!1;for(typeof x=="boolean"&&(k=x,x=arguments[1]||{},m=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});m<N;++m)if(h=arguments[m],h!=null)for(b in h)y=d(x,b),w=d(h,b),x!==w&&(k&&w&&(v(w)||(p=u(w)))?(p?(p=!1,f=y&&u(y)?y:[]):f=y&&v(y)?y:{},g(x,{name:b,newValue:s(k,f,w)})):typeof w<"u"&&g(x,{name:b,newValue:w}));return x}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=function(){function j(O,C){for(var M=0;M<C.length;M++){var D=C[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}return function(O,C,M){return C&&j(O.prototype,C),M&&j(O,M),O}}(),a=function j(O,C,M){O===null&&(O=Function.prototype);var D=Object.getOwnPropertyDescriptor(O,C);if(D===void 0){var q=Object.getPrototypeOf(O);return q===null?void 0:j(q,C,M)}else{if("value"in D)return D.value;var $=D.get;return $===void 0?void 0:$.call(M)}},c=o(3),u=x(c),v=o(2),g=x(v),d=o(0),s=x(d),h=o(16),b=x(h),y=o(6),w=x(y),p=o(7),f=x(p);function x(j){return j&&j.__esModule?j:{default:j}}function m(j,O){if(!(j instanceof O))throw new TypeError("Cannot call a class as a function")}function N(j,O){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:j}function k(j,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);j.prototype=Object.create(O&&O.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(j,O):j.__proto__=O)}var S=1,E=function(j){k(O,j);function O(){return m(this,O),N(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"attach",value:function(){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new g.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,D){var q=s.default.query(M,s.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,D)}},{key:"formatAt",value:function(M,D,q,$){this.format(q,$)}},{key:"insertAt",value:function(M,D,q){if(typeof D=="string"&&D.endsWith(`
`)){var $=s.default.create(P.blotName);this.parent.insertBefore($,M===0?this:this.next),$.insertAt(0,D.slice(0,-1))}else a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,M,D,q)}}]),O}(s.default.Embed);E.scope=s.default.Scope.BLOCK_BLOT;var P=function(j){k(O,j);function O(C){m(this,O);var M=N(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C));return M.cache={},M}return i(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(M,D){return D.length()===0?M:M.insert(D.value(),_(D))},new g.default).insert(`
`,_(this))),this.cache.delta}},{key:"deleteAt",value:function(M,D){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,M,D),this.cache={}}},{key:"formatAt",value:function(M,D,q,$){D<=0||(s.default.query(q,s.default.Scope.BLOCK)?M+D===this.length()&&this.format(q,$):a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,M,Math.min(D,this.length()-M-1),q,$),this.cache={})}},{key:"insertAt",value:function(M,D,q){if(q!=null)return a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,M,D,q);if(D.length!==0){var $=D.split(`
`),W=$.shift();W.length>0&&(M<this.length()-1||this.children.tail==null?a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var B=this;$.reduce(function(A,T){return B=B.split(A,!0),B.insertAt(0,T),T.length},M+W.length)}}},{key:"insertBefore",value:function(M,D){var q=this.children.head;a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,M,D),q instanceof b.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(M,D){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,M,D),this.cache={}}},{key:"optimize",value:function(M){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(M===0||M>=this.length()-S)){var q=this.clone();return M===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var $=a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,M,D);return this.cache={},$}}}]),O}(s.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[w.default,s.default.Embed,f.default];function _(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return j==null||(typeof j.formats=="function"&&(O=(0,u.default)(O,j.formats())),j.parent==null||j.parent.blotName=="scroll"||j.parent.statics.scope!==j.statics.scope)?O:_(j.parent,O)}r.bubbleFormats=_,r.BlockEmbed=E,r.default=P},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},a=function(){function B(A,T){var R=[],I=!0,V=!1,F=void 0;try{for(var L=A[Symbol.iterator](),U;!(I=(U=L.next()).done)&&(R.push(U.value),!(T&&R.length===T));I=!0);}catch(K){V=!0,F=K}finally{try{!I&&L.return&&L.return()}finally{if(V)throw F}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return B(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function B(A,T){for(var R=0;R<T.length;R++){var I=T[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,T,R){return T&&B(A.prototype,T),R&&B(A,R),A}}();o(50);var u=o(2),v=_(u),g=o(14),d=_(g),s=o(8),h=_(s),b=o(9),y=_(b),w=o(0),p=_(w),f=o(15),x=_(f),m=o(3),N=_(m),k=o(10),S=_(k),E=o(34),P=_(E);function _(B){return B&&B.__esModule?B:{default:B}}function j(B,A,T){return A in B?Object.defineProperty(B,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[A]=T,B}function O(B,A){if(!(B instanceof A))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),M=function(){c(B,null,[{key:"debug",value:function(T){T===!0&&(T="log"),S.default.level(T)}},{key:"find",value:function(T){return T.__quill||p.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&C.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,R){var I=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var F=T.attrName||T.blotName;typeof F=="string"?this.register("formats/"+F,T,R):Object.keys(T).forEach(function(L){I.register(L,T[L],R)})}else this.imports[T]!=null&&!V&&C.warn("Overwriting "+T+" with",R),this.imports[T]=R,(T.startsWith("blots/")||T.startsWith("formats/"))&&R.blotName!=="abstract"?p.default.register(R):T.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function B(A){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,B),this.options=D(A,R),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",A);this.options.debug&&B.debug(this.options.debug);var I=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new x.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(F){F===h.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(F,L){var U=T.selection.lastRange,K=U&&U.length===0?U.index:void 0;q.call(T,function(){return T.editor.update(null,L,K)},F)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+I+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(B,[{key:"addContainer",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var I=T;T=document.createElement("div"),T.classList.add(I)}return this.container.insertBefore(T,R),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,R,I){var V=this,F=$(T,R,I),L=a(F,4);return T=L[0],R=L[1],I=L[3],q.call(this,function(){return V.editor.deleteText(T,R)},I,T,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,R){var I=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return q.call(this,function(){var F=I.getSelection(!0),L=new v.default;if(F==null)return L;if(p.default.query(T,p.default.Scope.BLOCK))L=I.editor.formatLine(F.index,F.length,j({},T,R));else{if(F.length===0)return I.selection.format(T,R),L;L=I.editor.formatText(F.index,F.length,j({},T,R))}return I.setSelection(F,h.default.sources.SILENT),L},V)}},{key:"formatLine",value:function(T,R,I,V,F){var L=this,U=void 0,K=$(T,R,I,V,F),Z=a(K,4);return T=Z[0],R=Z[1],U=Z[2],F=Z[3],q.call(this,function(){return L.editor.formatLine(T,R,U)},F,T,0)}},{key:"formatText",value:function(T,R,I,V,F){var L=this,U=void 0,K=$(T,R,I,V,F),Z=a(K,4);return T=Z[0],R=Z[1],U=Z[2],F=Z[3],q.call(this,function(){return L.editor.formatText(T,R,U)},F,T,0)}},{key:"getBounds",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=void 0;typeof T=="number"?I=this.selection.getBounds(T,R):I=this.selection.getBounds(T.index,T.length);var V=this.container.getBoundingClientRect();return{bottom:I.bottom-V.top,height:I.height,left:I.left-V.left,right:I.right-V.left,top:I.top-V.top,width:I.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,I=$(T,R),V=a(I,2);return T=V[0],R=V[1],this.editor.getContents(T,R)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,R):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,R)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,I=$(T,R),V=a(I,2);return T=V[0],R=V[1],this.editor.getText(T,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,R,I){var V=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return q.call(this,function(){return V.editor.insertEmbed(T,R,I)},F,T)}},{key:"insertText",value:function(T,R,I,V,F){var L=this,U=void 0,K=$(T,0,I,V,F),Z=a(K,4);return T=Z[0],U=Z[2],F=Z[3],q.call(this,function(){return L.editor.insertText(T,R,U)},F,T,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,R,I){this.clipboard.dangerouslyPasteHTML(T,R,I)}},{key:"removeFormat",value:function(T,R,I){var V=this,F=$(T,R,I),L=a(F,4);return T=L[0],R=L[1],I=L[3],q.call(this,function(){return V.editor.removeFormat(T,R)},I,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var R=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return q.call(this,function(){T=new v.default(T);var V=R.getLength(),F=R.editor.deleteText(0,V),L=R.editor.applyDelta(T),U=L.ops[L.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),L.delete(1));var K=F.compose(L);return K},I)}},{key:"setSelection",value:function(T,R,I){if(T==null)this.selection.setRange(null,R||B.sources.API);else{var V=$(T,R,I),F=a(V,4);T=F[0],R=F[1],I=F[3],this.selection.setRange(new f.Range(T,R),I),I!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,I=new v.default().insert(T);return this.setContents(I,R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,R=this.scroll.update(T);return this.selection.update(T),R}},{key:"updateContents",value:function(T){var R=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return q.call(this,function(){return T=new v.default(T),R.editor.applyDelta(T,I)},I,!0)}}]),B}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=h.default.events,M.sources=h.default.sources,M.version="1.3.7",M.imports={delta:v.default,parchment:p.default,"core/module":y.default,"core/theme":P.default};function D(B,A){if(A=(0,N.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},A),!A.theme||A.theme===M.DEFAULTS.theme)A.theme=P.default;else if(A.theme=M.import("themes/"+A.theme),A.theme==null)throw new Error("Invalid theme "+A.theme+". Did you register it?");var T=(0,N.default)(!0,{},A.theme.DEFAULTS);[T,A].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(F){V.modules[F]===!0&&(V.modules[F]={})})});var R=Object.keys(T.modules).concat(Object.keys(A.modules)),I=R.reduce(function(V,F){var L=M.import("modules/"+F);return L==null?C.error("Cannot load "+F+" module. Are you sure you registered it?"):V[F]=L.DEFAULTS||{},V},{});return A.modules!=null&&A.modules.toolbar&&A.modules.toolbar.constructor!==Object&&(A.modules.toolbar={container:A.modules.toolbar}),A=(0,N.default)(!0,{},M.DEFAULTS,{modules:I},T,A),["bounds","container","scrollingContainer"].forEach(function(V){typeof A[V]=="string"&&(A[V]=document.querySelector(A[V]))}),A.modules=Object.keys(A.modules).reduce(function(V,F){return A.modules[F]&&(V[F]=A.modules[F]),V},{}),A}function q(B,A,T,R){if(this.options.strict&&!this.isEnabled()&&A===h.default.sources.USER)return new v.default;var I=T==null?null:this.getSelection(),V=this.editor.delta,F=B();if(I!=null&&(T===!0&&(T=I.index),R==null?I=W(I,F,A):R!==0&&(I=W(I,T,R,A)),this.setSelection(I,h.default.sources.SILENT)),F.length()>0){var L,U=[h.default.events.TEXT_CHANGE,F,V,A];if((L=this.emitter).emit.apply(L,[h.default.events.EDITOR_CHANGE].concat(U)),A!==h.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,U)}}return F}function $(B,A,T,R,I){var V={};return typeof B.index=="number"&&typeof B.length=="number"?typeof A!="number"?(I=R,R=T,T=A,A=B.length,B=B.index):(A=B.length,B=B.index):typeof A!="number"&&(I=R,R=T,T=A,A=0),(typeof T>"u"?"undefined":i(T))==="object"?(V=T,I=R):typeof T=="string"&&(R!=null?V[T]=R:I=T),I=I||h.default.sources.API,[B,A,V,I]}function W(B,A,T,R){if(B==null)return null;var I=void 0,V=void 0;if(A instanceof v.default){var F=[B.index,B.index+B.length].map(function(Z){return A.transformPosition(Z,R!==h.default.sources.USER)}),L=a(F,2);I=L[0],V=L[1]}else{var U=[B.index,B.index+B.length].map(function(Z){return Z<A||Z===A&&R===h.default.sources.USER?Z:T>=0?Z+T:Math.max(A,Z+T)}),K=a(U,2);I=K[0],V=K[1]}return new f.Range(I,V-I)}r.expandConfig=D,r.overload=$,r.default=M},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function w(p,f){for(var x=0;x<f.length;x++){var m=f[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,x){return f&&w(p.prototype,f),x&&w(p,x),p}}(),a=function w(p,f,x){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,f);if(m===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:w(N,f,x)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(x)}},c=o(7),u=d(c),v=o(0),g=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function s(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}function h(w,p){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:w}function b(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);w.prototype=Object.create(p&&p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(w,p):w.__proto__=p)}var y=function(w){b(p,w);function p(){return s(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"formatAt",value:function(x,m,N,k){if(p.compare(this.statics.blotName,N)<0&&g.default.query(N,g.default.Scope.BLOT)){var S=this.isolate(x,m);k&&S.wrap(N,k)}else a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,x,m,N,k)}},{key:"optimize",value:function(x){if(a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,x),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var m=this.parent.isolate(this.offset(),this.length());this.moveChildren(m),m.wrap(this)}}}],[{key:"compare",value:function(x,m){var N=p.order.indexOf(x),k=p.order.indexOf(m);return N>=0||k>=0?N-k:x===m?0:x<m?-1:1}}]),p}(g.default.Inline);y.allowedChildren=[y,g.default.Embed,u.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}function u(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function v(s,h){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:s}function g(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(s,h):s.__proto__=h)}var d=function(s){g(h,s);function h(){return u(this,h),v(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default.Text);r.default=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function f(x,m){for(var N=0;N<m.length;N++){var k=m[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,m,N){return m&&f(x.prototype,m),N&&f(x,N),x}}(),a=function f(x,m,N){x===null&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,m);if(k===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:f(S,m,N)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(N)}},c=o(54),u=d(c),v=o(10),g=d(v);function d(f){return f&&f.__esModule?f:{default:f}}function s(f,x){if(!(f instanceof x))throw new TypeError("Cannot call a class as a function")}function h(f,x){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:f}function b(f,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);f.prototype=Object.create(x&&x.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(f,x):f.__proto__=x)}var y=(0,g.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(f){document.addEventListener(f,function(){for(var x=arguments.length,m=Array(x),N=0;N<x;N++)m[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,m)}})})});var p=function(f){b(x,f);function x(){s(this,x);var m=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return m.listeners={},m.on("error",y.error),m}return i(x,[{key:"emit",value:function(){y.log.apply(y,arguments),a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var k=arguments.length,S=Array(k>1?k-1:0),E=1;E<k;E++)S[E-1]=arguments[E];(this.listeners[N.type]||[]).forEach(function(P){var _=P.node,j=P.handler;(N.target===_||_.contains(N.target))&&j.apply(void 0,[N].concat(S))})}},{key:"listenDOM",value:function(N,k,S){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:k,handler:S})}}]),x}(u.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});function i(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function c(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,c),this.quill=u,this.options=v};a.DEFAULTS={},r.default=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";function c(v){if(i.indexOf(v)<=i.indexOf(a)){for(var g,d=arguments.length,s=Array(d>1?d-1:0),h=1;h<d;h++)s[h-1]=arguments[h];(g=console)[v].apply(g,s)}}function u(v){return i.reduce(function(g,d){return g[d]=c.bind(console,d,v),g},{})}c.level=u.level=function(v){a=v},r.default=u},function(n,r,o){var i=Array.prototype.slice,a=o(52),c=o(53),u=n.exports=function(s,h,b){return b||(b={}),s===h?!0:s instanceof Date&&h instanceof Date?s.getTime()===h.getTime():!s||!h||typeof s!="object"&&typeof h!="object"?b.strict?s===h:s==h:d(s,h,b)};function v(s){return s==null}function g(s){return!(!s||typeof s!="object"||typeof s.length!="number"||typeof s.copy!="function"||typeof s.slice!="function"||s.length>0&&typeof s[0]!="number")}function d(s,h,b){var y,w;if(v(s)||v(h)||s.prototype!==h.prototype)return!1;if(c(s))return c(h)?(s=i.call(s),h=i.call(h),u(s,h,b)):!1;if(g(s)){if(!g(h)||s.length!==h.length)return!1;for(y=0;y<s.length;y++)if(s[y]!==h[y])return!1;return!0}try{var p=a(s),f=a(h)}catch{return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),y=p.length-1;y>=0;y--)if(p[y]!=f[y])return!1;for(y=p.length-1;y>=0;y--)if(w=p[y],!u(s[w],h[w],b))return!1;return typeof s==typeof h}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(1),a=function(){function c(u,v,g){g===void 0&&(g={}),this.attrName=u,this.keyName=v;var d=i.Scope.TYPE&i.Scope.ATTRIBUTE;g.scope!=null?this.scope=g.scope&i.Scope.LEVEL|d:this.scope=i.Scope.ATTRIBUTE,g.whitelist!=null&&(this.whitelist=g.whitelist)}return c.keys=function(u){return[].map.call(u.attributes,function(v){return v.name})},c.prototype.add=function(u,v){return this.canAdd(u,v)?(u.setAttribute(this.keyName,v),!0):!1},c.prototype.canAdd=function(u,v){var g=i.query(u,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return g==null?!1:this.whitelist==null?!0:typeof v=="string"?this.whitelist.indexOf(v.replace(/["']/g,""))>-1:this.whitelist.indexOf(v)>-1},c.prototype.remove=function(u){u.removeAttribute(this.keyName)},c.prototype.value=function(u){var v=u.getAttribute(this.keyName);return this.canAdd(u,v)&&v?v:""},c}();r.default=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=function(){function E(P,_){var j=[],O=!0,C=!1,M=void 0;try{for(var D=P[Symbol.iterator](),q;!(O=(q=D.next()).done)&&(j.push(q.value),!(_&&j.length===_));O=!0);}catch($){C=!0,M=$}finally{try{!O&&D.return&&D.return()}finally{if(C)throw M}}return j}return function(P,_){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function E(P,_){for(var j=0;j<_.length;j++){var O=_[j];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,_,j){return _&&E(P.prototype,_),j&&E(P,j),P}}(),c=function E(P,_,j){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,_);if(O===void 0){var C=Object.getPrototypeOf(P);return C===null?void 0:E(C,_,j)}else{if("value"in O)return O.value;var M=O.get;return M===void 0?void 0:M.call(j)}},u=o(2),v=f(u),g=o(0),d=f(g),s=o(4),h=f(s),b=o(6),y=f(b),w=o(7),p=f(w);function f(E){return E&&E.__esModule?E:{default:E}}function x(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function m(E,P){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:E}function N(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(E,P):E.__proto__=P)}var k=function(E){N(P,E);function P(){return x(this,P),m(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(y.default);k.blotName="code",k.tagName="CODE";var S=function(E){N(P,E);function P(){return x(this,P),m(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"delta",value:function(){var j=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(C,M){return C.insert(M).insert(`
`,j.formats())},new v.default)}},{key:"format",value:function(j,O){if(!(j===this.statics.blotName&&O)){var C=this.descendant(p.default,this.length()-1),M=i(C,1),D=M[0];D!=null&&D.deleteAt(D.length()-1,1),c(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,j,O)}}},{key:"formatAt",value:function(j,O,C,M){if(O!==0&&!(d.default.query(C,d.default.Scope.BLOCK)==null||C===this.statics.blotName&&M===this.statics.formats(this.domNode))){var D=this.newlineIndex(j);if(!(D<0||D>=j+O)){var q=this.newlineIndex(j,!0)+1,$=D-q+1,W=this.isolate(q,$),B=W.next;W.format(C,M),B instanceof P&&B.formatAt(0,j-q+O-$,C,M)}}}},{key:"insertAt",value:function(j,O,C){if(C==null){var M=this.descendant(p.default,j),D=i(M,2),q=D[0],$=D[1];q.insertAt($,O)}}},{key:"length",value:function(){var j=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?j:j+1}},{key:"newlineIndex",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,j).lastIndexOf(`
`);var C=this.domNode.textContent.slice(j).indexOf(`
`);return C>-1?j+C:-1}},{key:"optimize",value:function(j){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),c(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,j);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(j),O.moveChildren(this),O.remove())}},{key:"replace",value:function(j){c(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,j),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var C=d.default.find(O);C==null?O.parentNode.removeChild(O):C instanceof d.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(j){var O=c(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,j);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),P}(h.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},a=function(){function B(A,T){var R=[],I=!0,V=!1,F=void 0;try{for(var L=A[Symbol.iterator](),U;!(I=(U=L.next()).done)&&(R.push(U.value),!(T&&R.length===T));I=!0);}catch(K){V=!0,F=K}finally{try{!I&&L.return&&L.return()}finally{if(V)throw F}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return B(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function B(A,T){for(var R=0;R<T.length;R++){var I=T[R];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,T,R){return T&&B(A.prototype,T),R&&B(A,R),A}}(),u=o(2),v=O(u),g=o(20),d=O(g),s=o(0),h=O(s),b=o(13),y=O(b),w=o(24),p=O(w),f=o(4),x=O(f),m=o(16),N=O(m),k=o(21),S=O(k),E=o(11),P=O(E),_=o(3),j=O(_);function O(B){return B&&B.__esModule?B:{default:B}}function C(B,A,T){return A in B?Object.defineProperty(B,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[A]=T,B}function M(B,A){if(!(B instanceof A))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,q=function(){function B(A){M(this,B),this.scroll=A,this.delta=this.getDelta()}return c(B,[{key:"applyDelta",value:function(T){var R=this,I=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),T=W(T),T.reduce(function(F,L){var U=L.retain||L.delete||L.insert.length||1,K=L.attributes||{};if(L.insert!=null){if(typeof L.insert=="string"){var Z=L.insert;Z.endsWith(`
`)&&I&&(I=!1,Z=Z.slice(0,-1)),F>=V&&!Z.endsWith(`
`)&&(I=!0),R.scroll.insertAt(F,Z);var J=R.scroll.line(F),re=a(J,2),se=re[0],ue=re[1],he=(0,j.default)({},(0,f.bubbleFormats)(se));if(se instanceof x.default){var pe=se.descendant(h.default.Leaf,ue),Me=a(pe,1),we=Me[0];he=(0,j.default)(he,(0,f.bubbleFormats)(we))}K=d.default.attributes.diff(he,K)||{}}else if(i(L.insert)==="object"){var Y=Object.keys(L.insert)[0];if(Y==null)return F;R.scroll.insertAt(F,Y,L.insert[Y])}V+=U}return Object.keys(K).forEach(function(G){R.scroll.formatAt(F,U,G,K[G])}),F+U},0),T.reduce(function(F,L){return typeof L.delete=="number"?(R.scroll.deleteAt(F,L.delete),F):F+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,R){return this.scroll.deleteAt(T,R),this.update(new v.default().retain(T).delete(R))}},{key:"formatLine",value:function(T,R){var I=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(F){if(!(I.scroll.whitelist!=null&&!I.scroll.whitelist[F])){var L=I.scroll.lines(T,Math.max(R,1)),U=R;L.forEach(function(K){var Z=K.length();if(!(K instanceof y.default))K.format(F,V[F]);else{var J=T-K.offset(I.scroll),re=K.newlineIndex(J+U)-J+1;K.formatAt(J,re,F,V[F])}U-=Z})}}),this.scroll.optimize(),this.update(new v.default().retain(T).retain(R,(0,S.default)(V)))}},{key:"formatText",value:function(T,R){var I=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(F){I.scroll.formatAt(T,R,F,V[F])}),this.update(new v.default().retain(T).retain(R,(0,S.default)(V)))}},{key:"getContents",value:function(T,R){return this.delta.slice(T,T+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,R){return T.concat(R.delta())},new v.default)}},{key:"getFormat",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=[],V=[];R===0?this.scroll.path(T).forEach(function(L){var U=a(L,1),K=U[0];K instanceof x.default?I.push(K):K instanceof h.default.Leaf&&V.push(K)}):(I=this.scroll.lines(T,R),V=this.scroll.descendants(h.default.Leaf,T,R));var F=[I,V].map(function(L){if(L.length===0)return{};for(var U=(0,f.bubbleFormats)(L.shift());Object.keys(U).length>0;){var K=L.shift();if(K==null)return U;U=$((0,f.bubbleFormats)(K),U)}return U});return j.default.apply(j.default,F)}},{key:"getText",value:function(T,R){return this.getContents(T,R).filter(function(I){return typeof I.insert=="string"}).map(function(I){return I.insert}).join("")}},{key:"insertEmbed",value:function(T,R,I){return this.scroll.insertAt(T,R,I),this.update(new v.default().retain(T).insert(C({},R,I)))}},{key:"insertText",value:function(T,R){var I=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,R),Object.keys(V).forEach(function(F){I.scroll.formatAt(T,R.length,F,V[F])}),this.update(new v.default().retain(T).insert(R,(0,S.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==x.default.blotName||T.children.length>1?!1:T.children.head instanceof N.default}},{key:"removeFormat",value:function(T,R){var I=this.getText(T,R),V=this.scroll.line(T+R),F=a(V,2),L=F[0],U=F[1],K=0,Z=new v.default;L!=null&&(L instanceof y.default?K=L.newlineIndex(U)-U+1:K=L.length()-U,Z=L.delta().slice(U,U+K-1).insert(`
`));var J=this.getContents(T,R+K),re=J.diff(new v.default().insert(I).concat(Z)),se=new v.default().retain(T).concat(re);return this.applyDelta(se)}},{key:"update",value:function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(D)&&h.default.find(R[0].target)){var F=h.default.find(R[0].target),L=(0,f.bubbleFormats)(F),U=F.offset(this.scroll),K=R[0].oldValue.replace(p.default.CONTENTS,""),Z=new v.default().insert(K),J=new v.default().insert(F.value()),re=new v.default().retain(U).concat(Z.diff(J,I));T=re.reduce(function(se,ue){return ue.insert?se.insert(ue.insert,L):se.push(ue)},new v.default),this.delta=V.compose(T)}else this.delta=this.getDelta(),(!T||!(0,P.default)(V.compose(T),this.delta))&&(T=V.diff(this.delta,I));return T}}]),B}();function $(B,A){return Object.keys(A).reduce(function(T,R){return B[R]==null||(A[R]===B[R]?T[R]=A[R]:Array.isArray(A[R])?A[R].indexOf(B[R])<0&&(T[R]=A[R].concat([B[R]])):T[R]=[A[R],B[R]]),T},{})}function W(B){return B.reduce(function(A,T){if(T.insert===1){var R=(0,S.default)(T.attributes);return delete R.image,A.insert({image:T.attributes.image},R)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,S.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var I=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return A.insert(I,T.attributes)}return A.push(T)},new v.default)}r.default=q},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=function(){function E(P,_){var j=[],O=!0,C=!1,M=void 0;try{for(var D=P[Symbol.iterator](),q;!(O=(q=D.next()).done)&&(j.push(q.value),!(_&&j.length===_));O=!0);}catch($){C=!0,M=$}finally{try{!O&&D.return&&D.return()}finally{if(C)throw M}}return j}return function(P,_){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function E(P,_){for(var j=0;j<_.length;j++){var O=_[j];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,_,j){return _&&E(P.prototype,_),j&&E(P,j),P}}(),c=o(0),u=p(c),v=o(21),g=p(v),d=o(11),s=p(d),h=o(8),b=p(h),y=o(10),w=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function f(E){if(Array.isArray(E)){for(var P=0,_=Array(E.length);P<E.length;P++)_[P]=E[P];return _}else return Array.from(E)}function x(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}var m=(0,w.default)("quill:selection"),N=function E(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;x(this,E),this.index=P,this.length=_},k=function(){function E(P,_){var j=this;x(this,E),this.emitter=_,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){j.mouseDown||setTimeout(j.update.bind(j,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(O,C){O===b.default.events.TEXT_CHANGE&&C.length()>0&&j.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(j.hasFocus()){var O=j.getNativeRange();O!=null&&O.start.node!==j.cursor.textNode&&j.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{j.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(O,C){if(C.range){var M=C.range,D=M.startNode,q=M.startOffset,$=M.endNode,W=M.endOffset;j.setNativeRange(D,q,$,W)}}),this.update(b.default.sources.SILENT)}return a(E,[{key:"handleComposition",value:function(){var _=this;this.root.addEventListener("compositionstart",function(){_.composing=!0}),this.root.addEventListener("compositionend",function(){if(_.composing=!1,_.cursor.parent){var j=_.cursor.restore();if(!j)return;setTimeout(function(){_.setNativeRange(j.startNode,j.startOffset,j.endNode,j.endOffset)},1)}})}},{key:"handleDragging",value:function(){var _=this;this.emitter.listenDOM("mousedown",document.body,function(){_.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){_.mouseDown=!1,_.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(_,j){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[_])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||u.default.query(_,u.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var C=u.default.find(O.start.node,!1);if(C==null)return;if(C instanceof u.default.Leaf){var M=C.split(O.start.offset);C.parent.insertBefore(this.cursor,M)}else C.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(_,j),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(_){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();_=Math.min(_,O-1),j=Math.min(_+j,O-1)-_;var C=void 0,M=this.scroll.leaf(_),D=i(M,2),q=D[0],$=D[1];if(q==null)return null;var W=q.position($,!0),B=i(W,2);C=B[0],$=B[1];var A=document.createRange();if(j>0){A.setStart(C,$);var T=this.scroll.leaf(_+j),R=i(T,2);if(q=R[0],$=R[1],q==null)return null;var I=q.position($,!0),V=i(I,2);return C=V[0],$=V[1],A.setEnd(C,$),A.getBoundingClientRect()}else{var F="left",L=void 0;return C instanceof Text?($<C.data.length?(A.setStart(C,$),A.setEnd(C,$+1)):(A.setStart(C,$-1),A.setEnd(C,$),F="right"),L=A.getBoundingClientRect()):(L=q.domNode.getBoundingClientRect(),$>0&&(F="right")),{bottom:L.top+L.height,height:L.height,left:L[F],right:L[F],top:L.top,width:0}}}},{key:"getNativeRange",value:function(){var _=document.getSelection();if(_==null||_.rangeCount<=0)return null;var j=_.getRangeAt(0);if(j==null)return null;var O=this.normalizeNative(j);return m.info("getNativeRange",O),O}},{key:"getRange",value:function(){var _=this.getNativeRange();if(_==null)return[null,null];var j=this.normalizedToRange(_);return[j,_]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(_){var j=this,O=[[_.start.node,_.start.offset]];_.native.collapsed||O.push([_.end.node,_.end.offset]);var C=O.map(function(q){var $=i(q,2),W=$[0],B=$[1],A=u.default.find(W,!0),T=A.offset(j.scroll);return B===0?T:A instanceof u.default.Container?T+A.length():T+A.index(W,B)}),M=Math.min(Math.max.apply(Math,f(C)),this.scroll.length()-1),D=Math.min.apply(Math,[M].concat(f(C)));return new N(D,M-D)}},{key:"normalizeNative",value:function(_){if(!S(this.root,_.startContainer)||!_.collapsed&&!S(this.root,_.endContainer))return null;var j={start:{node:_.startContainer,offset:_.startOffset},end:{node:_.endContainer,offset:_.endOffset},native:_};return[j.start,j.end].forEach(function(O){for(var C=O.node,M=O.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>M)C=C.childNodes[M],M=0;else if(C.childNodes.length===M)C=C.lastChild,M=C instanceof Text?C.data.length:C.childNodes.length+1;else break;O.node=C,O.offset=M}),j}},{key:"rangeToNative",value:function(_){var j=this,O=_.collapsed?[_.index]:[_.index,_.index+_.length],C=[],M=this.scroll.length();return O.forEach(function(D,q){D=Math.min(M-1,D);var $=void 0,W=j.scroll.leaf(D),B=i(W,2),A=B[0],T=B[1],R=A.position(T,q!==0),I=i(R,2);$=I[0],T=I[1],C.push($,T)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(_){var j=this.lastRange;if(j!=null){var O=this.getBounds(j.index,j.length);if(O!=null){var C=this.scroll.length()-1,M=this.scroll.line(Math.min(j.index,C)),D=i(M,1),q=D[0],$=q;if(j.length>0){var W=this.scroll.line(Math.min(j.index+j.length,C)),B=i(W,1);$=B[0]}if(!(q==null||$==null)){var A=_.getBoundingClientRect();O.top<A.top?_.scrollTop-=A.top-O.top:O.bottom>A.bottom&&(_.scrollTop+=O.bottom-A.bottom)}}}}},{key:"setNativeRange",value:function(_,j){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(m.info("setNativeRange",_,j,O,C),!(_!=null&&(this.root.parentNode==null||_.parentNode==null||O.parentNode==null))){var D=document.getSelection();if(D!=null)if(_!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||M||_!==q.startContainer||j!==q.startOffset||O!==q.endContainer||C!==q.endOffset){_.tagName=="BR"&&(j=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode),O.tagName=="BR"&&(C=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var $=document.createRange();$.setStart(_,j),$.setEnd(O,C),D.removeAllRanges(),D.addRange($)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(_){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof j=="string"&&(O=j,j=!1),m.info("setRange",_),_!=null){var C=this.rangeToNative(_);this.setNativeRange.apply(this,f(C).concat([j]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,j=this.lastRange,O=this.getRange(),C=i(O,2),M=C[0],D=C[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,s.default)(j,this.lastRange)){var q;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var $=[b.default.events.SELECTION_CHANGE,(0,g.default)(this.lastRange),(0,g.default)(j),_];if((q=this.emitter).emit.apply(q,[b.default.events.EDITOR_CHANGE].concat($)),_!==b.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,$)}}}}]),E}();function S(E,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),E.contains(P)}r.Range=N,r.default=k},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(y,w){for(var p=0;p<w.length;p++){var f=w[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,w,p){return w&&b(y.prototype,w),p&&b(y,p),y}}(),a=function b(y,w,p){y===null&&(y=Function.prototype);var f=Object.getOwnPropertyDescriptor(y,w);if(f===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,p)}else{if("value"in f)return f.value;var m=f.get;return m===void 0?void 0:m.call(p)}},c=o(0),u=v(c);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function s(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var h=function(b){s(y,b);function y(){return g(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"insertInto",value:function(p,f){p.children.length===0?a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,p,f):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(u.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,o){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var b in h)h.hasOwnProperty(b)&&(s[b]=h[b])};return function(s,h){d(s,h);function b(){this.constructor=s}s.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(44),c=o(30),u=o(1),v=function(d){i(s,d);function s(h){var b=d.call(this,h)||this;return b.build(),b}return s.prototype.appendChild=function(h){this.insertBefore(h)},s.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},s.prototype.build=function(){var h=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var y=g(b);h.insertBefore(y,h.children.head||void 0)}catch(w){if(w instanceof u.ParchmentError)return;throw w}})},s.prototype.deleteAt=function(h,b){if(h===0&&b===this.length())return this.remove();this.children.forEachAt(h,b,function(y,w,p){y.deleteAt(w,p)})},s.prototype.descendant=function(h,b){var y=this.children.find(b),w=y[0],p=y[1];return h.blotName==null&&h(w)||h.blotName!=null&&w instanceof h?[w,p]:w instanceof s?w.descendant(h,p):[null,-1]},s.prototype.descendants=function(h,b,y){b===void 0&&(b=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],p=y;return this.children.forEachAt(b,y,function(f,x,m){(h.blotName==null&&h(f)||h.blotName!=null&&f instanceof h)&&w.push(f),f instanceof s&&(w=w.concat(f.descendants(h,x,p))),p-=m}),w},s.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},s.prototype.formatAt=function(h,b,y,w){this.children.forEachAt(h,b,function(p,f,x){p.formatAt(f,x,y,w)})},s.prototype.insertAt=function(h,b,y){var w=this.children.find(h),p=w[0],f=w[1];if(p)p.insertAt(f,b,y);else{var x=y==null?u.create("text",b):u.create(b,y);this.appendChild(x)}},s.prototype.insertBefore=function(h,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return h instanceof y}))throw new u.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,b)},s.prototype.length=function(){return this.children.reduce(function(h,b){return h+b.length()},0)},s.prototype.moveChildren=function(h,b){this.children.forEach(function(y){h.insertBefore(y,b)})},s.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var b=u.create(this.statics.defaultChild);this.appendChild(b),b.optimize(h)}else this.remove()},s.prototype.path=function(h,b){b===void 0&&(b=!1);var y=this.children.find(h,b),w=y[0],p=y[1],f=[[this,h]];return w instanceof s?f.concat(w.path(p,b)):(w!=null&&f.push([w,p]),f)},s.prototype.removeChild=function(h){this.children.remove(h)},s.prototype.replace=function(h){h instanceof s&&h.moveChildren(this),d.prototype.replace.call(this,h)},s.prototype.split=function(h,b){if(b===void 0&&(b=!1),!b){if(h===0)return this;if(h===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(h,this.length(),function(w,p,f){w=w.split(p,b),y.appendChild(w)}),y},s.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},s.prototype.update=function(h,b){var y=this,w=[],p=[];h.forEach(function(f){f.target===y.domNode&&f.type==="childList"&&(w.push.apply(w,f.addedNodes),p.push.apply(p,f.removedNodes))}),p.forEach(function(f){if(!(f.parentNode!=null&&f.tagName!=="IFRAME"&&document.body.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var x=u.find(f);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===y.domNode)&&x.detach()}}),w.filter(function(f){return f.parentNode==y.domNode}).sort(function(f,x){return f===x?0:f.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(f){var x=null;f.nextSibling!=null&&(x=u.find(f.nextSibling));var m=g(f);(m.next!=x||m.next==null)&&(m.parent!=null&&m.parent.removeChild(y),y.insertBefore(m,x||void 0))})},s}(c.default);function g(d){var s=u.find(d);if(s==null)try{s=u.create(d)}catch{s=u.create(u.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(b){s.domNode.appendChild(b)}),d.parentNode&&d.parentNode.replaceChild(s.domNode,d),s.attach()}return s}r.default=v},function(n,r,o){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var b in h)h.hasOwnProperty(b)&&(s[b]=h[b])};return function(s,h){d(s,h);function b(){this.constructor=s}s.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),c=o(31),u=o(17),v=o(1),g=function(d){i(s,d);function s(h){var b=d.call(this,h)||this;return b.attributes=new c.default(b.domNode),b}return s.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},s.prototype.format=function(h,b){var y=v.query(h);y instanceof a.default?this.attributes.attribute(y,b):b&&y!=null&&(h!==this.statics.blotName||this.formats()[h]!==b)&&this.replaceWith(h,b)},s.prototype.formats=function(){var h=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(h[this.statics.blotName]=b),h},s.prototype.replaceWith=function(h,b){var y=d.prototype.replaceWith.call(this,h,b);return this.attributes.copy(y),y},s.prototype.update=function(h,b){var y=this;d.prototype.update.call(this,h,b),h.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},s.prototype.wrap=function(h,b){var y=d.prototype.wrap.call(this,h,b);return y instanceof s&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},s}(u.default);r.default=g},function(n,r,o){var i=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var s in d)d.hasOwnProperty(s)&&(g[s]=d[s])};return function(g,d){v(g,d);function s(){this.constructor=g}g.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(30),c=o(1),u=function(v){i(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.value=function(d){return!0},g.prototype.index=function(d,s){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1},g.prototype.position=function(d,s){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},g.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},g.scope=c.Scope.INLINE_BLOT,g}(a.default);r.default=u},function(n,r,o){var i=o(11),a=o(3),c={attributes:{compose:function(v,g,d){typeof v!="object"&&(v={}),typeof g!="object"&&(g={});var s=a(!0,{},g);d||(s=Object.keys(s).reduce(function(b,y){return s[y]!=null&&(b[y]=s[y]),b},{}));for(var h in v)v[h]!==void 0&&g[h]===void 0&&(s[h]=v[h]);return Object.keys(s).length>0?s:void 0},diff:function(v,g){typeof v!="object"&&(v={}),typeof g!="object"&&(g={});var d=Object.keys(v).concat(Object.keys(g)).reduce(function(s,h){return i(v[h],g[h])||(s[h]=g[h]===void 0?null:g[h]),s},{});return Object.keys(d).length>0?d:void 0},transform:function(v,g,d){if(typeof v!="object")return g;if(typeof g=="object"){if(!d)return g;var s=Object.keys(g).reduce(function(h,b){return v[b]===void 0&&(h[b]=g[b]),h},{});return Object.keys(s).length>0?s:void 0}}},iterator:function(v){return new u(v)},length:function(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.insert=="string"?v.insert.length:1}};function u(v){this.ops=v,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(v){v||(v=1/0);var g=this.ops[this.index];if(g){var d=this.offset,s=c.length(g);if(v>=s-d?(v=s-d,this.index+=1,this.offset=0):this.offset+=v,typeof g.delete=="number")return{delete:v};var h={};return g.attributes&&(h.attributes=g.attributes),typeof g.retain=="number"?h.retain=v:typeof g.insert=="string"?h.insert=g.insert.substr(d,v):h.insert=g.insert,h}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var v=this.offset,g=this.index,d=this.next(),s=this.ops.slice(this.index);return this.offset=v,this.index=g,[d].concat(s)}else return[]},n.exports=c},function(n,r){var o=function(){function i(y,w){return w!=null&&y instanceof w}var a;try{a=Map}catch{a=function(){}}var c;try{c=Set}catch{c=function(){}}var u;try{u=Promise}catch{u=function(){}}function v(y,w,p,f,x){typeof w=="object"&&(p=w.depth,f=w.prototype,x=w.includeNonEnumerable,w=w.circular);var m=[],N=[],k=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof p>"u"&&(p=1/0);function S(E,P){if(E===null)return null;if(P===0)return E;var _,j;if(typeof E!="object")return E;if(i(E,a))_=new a;else if(i(E,c))_=new c;else if(i(E,u))_=new u(function(A,T){E.then(function(R){A(S(R,P-1))},function(R){T(S(R,P-1))})});else if(v.__isArray(E))_=[];else if(v.__isRegExp(E))_=new RegExp(E.source,b(E)),E.lastIndex&&(_.lastIndex=E.lastIndex);else if(v.__isDate(E))_=new Date(E.getTime());else{if(k&&Buffer.isBuffer(E))return Buffer.allocUnsafe?_=Buffer.allocUnsafe(E.length):_=new Buffer(E.length),E.copy(_),_;i(E,Error)?_=Object.create(E):typeof f>"u"?(j=Object.getPrototypeOf(E),_=Object.create(j)):(_=Object.create(f),j=f)}if(w){var O=m.indexOf(E);if(O!=-1)return N[O];m.push(E),N.push(_)}i(E,a)&&E.forEach(function(A,T){var R=S(T,P-1),I=S(A,P-1);_.set(R,I)}),i(E,c)&&E.forEach(function(A){var T=S(A,P-1);_.add(T)});for(var C in E){var M;j&&(M=Object.getOwnPropertyDescriptor(j,C)),!(M&&M.set==null)&&(_[C]=S(E[C],P-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(E),C=0;C<D.length;C++){var q=D[C],$=Object.getOwnPropertyDescriptor(E,q);$&&!$.enumerable&&!x||(_[q]=S(E[q],P-1),$.enumerable||Object.defineProperty(_,q,{enumerable:!1}))}if(x)for(var W=Object.getOwnPropertyNames(E),C=0;C<W.length;C++){var B=W[C],$=Object.getOwnPropertyDescriptor(E,B);$&&$.enumerable||(_[B]=S(E[B],P-1),Object.defineProperty(_,B,{enumerable:!1}))}return _}return S(y,p)}v.clonePrototype=function(w){if(w===null)return null;var p=function(){};return p.prototype=w,new p};function g(y){return Object.prototype.toString.call(y)}v.__objToStr=g;function d(y){return typeof y=="object"&&g(y)==="[object Date]"}v.__isDate=d;function s(y){return typeof y=="object"&&g(y)==="[object Array]"}v.__isArray=s;function h(y){return typeof y=="object"&&g(y)==="[object RegExp]"}v.__isRegExp=h;function b(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return v.__getRegExpFlags=b,v}();typeof n=="object"&&n.exports&&(n.exports=o)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function _(j,O){var C=[],M=!0,D=!1,q=void 0;try{for(var $=j[Symbol.iterator](),W;!(M=(W=$.next()).done)&&(C.push(W.value),!(O&&C.length===O));M=!0);}catch(B){D=!0,q=B}finally{try{!M&&$.return&&$.return()}finally{if(D)throw q}}return C}return function(j,O){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return _(j,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function _(j,O){for(var C=0;C<O.length;C++){var M=O[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(j,M.key,M)}}return function(j,O,C){return O&&_(j.prototype,O),C&&_(j,C),j}}(),c=function _(j,O,C){j===null&&(j=Function.prototype);var M=Object.getOwnPropertyDescriptor(j,O);if(M===void 0){var D=Object.getPrototypeOf(j);return D===null?void 0:_(D,O,C)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(C)}},u=o(0),v=m(u),g=o(8),d=m(g),s=o(4),h=m(s),b=o(16),y=m(b),w=o(13),p=m(w),f=o(25),x=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function N(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function k(_,j){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:_}function S(_,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(_,j):_.__proto__=j)}function E(_){return _ instanceof h.default||_ instanceof s.BlockEmbed}var P=function(_){S(j,_);function j(O,C){N(this,j);var M=k(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,O));return M.emitter=C.emitter,Array.isArray(C.whitelist)&&(M.whitelist=C.whitelist.reduce(function(D,q){return D[q]=!0,D},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return a(j,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,M){var D=this.line(C),q=i(D,2),$=q[0],W=q[1],B=this.line(C+M),A=i(B,1),T=A[0];if(c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"deleteAt",this).call(this,C,M),T!=null&&$!==T&&W>0){if($ instanceof s.BlockEmbed||T instanceof s.BlockEmbed){this.optimize();return}if($ instanceof p.default){var R=$.newlineIndex($.length(),!0);if(R>-1&&($=$.split(R+1),$===T)){this.optimize();return}}else if(T instanceof p.default){var I=T.newlineIndex(0);I>-1&&T.split(I+1)}var V=T.children.head instanceof y.default?null:T.children.head;$.moveChildren(T,V),$.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,M,D,q){this.whitelist!=null&&!this.whitelist[D]||(c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"formatAt",this).call(this,C,M,D,q),this.optimize())}},{key:"insertAt",value:function(C,M,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[M])){if(C>=this.length())if(D==null||v.default.query(M,v.default.Scope.BLOCK)==null){var q=v.default.create(this.statics.defaultChild);this.appendChild(q),D==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),q.insertAt(0,M,D)}else{var $=v.default.create(M,D);this.appendChild($)}else c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,C,M,D);this.optimize()}}},{key:"insertBefore",value:function(C,M){if(C.statics.scope===v.default.Scope.INLINE_BLOT){var D=v.default.create(this.statics.defaultChild);D.appendChild(C),C=D}c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,C,M)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(E,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function q($,W,B){var A=[],T=B;return $.children.forEachAt(W,B,function(R,I,V){E(R)?A.push(R):R instanceof v.default.Container&&(A=A.concat(q(R,I,T))),T-=V}),A};return D(this,C,M)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,C,M),C.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,C,M))}},{key:"path",value:function(C){return c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var M=d.default.sources.USER;typeof C=="string"&&(M=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,M,C),c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,M,C)}}}]),j}(v.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[h.default,s.BlockEmbed,x.default],r.default=P},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},a=function(){function L(U,K){var Z=[],J=!0,re=!1,se=void 0;try{for(var ue=U[Symbol.iterator](),he;!(J=(he=ue.next()).done)&&(Z.push(he.value),!(K&&Z.length===K));J=!0);}catch(pe){re=!0,se=pe}finally{try{!J&&ue.return&&ue.return()}finally{if(re)throw se}}return Z}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return L(U,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function L(U,K){for(var Z=0;Z<K.length;Z++){var J=K[Z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}}return function(U,K,Z){return K&&L(U.prototype,K),Z&&L(U,Z),U}}(),u=o(21),v=_(u),g=o(11),d=_(g),s=o(3),h=_(s),b=o(2),y=_(b),w=o(20),p=_(w),f=o(0),x=_(f),m=o(5),N=_(m),k=o(10),S=_(k),E=o(9),P=_(E);function _(L){return L&&L.__esModule?L:{default:L}}function j(L,U,K){return U in L?Object.defineProperty(L,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):L[U]=K,L}function O(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function C(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:L}function M(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var D=(0,S.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$=function(L){M(U,L),c(U,null,[{key:"match",value:function(Z,J){return J=F(J),["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!J[re]!==Z[re]&&J[re]!==null})?!1:J.key===(Z.which||Z.keyCode)}}]);function U(K,Z){O(this,U);var J=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,Z));return J.bindings={},Object.keys(J.options.bindings).forEach(function(re){re==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||J.options.bindings[re]&&J.addBinding(J.options.bindings[re])}),J.addBinding({key:U.keys.ENTER,shiftKey:null},R),J.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},B),J.addBinding({key:U.keys.DELETE},{collapsed:!0},A)):(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),J.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},A)),J.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},T),J.addBinding({key:U.keys.DELETE},{collapsed:!1},T),J.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),J.listen(),J}return c(U,[{key:"addBinding",value:function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=F(Z);if(se==null||se.key==null)return D.warn("Attempted to add invalid keyboard binding",se);typeof J=="function"&&(J={handler:J}),typeof re=="function"&&(re={handler:re}),se=(0,h.default)(se,J,re),this.bindings[se.key]=this.bindings[se.key]||[],this.bindings[se.key].push(se)}},{key:"listen",value:function(){var Z=this;this.quill.root.addEventListener("keydown",function(J){if(!J.defaultPrevented){var re=J.which||J.keyCode,se=(Z.bindings[re]||[]).filter(function(Te){return U.match(J,Te)});if(se.length!==0){var ue=Z.quill.getSelection();if(!(ue==null||!Z.quill.hasFocus())){var he=Z.quill.getLine(ue.index),pe=a(he,2),Me=pe[0],we=pe[1],Y=Z.quill.getLeaf(ue.index),G=a(Y,2),Q=G[0],ee=G[1],X=ue.length===0?[Q,ee]:Z.quill.getLeaf(ue.index+ue.length),ae=a(X,2),fe=ae[0],ce=ae[1],De=Q instanceof x.default.Text?Q.value().slice(0,ee):"",ze=fe instanceof x.default.Text?fe.value().slice(ce):"",be={collapsed:ue.length===0,empty:ue.length===0&&Me.length()<=1,format:Z.quill.getFormat(ue),offset:we,prefix:De,suffix:ze},Zo=se.some(function(Te){if(Te.collapsed!=null&&Te.collapsed!==be.collapsed||Te.empty!=null&&Te.empty!==be.empty||Te.offset!=null&&Te.offset!==be.offset)return!1;if(Array.isArray(Te.format)){if(Te.format.every(function(jt){return be.format[jt]==null}))return!1}else if(i(Te.format)==="object"&&!Object.keys(Te.format).every(function(jt){return Te.format[jt]===!0?be.format[jt]!=null:Te.format[jt]===!1?be.format[jt]==null:(0,d.default)(Te.format[jt],be.format[jt])}))return!1;return Te.prefix!=null&&!Te.prefix.test(be.prefix)||Te.suffix!=null&&!Te.suffix.test(be.suffix)?!1:Te.handler.call(Z,ue,be)!==!0});Zo&&J.preventDefault()}}}})}}]),U}(P.default);$.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:$.keys.TAB,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:$.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:$.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,K){K.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":I(!0),"outdent code-block":I(!1),"remove tab":{key:$.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,N.default.sources.USER)}},tab:{key:$.keys.TAB,handler:function(U){this.quill.history.cutoff();var K=new y.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(K,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,N.default.sources.SILENT)}},"list empty enter":{key:$.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,K){this.quill.format("list",!1,N.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:$.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var K=this.quill.getLine(U.index),Z=a(K,2),J=Z[0],re=Z[1],se=(0,h.default)({},J.formats(),{list:"checked"}),ue=new y.default().retain(U.index).insert(`
`,se).retain(J.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,N.default.sources.USER),this.quill.setSelection(U.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,K){var Z=this.quill.getLine(U.index),J=a(Z,2),re=J[0],se=J[1],ue=new y.default().retain(U.index).insert(`
`,K.format).retain(re.length()-se-1).retain(1,{header:null});this.quill.updateContents(ue,N.default.sources.USER),this.quill.setSelection(U.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,K){var Z=K.prefix.length,J=this.quill.getLine(U.index),re=a(J,2),se=re[0],ue=re[1];if(ue>Z)return!0;var he=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":he="unchecked";break;case"[x]":he="checked";break;case"-":case"*":he="bullet";break;default:he="ordered"}this.quill.insertText(U.index," ",N.default.sources.USER),this.quill.history.cutoff();var pe=new y.default().retain(U.index-ue).delete(Z+1).retain(se.length()-2-ue).retain(1,{list:he});this.quill.updateContents(pe,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-Z,N.default.sources.SILENT)}},"code exit":{key:$.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var K=this.quill.getLine(U.index),Z=a(K,2),J=Z[0],re=Z[1],se=new y.default().retain(U.index+J.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(se,N.default.sources.USER)}},"embed left":W($.keys.LEFT,!1),"embed left shift":W($.keys.LEFT,!0),"embed right":W($.keys.RIGHT,!1),"embed right shift":W($.keys.RIGHT,!0)}};function W(L,U){var K,Z=L===$.keys.LEFT?"prefix":"suffix";return K={key:L,shiftKey:U,altKey:null},j(K,Z,/^$/),j(K,"handler",function(re){var se=re.index;L===$.keys.RIGHT&&(se+=re.length+1);var ue=this.quill.getLeaf(se),he=a(ue,1),pe=he[0];return pe instanceof x.default.Embed?(L===$.keys.LEFT?U?this.quill.setSelection(re.index-1,re.length+1,N.default.sources.USER):this.quill.setSelection(re.index-1,N.default.sources.USER):U?this.quill.setSelection(re.index,re.length+1,N.default.sources.USER):this.quill.setSelection(re.index+re.length+1,N.default.sources.USER),!1):!0}),K}function B(L,U){if(!(L.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(L.index),Z=a(K,1),J=Z[0],re={};if(U.offset===0){var se=this.quill.getLine(L.index-1),ue=a(se,1),he=ue[0];if(he!=null&&he.length()>1){var pe=J.formats(),Me=this.quill.getFormat(L.index-1,1);re=p.default.attributes.diff(pe,Me)||{}}}var we=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(L.index-we,we,N.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(L.index-we,we,re,N.default.sources.USER),this.quill.focus()}}function A(L,U){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(L.index>=this.quill.getLength()-K)){var Z={},J=0,re=this.quill.getLine(L.index),se=a(re,1),ue=se[0];if(U.offset>=ue.length()-1){var he=this.quill.getLine(L.index+1),pe=a(he,1),Me=pe[0];if(Me){var we=ue.formats(),Y=this.quill.getFormat(L.index,1);Z=p.default.attributes.diff(we,Y)||{},J=Me.length()}}this.quill.deleteText(L.index,K,N.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(L.index+J-1,K,Z,N.default.sources.USER)}}function T(L){var U=this.quill.getLines(L),K={};if(U.length>1){var Z=U[0].formats(),J=U[U.length-1].formats();K=p.default.attributes.diff(J,Z)||{}}this.quill.deleteText(L,N.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(L.index,1,K,N.default.sources.USER),this.quill.setSelection(L.index,N.default.sources.SILENT),this.quill.focus()}function R(L,U){var K=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var Z=Object.keys(U.format).reduce(function(J,re){return x.default.query(re,x.default.Scope.BLOCK)&&!Array.isArray(U.format[re])&&(J[re]=U.format[re]),J},{});this.quill.insertText(L.index,`
`,Z,N.default.sources.USER),this.quill.setSelection(L.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(J){Z[J]==null&&(Array.isArray(U.format[J])||J!=="link"&&K.quill.format(J,U.format[J],N.default.sources.USER))})}function I(L){return{key:$.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(K){var Z=x.default.query("code-block"),J=K.index,re=K.length,se=this.quill.scroll.descendant(Z,J),ue=a(se,2),he=ue[0],pe=ue[1];if(he!=null){var Me=this.quill.getIndex(he),we=he.newlineIndex(pe,!0)+1,Y=he.newlineIndex(Me+pe+re),G=he.domNode.textContent.slice(we,Y).split(`
`);pe=0,G.forEach(function(Q,ee){L?(he.insertAt(we+pe,Z.TAB),pe+=Z.TAB.length,ee===0?J+=Z.TAB.length:re+=Z.TAB.length):Q.startsWith(Z.TAB)&&(he.deleteAt(we+pe,Z.TAB.length),pe-=Z.TAB.length,ee===0?J-=Z.TAB.length:re-=Z.TAB.length),pe+=Q.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(J,re,N.default.sources.SILENT)}}}}function V(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(K,Z){this.quill.format(L,!Z.format[L],N.default.sources.USER)}}}function F(L){if(typeof L=="string"||typeof L=="number")return F({key:L});if((typeof L>"u"?"undefined":i(L))==="object"&&(L=(0,v.default)(L,!1)),typeof L.key=="string")if($.keys[L.key.toUpperCase()]!=null)L.key=$.keys[L.key.toUpperCase()];else if(L.key.length===1)L.key=L.key.toUpperCase().charCodeAt(0);else return null;return L.shortKey&&(L[q]=L.shortKey,delete L.shortKey),L}r.default=$,r.SHORTKEY=q},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(f,x){var m=[],N=!0,k=!1,S=void 0;try{for(var E=f[Symbol.iterator](),P;!(N=(P=E.next()).done)&&(m.push(P.value),!(x&&m.length===x));N=!0);}catch(_){k=!0,S=_}finally{try{!N&&E.return&&E.return()}finally{if(k)throw S}}return m}return function(f,x){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return p(f,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function p(f,x,m){f===null&&(f=Function.prototype);var N=Object.getOwnPropertyDescriptor(f,x);if(N===void 0){var k=Object.getPrototypeOf(f);return k===null?void 0:p(k,x,m)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(m)}},c=function(){function p(f,x){for(var m=0;m<x.length;m++){var N=x[m];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(f,N.key,N)}}return function(f,x,m){return x&&p(f.prototype,x),m&&p(f,m),f}}(),u=o(0),v=s(u),g=o(7),d=s(g);function s(p){return p&&p.__esModule?p:{default:p}}function h(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function b(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:p}function y(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}var w=function(p){y(f,p),c(f,null,[{key:"value",value:function(){}}]);function f(x,m){h(this,f);var N=b(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,x));return N.selection=m,N.textNode=document.createTextNode(f.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return c(f,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(m,N){if(this._length!==0)return a(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,m,N);for(var k=this,S=0;k!=null&&k.statics.scope!==v.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=f.CONTENTS.length,k.optimize(),k.formatAt(S,f.CONTENTS.length,m,N),this._length=0)}},{key:"index",value:function(m,N){return m===this.textNode?0:a(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"index",this).call(this,m,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var m=this.textNode,N=this.selection.getNativeRange(),k=void 0,S=void 0,E=void 0;if(N!=null&&N.start.node===m&&N.end.node===m){var P=[m,N.start.offset,N.end.offset];k=P[0],S=P[1],E=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==f.CONTENTS){var _=this.textNode.data.split(f.CONTENTS).join("");this.next instanceof d.default?(k=this.next.domNode,this.next.insertAt(0,_),this.textNode.data=f.CONTENTS):(this.textNode.data=_,this.parent.insertBefore(v.default.create(this.textNode),this),this.textNode=document.createTextNode(f.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var j=[S,E].map(function(C){return Math.max(0,Math.min(k.data.length,C-1))}),O=i(j,2);return S=O[0],E=O[1],{startNode:k,startOffset:S,endNode:k,endOffset:E}}}}},{key:"update",value:function(m,N){var k=this;if(m.some(function(E){return E.type==="characterData"&&E.target===k.textNode})){var S=this.restore();S&&(N.range=S)}}},{key:"value",value:function(){return""}}]),f}(v.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=v(i),c=o(4),u=v(c);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function s(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var h=function(b){s(y,b);function y(){return g(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(a.default.Container);h.allowedChildren=[u.default,c.BlockEmbed,h],r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=function(){function w(p,f){for(var x=0;x<f.length;x++){var m=f[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,x){return f&&w(p.prototype,f),x&&w(p,x),p}}(),a=function w(p,f,x){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,f);if(m===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:w(N,f,x)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(x)}},c=o(0),u=v(c);function v(w){return w&&w.__esModule?w:{default:w}}function g(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}function d(w,p){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:w}function s(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);w.prototype=Object.create(p&&p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(w,p):w.__proto__=p)}var h=function(w){s(p,w);function p(){return g(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"value",value:function(x){var m=a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,x);return m.startsWith("rgb(")?(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+m.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):m}}]),p}(u.default.Attributor.Style),b=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),y=new h("color","color",{scope:u.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=b,r.ColorStyle=y},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=function(){function y(w,p){for(var f=0;f<p.length;f++){var x=p[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,p,f){return p&&y(w.prototype,p),f&&y(w,f),w}}(),a=function y(w,p,f){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,p);if(x===void 0){var m=Object.getPrototypeOf(w);return m===null?void 0:y(m,p,f)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(f)}},c=o(6),u=v(c);function v(y){return y&&y.__esModule?y:{default:y}}function g(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function s(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var h=function(y){s(w,y);function w(){return g(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"format",value:function(f,x){if(f!==this.statics.blotName||!x)return a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,f,x);x=this.constructor.sanitize(x),this.domNode.setAttribute("href",x)}}],[{key:"create",value:function(f){var x=a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,f);return f=this.sanitize(f),x.setAttribute("href",f),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(f){return f.getAttribute("href")}},{key:"sanitize",value:function(f){return b(f,this.PROTOCOL_WHITELIST)?f:this.SANITIZED_URL}}]),w}(u.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(y,w){var p=document.createElement("a");p.href=y;var f=p.href.slice(0,p.href.indexOf(":"));return w.indexOf(f)>-1}r.default=h,r.sanitize=b},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},a=function(){function w(p,f){for(var x=0;x<f.length;x++){var m=f[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,x){return f&&w(p.prototype,f),x&&w(p,x),p}}(),c=o(23),u=d(c),v=o(107),g=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function s(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}var h=0;function b(w,p){w.setAttribute(p,w.getAttribute(p)!=="true")}var y=function(){function w(p){var f=this;s(this,w),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(x){switch(x.keyCode){case u.default.keys.ENTER:f.togglePicker();break;case u.default.keys.ESCAPE:f.escape(),x.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(f){var x=this,m=document.createElement("span");return m.tabIndex="0",m.setAttribute("role","button"),m.classList.add("ql-picker-item"),f.hasAttribute("value")&&m.setAttribute("data-value",f.getAttribute("value")),f.textContent&&m.setAttribute("data-label",f.textContent),m.addEventListener("click",function(){x.selectItem(m,!0)}),m.addEventListener("keydown",function(N){switch(N.keyCode){case u.default.keys.ENTER:x.selectItem(m,!0),N.preventDefault();break;case u.default.keys.ESCAPE:x.escape(),N.preventDefault();break}}),m}},{key:"buildLabel",value:function(){var f=document.createElement("span");return f.classList.add("ql-picker-label"),f.innerHTML=g.default,f.tabIndex="0",f.setAttribute("role","button"),f.setAttribute("aria-expanded","false"),this.container.appendChild(f),f}},{key:"buildOptions",value:function(){var f=this,x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,[].slice.call(this.select.options).forEach(function(m){var N=f.buildItem(m);x.appendChild(N),m.selected===!0&&f.selectItem(N)}),this.container.appendChild(x)}},{key:"buildPicker",value:function(){var f=this;[].slice.call(this.select.attributes).forEach(function(x){f.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var f=this;this.close(),setTimeout(function(){return f.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(f){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=this.container.querySelector(".ql-selected");if(f!==m&&(m!=null&&m.classList.remove("ql-selected"),f!=null&&(f.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(f.parentNode.children,f),f.hasAttribute("data-value")?this.label.setAttribute("data-value",f.getAttribute("data-value")):this.label.removeAttribute("data-value"),f.hasAttribute("data-label")?this.label.setAttribute("data-label",f.getAttribute("data-label")):this.label.removeAttribute("data-label"),x))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var f=void 0;if(this.select.selectedIndex>-1){var x=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];f=this.select.options[this.select.selectedIndex],this.selectItem(x)}else this.selectItem(null);var m=f!=null&&f!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",m)}}]),w}();r.default=y},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=D(i),c=o(5),u=D(c),v=o(4),g=D(v),d=o(16),s=D(d),h=o(25),b=D(h),y=o(24),w=D(y),p=o(35),f=D(p),x=o(6),m=D(x),N=o(22),k=D(N),S=o(7),E=D(S),P=o(55),_=D(P),j=o(42),O=D(j),C=o(23),M=D(C);function D(q){return q&&q.__esModule?q:{default:q}}u.default.register({"blots/block":g.default,"blots/block/embed":v.BlockEmbed,"blots/break":s.default,"blots/container":b.default,"blots/cursor":w.default,"blots/embed":f.default,"blots/inline":m.default,"blots/scroll":k.default,"blots/text":E.default,"modules/clipboard":_.default,"modules/history":O.default,"modules/keyboard":M.default}),a.default.register(g.default,s.default,w.default,m.default,k.default,E.default),r.default=u.default},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(1),a=function(){function c(u){this.domNode=u,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(u){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var v;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?v=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?v=document.createElement(u):v=document.createElement(this.tagName[0])):v=document.createElement(this.tagName),this.className&&v.classList.add(this.className),v},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return i.create(u)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},c.prototype.deleteAt=function(u,v){var g=this.isolate(u,v);g.remove()},c.prototype.formatAt=function(u,v,g,d){var s=this.isolate(u,v);if(i.query(g,i.Scope.BLOT)!=null&&d)s.wrap(g,d);else if(i.query(g,i.Scope.ATTRIBUTE)!=null){var h=i.create(this.statics.scope);s.wrap(h),h.format(g,d)}},c.prototype.insertAt=function(u,v,g){var d=g==null?i.create("text",v):i.create(v,g),s=this.split(u);this.parent.insertBefore(d,s)},c.prototype.insertInto=function(u,v){v===void 0&&(v=null),this.parent!=null&&this.parent.children.remove(this);var g=null;u.children.insertBefore(this,v),v!=null&&(g=v.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=g)&&u.domNode.insertBefore(this.domNode,g),this.parent=u,this.attach()},c.prototype.isolate=function(u,v){var g=this.split(u);return g.split(v),g},c.prototype.length=function(){return 1},c.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},c.prototype.optimize=function(u){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},c.prototype.replaceWith=function(u,v){var g=typeof u=="string"?i.create(u,v):u;return g.replace(this),g},c.prototype.split=function(u,v){return u===0?this:this.next},c.prototype.update=function(u,v){},c.prototype.wrap=function(u,v){var g=typeof u=="string"?i.create(u,v):u;return this.parent!=null&&this.parent.insertBefore(g,this.next),g.appendChild(this),g},c.blotName="abstract",c}();r.default=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(12),a=o(32),c=o(33),u=o(1),v=function(){function g(d){this.attributes={},this.domNode=d,this.build()}return g.prototype.attribute=function(d,s){s?d.add(this.domNode,s)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},g.prototype.build=function(){var d=this;this.attributes={};var s=i.default.keys(this.domNode),h=a.default.keys(this.domNode),b=c.default.keys(this.domNode);s.concat(h).concat(b).forEach(function(y){var w=u.query(y,u.Scope.ATTRIBUTE);w instanceof i.default&&(d.attributes[w.attrName]=w)})},g.prototype.copy=function(d){var s=this;Object.keys(this.attributes).forEach(function(h){var b=s.attributes[h].value(s.domNode);d.format(h,b)})},g.prototype.move=function(d){var s=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){s.attributes[h].remove(s.domNode)}),this.attributes={}},g.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(s,h){return s[h]=d.attributes[h].value(d.domNode),s},{})},g}();r.default=v},function(n,r,o){var i=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var s in d)d.hasOwnProperty(s)&&(g[s]=d[s])};return function(g,d){v(g,d);function s(){this.constructor=g}g.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(12);function c(v,g){var d=v.getAttribute("class")||"";return d.split(/\s+/).filter(function(s){return s.indexOf(g+"-")===0})}var u=function(v){i(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(s){return s.split("-").slice(0,-1).join("-")})},g.prototype.add=function(d,s){return this.canAdd(d,s)?(this.remove(d),d.classList.add(this.keyName+"-"+s),!0):!1},g.prototype.remove=function(d){var s=c(d,this.keyName);s.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},g.prototype.value=function(d){var s=c(d,this.keyName)[0]||"",h=s.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},g}(a.default);r.default=u},function(n,r,o){var i=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var s in d)d.hasOwnProperty(s)&&(g[s]=d[s])};return function(g,d){v(g,d);function s(){this.constructor=g}g.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(12);function c(v){var g=v.split("-"),d=g.slice(1).map(function(s){return s[0].toUpperCase()+s.slice(1)}).join("");return g[0]+d}var u=function(v){i(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(s){var h=s.split(":");return h[0].trim()})},g.prototype.add=function(d,s){return this.canAdd(d,s)?(d.style[c(this.keyName)]=s,!0):!1},g.prototype.remove=function(d){d.style[c(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},g.prototype.value=function(d){var s=d.style[c(this.keyName)];return this.canAdd(d,s)?s:""},g}(a.default);r.default=u},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(v,g){for(var d=0;d<g.length;d++){var s=g[d];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(v,s.key,s)}}return function(v,g,d){return g&&u(v.prototype,g),d&&u(v,d),v}}();function a(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}var c=function(){function u(v,g){a(this,u),this.quill=v,this.options=g,this.modules={}}return i(u,[{key:"init",value:function(){var g=this;Object.keys(this.options.modules).forEach(function(d){g.modules[d]==null&&g.addModule(d)})}},{key:"addModule",value:function(g){var d=this.quill.constructor.import("modules/"+g);return this.modules[g]=new d(this.quill,this.options.modules[g]||{}),this.modules[g]}}]),u}();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(f,x){for(var m=0;m<x.length;m++){var N=x[m];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(f,N.key,N)}}return function(f,x,m){return x&&p(f.prototype,x),m&&p(f,m),f}}(),a=function p(f,x,m){f===null&&(f=Function.prototype);var N=Object.getOwnPropertyDescriptor(f,x);if(N===void 0){var k=Object.getPrototypeOf(f);return k===null?void 0:p(k,x,m)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(m)}},c=o(0),u=d(c),v=o(7),g=d(v);function d(p){return p&&p.__esModule?p:{default:p}}function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function h(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:p}function b(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}var y="\uFEFF",w=function(p){b(f,p);function f(x){s(this,f);var m=h(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,x));return m.contentNode=document.createElement("span"),m.contentNode.setAttribute("contenteditable",!1),[].slice.call(m.domNode.childNodes).forEach(function(N){m.contentNode.appendChild(N)}),m.leftGuard=document.createTextNode(y),m.rightGuard=document.createTextNode(y),m.domNode.appendChild(m.leftGuard),m.domNode.appendChild(m.contentNode),m.domNode.appendChild(m.rightGuard),m}return i(f,[{key:"index",value:function(m,N){return m===this.leftGuard?0:m===this.rightGuard?1:a(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"index",this).call(this,m,N)}},{key:"restore",value:function(m){var N=void 0,k=void 0,S=m.data.split(y).join("");if(m===this.leftGuard)if(this.prev instanceof g.default){var E=this.prev.length();this.prev.insertAt(E,S),N={startNode:this.prev.domNode,startOffset:E+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(u.default.create(k),this),N={startNode:k,startOffset:S.length};else m===this.rightGuard&&(this.next instanceof g.default?(this.next.insertAt(0,S),N={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(u.default.create(k),this.next),N={startNode:k,startOffset:S.length}));return m.data=y,N}},{key:"update",value:function(m,N){var k=this;m.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var E=k.restore(S.target);E&&(N.range=E)}})}}]),f}(u.default.Embed);r.default=w},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=o(0),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}var u={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},v=new a.default.Attributor.Attribute("align","align",u),g=new a.default.Attributor.Class("align","ql-align",u),d=new a.default.Attributor.Style("align","text-align",u);r.AlignAttribute=v,r.AlignClass=g,r.AlignStyle=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=o(0),a=u(i),c=o(26);function u(d){return d&&d.__esModule?d:{default:d}}var v=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),g=new c.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=v,r.BackgroundStyle=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=o(0),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}var u={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},v=new a.default.Attributor.Attribute("direction","dir",u),g=new a.default.Attributor.Class("direction","ql-direction",u),d=new a.default.Attributor.Style("direction","direction",u);r.DirectionAttribute=v,r.DirectionClass=g,r.DirectionStyle=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=function(){function p(f,x){for(var m=0;m<x.length;m++){var N=x[m];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(f,N.key,N)}}return function(f,x,m){return x&&p(f.prototype,x),m&&p(f,m),f}}(),a=function p(f,x,m){f===null&&(f=Function.prototype);var N=Object.getOwnPropertyDescriptor(f,x);if(N===void 0){var k=Object.getPrototypeOf(f);return k===null?void 0:p(k,x,m)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(m)}},c=o(0),u=v(c);function v(p){return p&&p.__esModule?p:{default:p}}function g(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function d(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:p}function s(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}var h={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new u.default.Attributor.Class("font","ql-font",h),y=function(p){s(f,p);function f(){return g(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return i(f,[{key:"value",value:function(m){return a(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,m).replace(/["']/g,"")}}]),f}(u.default.Attributor.Style),w=new y("font","font-family",h);r.FontStyle=w,r.FontClass=b},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=o(0),a=c(i);function c(g){return g&&g.__esModule?g:{default:g}}var u=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),v=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=u,r.SizeStyle=v},function(n,r,o){n.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=function(){function x(m,N){for(var k=0;k<N.length;k++){var S=N[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,N,k){return N&&x(m.prototype,N),k&&x(m,k),m}}(),a=o(0),c=s(a),u=o(5),v=s(u),g=o(9),d=s(g);function s(x){return x&&x.__esModule?x:{default:x}}function h(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function b(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function y(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var w=function(x){y(m,x);function m(N,k){h(this,m);var S=b(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,N,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(v.default.events.EDITOR_CHANGE,function(E,P,_,j){E!==v.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||j===v.default.sources.USER?S.record(P,_):S.transform(P))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return i(m,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var E=this.stack[k].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[k],v.default.sources.USER),this.ignoreChange=!1;var P=f(E[k]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var _=this.stack.undo.pop();E=E.compose(_.undo),k=_.redo.compose(k)}else this.lastRecorded=P;this.stack.undo.push({redo:k,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),m}(d.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(x){var m=x.ops[x.ops.length-1];return m==null?!1:m.insert!=null?typeof m.insert=="string"&&m.insert.endsWith(`
`):m.attributes!=null?Object.keys(m.attributes).some(function(N){return c.default.query(N,c.default.Scope.BLOCK)!=null}):!1}function f(x){var m=x.reduce(function(k,S){return k+=S.delete||0,k},0),N=x.length()-m;return p(x)&&(N-=1),N}r.default=w,r.getLastChangeIndex=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=function(){function R(I,V){for(var F=0;F<V.length;F++){var L=V[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,V,F){return V&&R(I.prototype,V),F&&R(I,F),I}}(),a=function R(I,V,F){I===null&&(I=Function.prototype);var L=Object.getOwnPropertyDescriptor(I,V);if(L===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:R(U,V,F)}else{if("value"in L)return L.value;var K=L.get;return K===void 0?void 0:K.call(F)}},c=o(3),u=P(c),v=o(2),g=P(v),d=o(8),s=P(d),h=o(23),b=P(h),y=o(34),w=P(y),p=o(59),f=P(p),x=o(60),m=P(x),N=o(28),k=P(N),S=o(61),E=P(S);function P(R){return R&&R.__esModule?R:{default:R}}function _(R,I){if(!(R instanceof I))throw new TypeError("Cannot call a class as a function")}function j(R,I){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:R}function O(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);R.prototype=Object.create(I&&I.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(R,I):R.__proto__=I)}var C=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],q=["1","2","3",!1],$=["small",!1,"large","huge"],W=function(R){O(I,R);function I(V,F){_(this,I);var L=j(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,V,F)),U=function K(Z){if(!document.body.contains(V.root))return document.body.removeEventListener("click",K);L.tooltip!=null&&!L.tooltip.root.contains(Z.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),L.pickers!=null&&L.pickers.forEach(function(J){J.container.contains(Z.target)||J.close()})};return V.emitter.listenDOM("click",document.body,U),L}return i(I,[{key:"addModule",value:function(F){var L=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(F,L){F.forEach(function(U){var K=U.getAttribute("class")||"";K.split(/\s+/).forEach(function(Z){if(Z.startsWith("ql-")&&(Z=Z.slice(3),L[Z]!=null))if(Z==="direction")U.innerHTML=L[Z][""]+L[Z].rtl;else if(typeof L[Z]=="string")U.innerHTML=L[Z];else{var J=U.value||"";J!=null&&L[Z][J]&&(U.innerHTML=L[Z][J])}})})}},{key:"buildPickers",value:function(F,L){var U=this;this.pickers=F.map(function(Z){if(Z.classList.contains("ql-align"))return Z.querySelector("option")==null&&T(Z,C),new m.default(Z,L.align);if(Z.classList.contains("ql-background")||Z.classList.contains("ql-color")){var J=Z.classList.contains("ql-background")?"background":"color";return Z.querySelector("option")==null&&T(Z,M,J==="background"?"#ffffff":"#000000"),new f.default(Z,L[J])}else return Z.querySelector("option")==null&&(Z.classList.contains("ql-font")?T(Z,D):Z.classList.contains("ql-header")?T(Z,q):Z.classList.contains("ql-size")&&T(Z,$)),new k.default(Z)});var K=function(){U.pickers.forEach(function(J){J.update()})};this.quill.on(s.default.events.EDITOR_CHANGE,K)}}]),I}(w.default);W.DEFAULTS=(0,u.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var I=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var F=new FileReader;F.onload=function(L){var U=I.quill.getSelection(!0);I.quill.updateContents(new g.default().retain(U.index).delete(U.length).insert({image:L.target.result}),s.default.sources.USER),I.quill.setSelection(U.index+1,s.default.sources.SILENT),V.value=""},F.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(R){O(I,R);function I(V,F){_(this,I);var L=j(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,V,F));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return i(I,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(L){b.default.match(L,"enter")?(F.save(),L.preventDefault()):b.default.match(L,"escape")&&(F.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),L!=null?this.textbox.value=L:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,s.default.sources.USER)),this.quill.root.scrollTop=L;break}case"video":F=A(F);case"formula":{if(!F)break;var U=this.quill.getSelection(!0);if(U!=null){var K=U.index+U.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),F,s.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",s.default.sources.USER),this.quill.setSelection(K+2,s.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),I}(E.default);function A(R){var I=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return I?(I[1]||"https")+"://www.youtube.com/embed/"+I[2]+"?showinfo=0":(I=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(I[1]||"https")+"://player.vimeo.com/video/"+I[2]+"/":R}function T(R,I){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I.forEach(function(F){var L=document.createElement("option");F===V?L.setAttribute("selected","selected"):L.setAttribute("value",F),R.appendChild(L)})}r.BaseTooltip=B,r.default=W},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},a.prototype.contains=function(c){for(var u,v=this.iterator();u=v();)if(u===c)return!0;return!1},a.prototype.insertBefore=function(c,u){c&&(c.next=u,u!=null?(c.prev=u.prev,u.prev!=null&&(u.prev.next=c),u.prev=c,u===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},a.prototype.offset=function(c){for(var u=0,v=this.head;v!=null;){if(v===c)return u;u+=v.length(),v=v.next}return-1},a.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},a.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var u=c;return c!=null&&(c=c.next),u}},a.prototype.find=function(c,u){u===void 0&&(u=!1);for(var v,g=this.iterator();v=g();){var d=v.length();if(c<d||u&&c===d&&(v.next==null||v.next.length()!==0))return[v,c];c-=d}return[null,0]},a.prototype.forEach=function(c){for(var u,v=this.iterator();u=v();)c(u)},a.prototype.forEachAt=function(c,u,v){if(!(u<=0))for(var g=this.find(c),d=g[0],s=g[1],h,b=c-s,y=this.iterator(d);(h=y())&&b<c+u;){var w=h.length();c>b?v(h,c-b,Math.min(u,b+w-c)):v(h,0,Math.min(w,c+u-b)),b+=w}},a.prototype.map=function(c){return this.reduce(function(u,v){return u.push(c(v)),u},[])},a.prototype.reduce=function(c,u){for(var v,g=this.iterator();v=g();)u=c(u,v);return u},a}();r.default=i},function(n,r,o){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var b in h)h.hasOwnProperty(b)&&(s[b]=h[b])};return function(s,h){d(s,h);function b(){this.constructor=s}s.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),c=o(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},v=100,g=function(d){i(s,d);function s(h){var b=d.call(this,h)||this;return b.scroll=b,b.observer=new MutationObserver(function(y){b.update(y)}),b.observer.observe(b.domNode,u),b.attach(),b}return s.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},s.prototype.deleteAt=function(h,b){this.update(),h===0&&b===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,h,b)},s.prototype.formatAt=function(h,b,y,w){this.update(),d.prototype.formatAt.call(this,h,b,y,w)},s.prototype.insertAt=function(h,b,y){this.update(),d.prototype.insertAt.call(this,h,b,y)},s.prototype.optimize=function(h,b){var y=this;h===void 0&&(h=[]),b===void 0&&(b={}),d.prototype.optimize.call(this,b);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)h.push(w.pop());for(var p=function(N,k){k===void 0&&(k=!0),!(N==null||N===y)&&N.domNode.parentNode!=null&&(N.domNode[c.DATA_KEY].mutations==null&&(N.domNode[c.DATA_KEY].mutations=[]),k&&p(N.parent))},f=function(N){N.domNode[c.DATA_KEY]==null||N.domNode[c.DATA_KEY].mutations==null||(N instanceof a.default&&N.children.forEach(f),N.optimize(b))},x=h,m=0;x.length>0;m+=1){if(m>=v)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(function(N){var k=c.find(N.target,!0);k!=null&&(k.domNode===N.target&&(N.type==="childList"?(p(c.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(S){var E=c.find(S,!1);p(E,!1),E instanceof a.default&&E.children.forEach(function(P){p(P,!1)})})):N.type==="attributes"&&p(k.prev)),p(k))}),this.children.forEach(f),x=[].slice.call(this.observer.takeRecords()),w=x.slice();w.length>0;)h.push(w.pop())}},s.prototype.update=function(h,b){var y=this;b===void 0&&(b={}),h=h||this.observer.takeRecords(),h.map(function(w){var p=c.find(w.target,!0);return p==null?null:p.domNode[c.DATA_KEY].mutations==null?(p.domNode[c.DATA_KEY].mutations=[w],p):(p.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],b)}),this.domNode[c.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,b),this.optimize(h,b)},s.blotName="scroll",s.defaultChild="block",s.scope=c.Scope.BLOCK_BLOT,s.tagName="DIV",s}(a.default);r.default=g},function(n,r,o){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var h in s)s.hasOwnProperty(h)&&(d[h]=s[h])};return function(d,s){g(d,s);function h(){this.constructor=d}d.prototype=s===null?Object.create(s):(h.prototype=s.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(18),c=o(1);function u(g,d){if(Object.keys(g).length!==Object.keys(d).length)return!1;for(var s in g)if(g[s]!==d[s])return!1;return!0}var v=function(g){i(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.formats=function(s){if(s.tagName!==d.tagName)return g.formats.call(this,s)},d.prototype.format=function(s,h){var b=this;s===this.statics.blotName&&!h?(this.children.forEach(function(y){y instanceof a.default||(y=y.wrap(d.blotName,!0)),b.attributes.copy(y)}),this.unwrap()):g.prototype.format.call(this,s,h)},d.prototype.formatAt=function(s,h,b,y){if(this.formats()[b]!=null||c.query(b,c.Scope.ATTRIBUTE)){var w=this.isolate(s,h);w.format(b,y)}else g.prototype.formatAt.call(this,s,h,b,y)},d.prototype.optimize=function(s){g.prototype.optimize.call(this,s);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var b=this.next;b instanceof d&&b.prev===this&&u(h,b.formats())&&(b.moveChildren(this),b.remove())},d.blotName="inline",d.scope=c.Scope.INLINE_BLOT,d.tagName="SPAN",d}(a.default);r.default=v},function(n,r,o){var i=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var s in d)d.hasOwnProperty(s)&&(g[s]=d[s])};return function(g,d){v(g,d);function s(){this.constructor=g}g.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(18),c=o(1),u=function(v){i(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.formats=function(d){var s=c.query(g.blotName).tagName;if(d.tagName!==s)return v.formats.call(this,d)},g.prototype.format=function(d,s){c.query(d,c.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!s?this.replaceWith(g.blotName):v.prototype.format.call(this,d,s))},g.prototype.formatAt=function(d,s,h,b){c.query(h,c.Scope.BLOCK)!=null?this.format(h,b):v.prototype.formatAt.call(this,d,s,h,b)},g.prototype.insertAt=function(d,s,h){if(h==null||c.query(s,c.Scope.INLINE)!=null)v.prototype.insertAt.call(this,d,s,h);else{var b=this.split(d),y=c.create(s,h);b.parent.insertBefore(y,b)}},g.prototype.update=function(d,s){navigator.userAgent.match(/Trident/)?this.build():v.prototype.update.call(this,d,s)},g.blotName="block",g.scope=c.Scope.BLOCK_BLOT,g.tagName="P",g}(a.default);r.default=u},function(n,r,o){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){u(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(19),c=function(u){i(v,u);function v(){return u!==null&&u.apply(this,arguments)||this}return v.formats=function(g){},v.prototype.format=function(g,d){u.prototype.formatAt.call(this,0,this.length(),g,d)},v.prototype.formatAt=function(g,d,s,h){g===0&&d===this.length()?this.format(s,h):u.prototype.formatAt.call(this,g,d,s,h)},v.prototype.formats=function(){return this.statics.formats(this.domNode)},v}(a.default);r.default=c},function(n,r,o){var i=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var s in d)d.hasOwnProperty(s)&&(g[s]=d[s])};return function(g,d){v(g,d);function s(){this.constructor=g}g.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(19),c=o(1),u=function(v){i(g,v);function g(d){var s=v.call(this,d)||this;return s.text=s.statics.value(s.domNode),s}return g.create=function(d){return document.createTextNode(d)},g.value=function(d){var s=d.data;return s.normalize&&(s=s.normalize()),s},g.prototype.deleteAt=function(d,s){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+s)},g.prototype.index=function(d,s){return this.domNode===d?s:-1},g.prototype.insertAt=function(d,s,h){h==null?(this.text=this.text.slice(0,d)+s+this.text.slice(d),this.domNode.data=this.text):v.prototype.insertAt.call(this,d,s,h)},g.prototype.length=function(){return this.text.length},g.prototype.optimize=function(d){v.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},g.prototype.position=function(d,s){return[this.domNode,d]},g.prototype.split=function(d,s){if(s===void 0&&(s=!1),!s){if(d===0)return this;if(d===this.length())return this.next}var h=c.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},g.prototype.update=function(d,s){var h=this;d.some(function(b){return b.type==="characterData"&&b.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},g.prototype.value=function(){return this.text},g.blotName="text",g.scope=c.Scope.INLINE_BLOT,g}(a.default);r.default=u},function(n,r,o){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,u){return arguments.length>1&&!this.contains(c)==!u?u:a.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,u){return u=u||0,this.substr(u,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,u){var v=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>v.length)&&(u=v.length),u-=c.length;var g=v.indexOf(c,u);return g!==-1&&g===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var v=Object(this),g=v.length>>>0,d=arguments[1],s,h=0;h<g;h++)if(s=v[h],u.call(d,s,h,v))return s}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var o=-1,i=1,a=0;function c(m,N,k){if(m==N)return m?[[a,m]]:[];(k<0||m.length<k)&&(k=null);var S=d(m,N),E=m.substring(0,S);m=m.substring(S),N=N.substring(S),S=s(m,N);var P=m.substring(m.length-S);m=m.substring(0,m.length-S),N=N.substring(0,N.length-S);var _=u(m,N);return E&&_.unshift([a,E]),P&&_.push([a,P]),b(_),k!=null&&(_=p(_,k)),_=f(_),_}function u(m,N){var k;if(!m)return[[i,N]];if(!N)return[[o,m]];var S=m.length>N.length?m:N,E=m.length>N.length?N:m,P=S.indexOf(E);if(P!=-1)return k=[[i,S.substring(0,P)],[a,E],[i,S.substring(P+E.length)]],m.length>N.length&&(k[0][0]=k[2][0]=o),k;if(E.length==1)return[[o,m],[i,N]];var _=h(m,N);if(_){var j=_[0],O=_[1],C=_[2],M=_[3],D=_[4],q=c(j,C),$=c(O,M);return q.concat([[a,D]],$)}return v(m,N)}function v(m,N){for(var k=m.length,S=N.length,E=Math.ceil((k+S)/2),P=E,_=2*E,j=new Array(_),O=new Array(_),C=0;C<_;C++)j[C]=-1,O[C]=-1;j[P+1]=0,O[P+1]=0;for(var M=k-S,D=M%2!=0,q=0,$=0,W=0,B=0,A=0;A<E;A++){for(var T=-A+q;T<=A-$;T+=2){var R=P+T,I;T==-A||T!=A&&j[R-1]<j[R+1]?I=j[R+1]:I=j[R-1]+1;for(var V=I-T;I<k&&V<S&&m.charAt(I)==N.charAt(V);)I++,V++;if(j[R]=I,I>k)$+=2;else if(V>S)q+=2;else if(D){var F=P+M-T;if(F>=0&&F<_&&O[F]!=-1){var L=k-O[F];if(I>=L)return g(m,N,I,V)}}}for(var U=-A+W;U<=A-B;U+=2){var F=P+U,L;U==-A||U!=A&&O[F-1]<O[F+1]?L=O[F+1]:L=O[F-1]+1;for(var K=L-U;L<k&&K<S&&m.charAt(k-L-1)==N.charAt(S-K-1);)L++,K++;if(O[F]=L,L>k)B+=2;else if(K>S)W+=2;else if(!D){var R=P+M-U;if(R>=0&&R<_&&j[R]!=-1){var I=j[R],V=P+I-R;if(L=k-L,I>=L)return g(m,N,I,V)}}}}return[[o,m],[i,N]]}function g(m,N,k,S){var E=m.substring(0,k),P=N.substring(0,S),_=m.substring(k),j=N.substring(S),O=c(E,P),C=c(_,j);return O.concat(C)}function d(m,N){if(!m||!N||m.charAt(0)!=N.charAt(0))return 0;for(var k=0,S=Math.min(m.length,N.length),E=S,P=0;k<E;)m.substring(P,E)==N.substring(P,E)?(k=E,P=k):S=E,E=Math.floor((S-k)/2+k);return E}function s(m,N){if(!m||!N||m.charAt(m.length-1)!=N.charAt(N.length-1))return 0;for(var k=0,S=Math.min(m.length,N.length),E=S,P=0;k<E;)m.substring(m.length-E,m.length-P)==N.substring(N.length-E,N.length-P)?(k=E,P=k):S=E,E=Math.floor((S-k)/2+k);return E}function h(m,N){var k=m.length>N.length?m:N,S=m.length>N.length?N:m;if(k.length<4||S.length*2<k.length)return null;function E($,W,B){for(var A=$.substring(B,B+Math.floor($.length/4)),T=-1,R="",I,V,F,L;(T=W.indexOf(A,T+1))!=-1;){var U=d($.substring(B),W.substring(T)),K=s($.substring(0,B),W.substring(0,T));R.length<K+U&&(R=W.substring(T-K,T)+W.substring(T,T+U),I=$.substring(0,B-K),V=$.substring(B+U),F=W.substring(0,T-K),L=W.substring(T+U))}return R.length*2>=$.length?[I,V,F,L,R]:null}var P=E(k,S,Math.ceil(k.length/4)),_=E(k,S,Math.ceil(k.length/2)),j;if(!P&&!_)return null;_?P?j=P[4].length>_[4].length?P:_:j=_:j=P;var O,C,M,D;m.length>N.length?(O=j[0],C=j[1],M=j[2],D=j[3]):(M=j[0],D=j[1],O=j[2],C=j[3]);var q=j[4];return[O,C,M,D,q]}function b(m){m.push([a,""]);for(var N=0,k=0,S=0,E="",P="",_;N<m.length;)switch(m[N][0]){case i:S++,P+=m[N][1],N++;break;case o:k++,E+=m[N][1],N++;break;case a:k+S>1?(k!==0&&S!==0&&(_=d(P,E),_!==0&&(N-k-S>0&&m[N-k-S-1][0]==a?m[N-k-S-1][1]+=P.substring(0,_):(m.splice(0,0,[a,P.substring(0,_)]),N++),P=P.substring(_),E=E.substring(_)),_=s(P,E),_!==0&&(m[N][1]=P.substring(P.length-_)+m[N][1],P=P.substring(0,P.length-_),E=E.substring(0,E.length-_))),k===0?m.splice(N-S,k+S,[i,P]):S===0?m.splice(N-k,k+S,[o,E]):m.splice(N-k-S,k+S,[o,E],[i,P]),N=N-k-S+(k?1:0)+(S?1:0)+1):N!==0&&m[N-1][0]==a?(m[N-1][1]+=m[N][1],m.splice(N,1)):N++,S=0,k=0,E="",P="";break}m[m.length-1][1]===""&&m.pop();var j=!1;for(N=1;N<m.length-1;)m[N-1][0]==a&&m[N+1][0]==a&&(m[N][1].substring(m[N][1].length-m[N-1][1].length)==m[N-1][1]?(m[N][1]=m[N-1][1]+m[N][1].substring(0,m[N][1].length-m[N-1][1].length),m[N+1][1]=m[N-1][1]+m[N+1][1],m.splice(N-1,1),j=!0):m[N][1].substring(0,m[N+1][1].length)==m[N+1][1]&&(m[N-1][1]+=m[N+1][1],m[N][1]=m[N][1].substring(m[N+1][1].length)+m[N+1][1],m.splice(N+1,1),j=!0)),N++;j&&b(m)}var y=c;y.INSERT=i,y.DELETE=o,y.EQUAL=a,n.exports=y;function w(m,N){if(N===0)return[a,m];for(var k=0,S=0;S<m.length;S++){var E=m[S];if(E[0]===o||E[0]===a){var P=k+E[1].length;if(N===P)return[S+1,m];if(N<P){m=m.slice();var _=N-k,j=[E[0],E[1].slice(0,_)],O=[E[0],E[1].slice(_)];return m.splice(S,1,j,O),[S+1,m]}else k=P}}throw new Error("cursor_pos is out of bounds!")}function p(m,N){var k=w(m,N),S=k[1],E=k[0],P=S[E],_=S[E+1];if(P==null)return m;if(P[0]!==a)return m;if(_!=null&&P[1]+_[1]===_[1]+P[1])return S.splice(E,2,_,P),x(S,E,2);if(_!=null&&_[1].indexOf(P[1])===0){S.splice(E,2,[_[0],P[1]],[0,P[1]]);var j=_[1].slice(P[1].length);return j.length>0&&S.splice(E+2,0,[_[0],j]),x(S,E,3)}else return m}function f(m){for(var N=!1,k=function(_){return _.charCodeAt(0)>=56320&&_.charCodeAt(0)<=57343},S=function(_){return _.charCodeAt(_.length-1)>=55296&&_.charCodeAt(_.length-1)<=56319},E=2;E<m.length;E+=1)m[E-2][0]===a&&S(m[E-2][1])&&m[E-1][0]===o&&k(m[E-1][1])&&m[E][0]===i&&k(m[E][1])&&(N=!0,m[E-1][1]=m[E-2][1].slice(-1)+m[E-1][1],m[E][1]=m[E-2][1].slice(-1)+m[E][1],m[E-2][1]=m[E-2][1].slice(0,-1));if(!N)return m;for(var P=[],E=0;E<m.length;E+=1)m[E][1].length>0&&P.push(m[E]);return P}function x(m,N,k){for(var S=N+k-1;S>=0&&S>=N-1;S--)if(S+1<m.length){var E=m[S],P=m[S+1];E[0]===P[1]&&m.splice(S,2,[E[0],E[1]+P[1]])}return m}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(i){var a=[];for(var c in i)a.push(c);return a}},function(n,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=o?i:a,r.supported=i;function i(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=a;function a(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(n,r){var o=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function c(v,g,d){this.fn=v,this.context=g,this.once=d||!1}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var g=[],d,s;if(this._eventsCount===0)return g;for(s in d=this._events)o.call(d,s)&&g.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(d)):g},u.prototype.listeners=function(g,d){var s=i?i+g:g,h=this._events[s];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var b=0,y=h.length,w=new Array(y);b<y;b++)w[b]=h[b].fn;return w},u.prototype.emit=function(g,d,s,h,b,y){var w=i?i+g:g;if(!this._events[w])return!1;var p=this._events[w],f=arguments.length,x,m;if(p.fn){switch(p.once&&this.removeListener(g,p.fn,void 0,!0),f){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,s),!0;case 4:return p.fn.call(p.context,d,s,h),!0;case 5:return p.fn.call(p.context,d,s,h,b),!0;case 6:return p.fn.call(p.context,d,s,h,b,y),!0}for(m=1,x=new Array(f-1);m<f;m++)x[m-1]=arguments[m];p.fn.apply(p.context,x)}else{var N=p.length,k;for(m=0;m<N;m++)switch(p[m].once&&this.removeListener(g,p[m].fn,void 0,!0),f){case 1:p[m].fn.call(p[m].context);break;case 2:p[m].fn.call(p[m].context,d);break;case 3:p[m].fn.call(p[m].context,d,s);break;case 4:p[m].fn.call(p[m].context,d,s,h);break;default:if(!x)for(k=1,x=new Array(f-1);k<f;k++)x[k-1]=arguments[k];p[m].fn.apply(p[m].context,x)}}return!0},u.prototype.on=function(g,d,s){var h=new c(d,s||this),b=i?i+g:g;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],h]:this._events[b].push(h):(this._events[b]=h,this._eventsCount++),this},u.prototype.once=function(g,d,s){var h=new c(d,s||this,!0),b=i?i+g:g;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],h]:this._events[b].push(h):(this._events[b]=h,this._eventsCount++),this},u.prototype.removeListener=function(g,d,s,h){var b=i?i+g:g;if(!this._events[b])return this;if(!d)return--this._eventsCount===0?this._events=new a:delete this._events[b],this;var y=this._events[b];if(y.fn)y.fn===d&&(!h||y.once)&&(!s||y.context===s)&&(--this._eventsCount===0?this._events=new a:delete this._events[b]);else{for(var w=0,p=[],f=y.length;w<f;w++)(y[w].fn!==d||h&&!y[w].once||s&&y[w].context!==s)&&p.push(y[w]);p.length?this._events[b]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new a:delete this._events[b]}return this},u.prototype.removeAllListeners=function(g){var d;return g?(d=i?i+g:g,this._events[d]&&(--this._eventsCount===0?this._events=new a:delete this._events[d])):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=i,u.EventEmitter=u,typeof n<"u"&&(n.exports=u)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},a=function(){function Y(G,Q){var ee=[],X=!0,ae=!1,fe=void 0;try{for(var ce=G[Symbol.iterator](),De;!(X=(De=ce.next()).done)&&(ee.push(De.value),!(Q&&ee.length===Q));X=!0);}catch(ze){ae=!0,fe=ze}finally{try{!X&&ce.return&&ce.return()}finally{if(ae)throw fe}}return ee}return function(G,Q){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Y(G,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function Y(G,Q){for(var ee=0;ee<Q.length;ee++){var X=Q[ee];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}}return function(G,Q,ee){return Q&&Y(G.prototype,Q),ee&&Y(G,ee),G}}(),u=o(3),v=O(u),g=o(2),d=O(g),s=o(0),h=O(s),b=o(5),y=O(b),w=o(10),p=O(w),f=o(9),x=O(f),m=o(36),N=o(37),k=o(13),S=O(k),E=o(26),P=o(38),_=o(39),j=o(40);function O(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,G,Q){return G in Y?Object.defineProperty(Y,G,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Y[G]=Q,Y}function M(Y,G){if(!(Y instanceof G))throw new TypeError("Cannot call a class as a function")}function D(Y,G){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Y}function q(Y,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,G):Y.__proto__=G)}var $=(0,p.default)("quill:clipboard"),W="__ql-matcher",B=[[Node.TEXT_NODE,we],[Node.TEXT_NODE,he],["br",re],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Me],["li",ue],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",se]],A=[m.AlignAttribute,P.DirectionAttribute].reduce(function(Y,G){return Y[G.keyName]=G,Y},{}),T=[m.AlignStyle,N.BackgroundStyle,E.ColorStyle,P.DirectionStyle,_.FontStyle,j.SizeStyle].reduce(function(Y,G){return Y[G.keyName]=G,Y},{}),R=function(Y){q(G,Y);function G(Q,ee){M(this,G);var X=D(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,Q,ee));return X.quill.root.addEventListener("paste",X.onPaste.bind(X)),X.container=X.quill.addContainer("ql-clipboard"),X.container.setAttribute("contenteditable",!0),X.container.setAttribute("tabindex",-1),X.matchers=[],B.concat(X.options.matchers).forEach(function(ae){var fe=a(ae,2),ce=fe[0],De=fe[1];!ee.matchVisual&&De===pe||X.addMatcher(ce,De)}),X}return c(G,[{key:"addMatcher",value:function(ee,X){this.matchers.push([ee,X])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var X=this.quill.getFormat(this.quill.selection.savedRange.index);if(X[S.default.blotName]){var ae=this.container.innerText;return this.container.innerHTML="",new d.default().insert(ae,C({},S.default.blotName,X[S.default.blotName]))}var fe=this.prepareMatching(),ce=a(fe,2),De=ce[0],ze=ce[1],be=U(this.container,De,ze);return F(be,`
`)&&be.ops[be.ops.length-1].attributes==null&&(be=be.compose(new d.default().retain(be.length()-1).delete(1))),$.log("convert",this.container.innerHTML,be),this.container.innerHTML="",be}},{key:"dangerouslyPasteHTML",value:function(ee,X){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),X),this.quill.setSelection(0,y.default.sources.SILENT);else{var fe=this.convert(X);this.quill.updateContents(new d.default().retain(ee).concat(fe),ae),this.quill.setSelection(ee+fe.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var X=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var ae=this.quill.getSelection(),fe=new d.default().retain(ae.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){fe=fe.concat(X.convert()).delete(ae.length),X.quill.updateContents(fe,y.default.sources.USER),X.quill.setSelection(fe.length()-ae.length,y.default.sources.SILENT),X.quill.scrollingContainer.scrollTop=ce,X.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,X=[],ae=[];return this.matchers.forEach(function(fe){var ce=a(fe,2),De=ce[0],ze=ce[1];switch(De){case Node.TEXT_NODE:ae.push(ze);break;case Node.ELEMENT_NODE:X.push(ze);break;default:[].forEach.call(ee.container.querySelectorAll(De),function(be){be[W]=be[W]||[],be[W].push(ze)});break}}),[X,ae]}}]),G}(x.default);R.DEFAULTS={matchers:[],matchVisual:!0};function I(Y,G,Q){return(typeof G>"u"?"undefined":i(G))==="object"?Object.keys(G).reduce(function(ee,X){return I(ee,X,G[X])},Y):Y.reduce(function(ee,X){return X.attributes&&X.attributes[G]?ee.push(X):ee.insert(X.insert,(0,v.default)({},C({},G,Q),X.attributes))},new d.default)}function V(Y){if(Y.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return Y[G]||(Y[G]=window.getComputedStyle(Y))}function F(Y,G){for(var Q="",ee=Y.ops.length-1;ee>=0&&Q.length<G.length;--ee){var X=Y.ops[ee];if(typeof X.insert!="string")break;Q=X.insert+Q}return Q.slice(-1*G.length)===G}function L(Y){if(Y.childNodes.length===0)return!1;var G=V(Y);return["block","list-item"].indexOf(G.display)>-1}function U(Y,G,Q){return Y.nodeType===Y.TEXT_NODE?Q.reduce(function(ee,X){return X(Y,ee)},new d.default):Y.nodeType===Y.ELEMENT_NODE?[].reduce.call(Y.childNodes||[],function(ee,X){var ae=U(X,G,Q);return X.nodeType===Y.ELEMENT_NODE&&(ae=G.reduce(function(fe,ce){return ce(X,fe)},ae),ae=(X[W]||[]).reduce(function(fe,ce){return ce(X,fe)},ae)),ee.concat(ae)},new d.default):new d.default}function K(Y,G,Q){return I(Q,Y,!0)}function Z(Y,G){var Q=h.default.Attributor.Attribute.keys(Y),ee=h.default.Attributor.Class.keys(Y),X=h.default.Attributor.Style.keys(Y),ae={};return Q.concat(ee).concat(X).forEach(function(fe){var ce=h.default.query(fe,h.default.Scope.ATTRIBUTE);ce!=null&&(ae[ce.attrName]=ce.value(Y),ae[ce.attrName])||(ce=A[fe],ce!=null&&(ce.attrName===fe||ce.keyName===fe)&&(ae[ce.attrName]=ce.value(Y)||void 0),ce=T[fe],ce!=null&&(ce.attrName===fe||ce.keyName===fe)&&(ce=T[fe],ae[ce.attrName]=ce.value(Y)||void 0))}),Object.keys(ae).length>0&&(G=I(G,ae)),G}function J(Y,G){var Q=h.default.query(Y);if(Q==null)return G;if(Q.prototype instanceof h.default.Embed){var ee={},X=Q.value(Y);X!=null&&(ee[Q.blotName]=X,G=new d.default().insert(ee,Q.formats(Y)))}else typeof Q.formats=="function"&&(G=I(G,Q.blotName,Q.formats(Y)));return G}function re(Y,G){return F(G,`
`)||G.insert(`
`),G}function se(){return new d.default}function ue(Y,G){var Q=h.default.query(Y);if(Q==null||Q.blotName!=="list-item"||!F(G,`
`))return G;for(var ee=-1,X=Y.parentNode;!X.classList.contains("ql-clipboard");)(h.default.query(X)||{}).blotName==="list"&&(ee+=1),X=X.parentNode;return ee<=0?G:G.compose(new d.default().retain(G.length()-1).retain(1,{indent:ee}))}function he(Y,G){return F(G,`
`)||(L(Y)||G.length()>0&&Y.nextSibling&&L(Y.nextSibling))&&G.insert(`
`),G}function pe(Y,G){if(L(Y)&&Y.nextElementSibling!=null&&!F(G,`

`)){var Q=Y.offsetHeight+parseFloat(V(Y).marginTop)+parseFloat(V(Y).marginBottom);Y.nextElementSibling.offsetTop>Y.offsetTop+Q*1.5&&G.insert(`
`)}return G}function Me(Y,G){var Q={},ee=Y.style||{};return ee.fontStyle&&V(Y).fontStyle==="italic"&&(Q.italic=!0),ee.fontWeight&&(V(Y).fontWeight.startsWith("bold")||parseInt(V(Y).fontWeight)>=700)&&(Q.bold=!0),Object.keys(Q).length>0&&(G=I(G,Q)),parseFloat(ee.textIndent||0)>0&&(G=new d.default().insert("	").concat(G)),G}function we(Y,G){var Q=Y.data;if(Y.parentNode.tagName==="O:P")return G.insert(Q.trim());if(Q.trim().length===0&&Y.parentNode.classList.contains("ql-clipboard"))return G;if(!V(Y.parentNode).whiteSpace.startsWith("pre")){var ee=function(ae,fe){return fe=fe.replace(/[^\u00a0]/g,""),fe.length<1&&ae?" ":fe};Q=Q.replace(/\r\n/g," ").replace(/\n/g," "),Q=Q.replace(/\s\s+/g,ee.bind(ee,!0)),(Y.previousSibling==null&&L(Y.parentNode)||Y.previousSibling!=null&&L(Y.previousSibling))&&(Q=Q.replace(/^\s+/,ee.bind(ee,!1))),(Y.nextSibling==null&&L(Y.parentNode)||Y.nextSibling!=null&&L(Y.nextSibling))&&(Q=Q.replace(/\s+$/,ee.bind(ee,!1)))}return G.insert(Q)}r.default=R,r.matchAttributor=Z,r.matchBlot=J,r.matchNewline=he,r.matchSpacing=pe,r.matchText=we},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(y,w){for(var p=0;p<w.length;p++){var f=w[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,w,p){return w&&b(y.prototype,w),p&&b(y,p),y}}(),a=function b(y,w,p){y===null&&(y=Function.prototype);var f=Object.getOwnPropertyDescriptor(y,w);if(f===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,p)}else{if("value"in f)return f.value;var m=f.get;return m===void 0?void 0:m.call(p)}},c=o(6),u=v(c);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function s(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var h=function(b){s(y,b);function y(){return g(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"optimize",value:function(p){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(u.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=function(){function j(O,C){var M=[],D=!0,q=!1,$=void 0;try{for(var W=O[Symbol.iterator](),B;!(D=(B=W.next()).done)&&(M.push(B.value),!(C&&M.length===C));D=!0);}catch(A){q=!0,$=A}finally{try{!D&&W.return&&W.return()}finally{if(q)throw $}}return M}return function(O,C){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return j(O,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(O,C){for(var M=0;M<C.length;M++){var D=C[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}return function(O,C,M){return C&&j(O.prototype,C),M&&j(O,M),O}}(),c=o(2),u=p(c),v=o(0),g=p(v),d=o(5),s=p(d),h=o(10),b=p(h),y=o(9),w=p(y);function p(j){return j&&j.__esModule?j:{default:j}}function f(j,O,C){return O in j?Object.defineProperty(j,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[O]=C,j}function x(j,O){if(!(j instanceof O))throw new TypeError("Cannot call a class as a function")}function m(j,O){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:j}function N(j,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);j.prototype=Object.create(O&&O.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(j,O):j.__proto__=O)}var k=(0,b.default)("quill:toolbar"),S=function(j){N(O,j);function O(C,M){x(this,O);var D=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,M));if(Array.isArray(D.options.container)){var q=document.createElement("div");P(q,D.options.container),C.container.parentNode.insertBefore(q,C.container),D.container=q}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var $;return $=k.error("Container required for toolbar",D.options),m(D,$)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(W){D.addHandler(W,D.options.handlers[W])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(W){D.attach(W)}),D.quill.on(s.default.events.EDITOR_CHANGE,function(W,B){W===s.default.events.SELECTION_CHANGE&&D.update(B)}),D.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var W=D.quill.selection.getRange(),B=i(W,1),A=B[0];D.update(A)}),D}return a(O,[{key:"addHandler",value:function(M,D){this.handlers[M]=D}},{key:"attach",value:function(M){var D=this,q=[].find.call(M.classList,function(W){return W.indexOf("ql-")===0});if(q){if(q=q.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){k.warn("ignoring attaching to disabled format",q,M);return}if(g.default.query(q)==null){k.warn("ignoring attaching to nonexistent format",q,M);return}}var $=M.tagName==="SELECT"?"change":"click";M.addEventListener($,function(W){var B=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var A=M.options[M.selectedIndex];A.hasAttribute("selected")?B=!1:B=A.value||!1}else M.classList.contains("ql-active")?B=!1:B=M.value||!M.hasAttribute("value"),W.preventDefault();D.quill.focus();var T=D.quill.selection.getRange(),R=i(T,1),I=R[0];if(D.handlers[q]!=null)D.handlers[q].call(D,B);else if(g.default.query(q).prototype instanceof g.default.Embed){if(B=prompt("Enter "+q),!B)return;D.quill.updateContents(new u.default().retain(I.index).delete(I.length).insert(f({},q,B)),s.default.sources.USER)}else D.quill.format(q,B,s.default.sources.USER);D.update(I)}),this.controls.push([q,M])}}},{key:"update",value:function(M){var D=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(q){var $=i(q,2),W=$[0],B=$[1];if(B.tagName==="SELECT"){var A=void 0;if(M==null)A=null;else if(D[W]==null)A=B.querySelector("option[selected]");else if(!Array.isArray(D[W])){var T=D[W];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),A=B.querySelector('option[value="'+T+'"]')}A==null?(B.value="",B.selectedIndex=-1):A.selected=!0}else if(M==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var R=D[W]===B.getAttribute("value")||D[W]!=null&&D[W].toString()===B.getAttribute("value")||D[W]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",R)}else B.classList.toggle("ql-active",D[W]!=null)})}}]),O}(w.default);S.DEFAULTS={};function E(j,O,C){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+O),C!=null&&(M.value=C),j.appendChild(M)}function P(j,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(C){var M=document.createElement("span");M.classList.add("ql-formats"),C.forEach(function(D){if(typeof D=="string")E(M,D);else{var q=Object.keys(D)[0],$=D[q];Array.isArray($)?_(M,q,$):E(M,q,$)}}),j.appendChild(M)})}function _(j,O,C){var M=document.createElement("select");M.classList.add("ql-"+O),C.forEach(function(D){var q=document.createElement("option");D!==!1?q.setAttribute("value",D):q.setAttribute("selected","selected"),M.appendChild(q)}),j.appendChild(M)}S.DEFAULTS={container:null,handlers:{clean:function(){var O=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(D){g.default.query(D,g.default.Scope.INLINE)!=null&&O.quill.format(D,!1)})}else this.quill.removeFormat(C,s.default.sources.USER)},direction:function(O){var C=this.quill.getFormat().align;O==="rtl"&&C==null?this.quill.format("align","right",s.default.sources.USER):!O&&C==="right"&&this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",O,s.default.sources.USER)},indent:function(O){var C=this.quill.getSelection(),M=this.quill.getFormat(C),D=parseInt(M.indent||0);if(O==="+1"||O==="-1"){var q=O==="+1"?1:-1;M.direction==="rtl"&&(q*=-1),this.quill.format("indent",D+q,s.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,s.default.sources.USER)},list:function(O){var C=this.quill.getSelection(),M=this.quill.getFormat(C);O==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",O,s.default.sources.USER)}}},r.default=S,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(y,w){for(var p=0;p<w.length;p++){var f=w[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,w,p){return w&&b(y.prototype,w),p&&b(y,p),y}}(),a=function b(y,w,p){y===null&&(y=Function.prototype);var f=Object.getOwnPropertyDescriptor(y,w);if(f===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,p)}else{if("value"in f)return f.value;var m=f.get;return m===void 0?void 0:m.call(p)}},c=o(28),u=v(c);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function s(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var h=function(b){s(y,b);function y(w,p){g(this,y);var f=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return f.label.innerHTML=p,f.container.classList.add("ql-color-picker"),[].slice.call(f.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(x){x.classList.add("ql-primary")}),f}return i(y,[{key:"buildItem",value:function(p){var f=a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,p);return f.style.backgroundColor=p.getAttribute("value")||"",f}},{key:"selectItem",value:function(p,f){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,f);var x=this.label.querySelector(".ql-color-label"),m=p&&p.getAttribute("data-value")||"";x&&(x.tagName==="line"?x.style.stroke=m:x.style.fill=m)}}]),y}(u.default);r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(y,w){for(var p=0;p<w.length;p++){var f=w[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,w,p){return w&&b(y.prototype,w),p&&b(y,p),y}}(),a=function b(y,w,p){y===null&&(y=Function.prototype);var f=Object.getOwnPropertyDescriptor(y,w);if(f===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,p)}else{if("value"in f)return f.value;var m=f.get;return m===void 0?void 0:m.call(p)}},c=o(28),u=v(c);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function s(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var h=function(b){s(y,b);function y(w,p){g(this,y);var f=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return f.container.classList.add("ql-icon-picker"),[].forEach.call(f.container.querySelectorAll(".ql-picker-item"),function(x){x.innerHTML=p[x.getAttribute("data-value")||""]}),f.defaultItem=f.container.querySelector(".ql-selected"),f.selectItem(f.defaultItem),f}return i(y,[{key:"selectItem",value:function(p,f){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,f),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),y}(u.default);r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(v,g){for(var d=0;d<g.length;d++){var s=g[d];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(v,s.key,s)}}return function(v,g,d){return g&&u(v.prototype,g),d&&u(v,d),v}}();function a(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}var c=function(){function u(v,g){var d=this;a(this,u),this.quill=v,this.boundsContainer=g||document.body,this.root=v.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return i(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(g){var d=g.left+g.width/2-this.root.offsetWidth/2,s=g.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=s+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),y=0;if(b.right>h.right&&(y=h.right-b.right,this.root.style.left=d+y+"px"),b.left<h.left&&(y=h.left-b.left,this.root.style.left=d+y+"px"),b.bottom>h.bottom){var w=b.bottom-b.top,p=g.bottom-g.top+w;this.root.style.top=s-p+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();r.default=c},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function _(j,O){var C=[],M=!0,D=!1,q=void 0;try{for(var $=j[Symbol.iterator](),W;!(M=(W=$.next()).done)&&(C.push(W.value),!(O&&C.length===O));M=!0);}catch(B){D=!0,q=B}finally{try{!M&&$.return&&$.return()}finally{if(D)throw q}}return C}return function(j,O){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return _(j,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function _(j,O,C){j===null&&(j=Function.prototype);var M=Object.getOwnPropertyDescriptor(j,O);if(M===void 0){var D=Object.getPrototypeOf(j);return D===null?void 0:_(D,O,C)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(C)}},c=function(){function _(j,O){for(var C=0;C<O.length;C++){var M=O[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(j,M.key,M)}}return function(j,O,C){return O&&_(j.prototype,O),C&&_(j,C),j}}(),u=o(3),v=x(u),g=o(8),d=x(g),s=o(43),h=x(s),b=o(27),y=x(b),w=o(15),p=o(41),f=x(p);function x(_){return _&&_.__esModule?_:{default:_}}function m(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")}function N(_,j){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:_}function k(_,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(_,j):_.__proto__=j)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(_){k(j,_);function j(O,C){m(this,j),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var M=N(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,O,C));return M.quill.container.classList.add("ql-snow"),M}return c(j,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),f.default),this.tooltip=new P(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,D){C.handlers.link.call(C,!D.format.link)})}}]),j}(h.default);E.DEFAULTS=(0,v.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(j){if(j){var O=this.quill.getSelection();if(O==null||O.length==0)return;var C=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var M=this.quill.theme.tooltip;M.edit("link",C)}else this.quill.format("link",!1)}}}}});var P=function(_){k(j,_);function j(O,C){m(this,j);var M=N(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,O,C));return M.preview=M.root.querySelector("a.ql-preview"),M}return c(j,[{key:"listen",value:function(){var C=this;a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(C.linkRange!=null){var D=C.linkRange;C.restoreFocus(),C.quill.formatText(D,"link",!1,d.default.sources.USER),delete C.linkRange}M.preventDefault(),C.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(M,D,q){if(M!=null){if(M.length===0&&q===d.default.sources.USER){var $=C.quill.scroll.descendant(y.default,M.index),W=i($,2),B=W[0],A=W[1];if(B!=null){C.linkRange=new w.Range(M.index-A,B.length());var T=y.default.formats(B.domNode);C.preview.textContent=T,C.preview.setAttribute("href",T),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),j}(s.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(29),a=X(i),c=o(36),u=o(38),v=o(64),g=o(65),d=X(g),s=o(66),h=X(s),b=o(67),y=X(b),w=o(37),p=o(26),f=o(39),x=o(40),m=o(56),N=X(m),k=o(68),S=X(k),E=o(27),P=X(E),_=o(69),j=X(_),O=o(70),C=X(O),M=o(71),D=X(M),q=o(72),$=X(q),W=o(73),B=X(W),A=o(13),T=X(A),R=o(74),I=X(R),V=o(75),F=X(V),L=o(57),U=X(L),K=o(41),Z=X(K),J=o(28),re=X(J),se=o(59),ue=X(se),he=o(60),pe=X(he),Me=o(61),we=X(Me),Y=o(108),G=X(Y),Q=o(62),ee=X(Q);function X(ae){return ae&&ae.__esModule?ae:{default:ae}}a.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":x.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":x.SizeStyle},!0),a.default.register({"formats/align":c.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":v.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":x.SizeClass,"formats/blockquote":d.default,"formats/code-block":T.default,"formats/header":h.default,"formats/list":y.default,"formats/bold":N.default,"formats/code":A.Code,"formats/italic":S.default,"formats/link":P.default,"formats/script":j.default,"formats/strike":C.default,"formats/underline":D.default,"formats/image":$.default,"formats/video":B.default,"formats/list/item":b.ListItem,"modules/formula":I.default,"modules/syntax":F.default,"modules/toolbar":U.default,"themes/bubble":G.default,"themes/snow":ee.default,"ui/icons":Z.default,"ui/picker":re.default,"ui/icon-picker":pe.default,"ui/color-picker":ue.default,"ui/tooltip":we.default},!0),r.default=a.default},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=function(){function y(w,p){for(var f=0;f<p.length;f++){var x=p[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,p,f){return p&&y(w.prototype,p),f&&y(w,f),w}}(),a=function y(w,p,f){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,p);if(x===void 0){var m=Object.getPrototypeOf(w);return m===null?void 0:y(m,p,f)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(f)}},c=o(0),u=v(c);function v(y){return y&&y.__esModule?y:{default:y}}function g(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function d(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function s(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var h=function(y){s(w,y);function w(){return g(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"add",value:function(f,x){if(x==="+1"||x==="-1"){var m=this.value(f)||0;x=x==="+1"?m+1:m-1}return x===0?(this.remove(f),!0):a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,f,x)}},{key:"canAdd",value:function(f,x){return a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,f,x)||a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,f,parseInt(x))}},{key:"value",value:function(f){return parseInt(a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,f))||void 0}}]),w}(u.default.Attributor.Class),b=new h("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=b},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(4),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}function u(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function v(s,h){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:s}function g(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(s,h):s.__proto__=h)}var d=function(s){g(h,s);function h(){return u(this,h),v(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function h(b,y){for(var w=0;w<y.length;w++){var p=y[w];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(b,p.key,p)}}return function(b,y,w){return y&&h(b.prototype,y),w&&h(b,w),b}}(),a=o(4),c=u(a);function u(h){return h&&h.__esModule?h:{default:h}}function v(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function g(h,b){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:h}function d(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(h,b):h.__proto__=b)}var s=function(h){d(b,h);function b(){return v(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),b}(c.default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],r.default=s},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=function(){function m(N,k){for(var S=0;S<k.length;S++){var E=k[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,k,S){return k&&m(N.prototype,k),S&&m(N,S),N}}(),a=function m(N,k,S){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,k);if(E===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:m(P,k,S)}else{if("value"in E)return E.value;var _=E.get;return _===void 0?void 0:_.call(S)}},c=o(0),u=h(c),v=o(4),g=h(v),d=o(25),s=h(d);function h(m){return m&&m.__esModule?m:{default:m}}function b(m,N,k){return N in m?Object.defineProperty(m,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[N]=k,m}function y(m,N){if(!(m instanceof N))throw new TypeError("Cannot call a class as a function")}function w(m,N){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:m}function p(m,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);m.prototype=Object.create(N&&N.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(m,N):m.__proto__=N)}var f=function(m){p(N,m);function N(){return y(this,N),w(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(S,E){S===x.blotName&&!E?this.replaceWith(u.default.create(this.statics.scope)):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:a(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,S)}}]),N}(g.default);f.blotName="list-item",f.tagName="LI";var x=function(m){p(N,m),i(N,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",P=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&P.setAttribute("data-checked",S==="checked"),P}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(k){y(this,N);var S=w(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k)),E=function(_){if(_.target.parentNode===k){var j=S.statics.formats(k),O=u.default.find(_.target);j==="checked"?O.format("list","unchecked"):j==="unchecked"&&O.format("list","checked")}};return k.addEventListener("touchstart",E),k.addEventListener("mousedown",E),S}return i(N,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof f)a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,S,E);else{var P=E==null?this.length():E.offset(this),_=this.split(P);_.parent.insertBefore(S,_)}}},{key:"optimize",value:function(S){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=u.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,S)}}]),N}(s.default);x.blotName="list",x.scope=u.default.Scope.BLOCK_BLOT,x.tagName=["OL","UL"],x.defaultChild="list-item",x.allowedChildren=[f],r.ListItem=f,r.default=x},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(56),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}function u(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function v(s,h){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:s}function g(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(s,h):s.__proto__=h)}var d=function(s){g(h,s);function h(){return u(this,h),v(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(y,w){for(var p=0;p<w.length;p++){var f=w[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,w,p){return w&&b(y.prototype,w),p&&b(y,p),y}}(),a=function b(y,w,p){y===null&&(y=Function.prototype);var f=Object.getOwnPropertyDescriptor(y,w);if(f===void 0){var x=Object.getPrototypeOf(y);return x===null?void 0:b(x,w,p)}else{if("value"in f)return f.value;var m=f.get;return m===void 0?void 0:m.call(p)}},c=o(6),u=v(c);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function s(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var h=function(b){s(y,b);function y(){return g(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),y}(u.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}function u(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function v(s,h){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:s}function g(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(s,h):s.__proto__=h)}var d=function(s){g(h,s);function h(){return u(this,h),v(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=c(i);function c(s){return s&&s.__esModule?s:{default:s}}function u(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function v(s,h){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:s}function g(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(s,h):s.__proto__=h)}var d=function(s){g(h,s);function h(){return u(this,h),v(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function w(p,f){for(var x=0;x<f.length;x++){var m=f[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,x){return f&&w(p.prototype,f),x&&w(p,x),p}}(),a=function w(p,f,x){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,f);if(m===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:w(N,f,x)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(x)}},c=o(0),u=g(c),v=o(27);function g(w){return w&&w.__esModule?w:{default:w}}function d(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}function s(w,p){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:w}function h(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);w.prototype=Object.create(p&&p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(w,p):w.__proto__=p)}var b=["alt","height","width"],y=function(w){h(p,w);function p(){return d(this,p),s(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"format",value:function(x,m){b.indexOf(x)>-1?m?this.domNode.setAttribute(x,m):this.domNode.removeAttribute(x):a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,x,m)}}],[{key:"create",value:function(x){var m=a(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,x);return typeof x=="string"&&m.setAttribute("src",this.sanitize(x)),m}},{key:"formats",value:function(x){return b.reduce(function(m,N){return x.hasAttribute(N)&&(m[N]=x.getAttribute(N)),m},{})}},{key:"match",value:function(x){return/\.(jpe?g|gif|png)$/.test(x)||/^data:image\/.+;base64/.test(x)}},{key:"sanitize",value:function(x){return(0,v.sanitize)(x,["http","https","data"])?x:"//:0"}},{key:"value",value:function(x){return x.getAttribute("src")}}]),p}(u.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function w(p,f){for(var x=0;x<f.length;x++){var m=f[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,x){return f&&w(p.prototype,f),x&&w(p,x),p}}(),a=function w(p,f,x){p===null&&(p=Function.prototype);var m=Object.getOwnPropertyDescriptor(p,f);if(m===void 0){var N=Object.getPrototypeOf(p);return N===null?void 0:w(N,f,x)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(x)}},c=o(4),u=o(27),v=g(u);function g(w){return w&&w.__esModule?w:{default:w}}function d(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}function s(w,p){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:w}function h(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);w.prototype=Object.create(p&&p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(w,p):w.__proto__=p)}var b=["height","width"],y=function(w){h(p,w);function p(){return d(this,p),s(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"format",value:function(x,m){b.indexOf(x)>-1?m?this.domNode.setAttribute(x,m):this.domNode.removeAttribute(x):a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,x,m)}}],[{key:"create",value:function(x){var m=a(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,x);return m.setAttribute("frameborder","0"),m.setAttribute("allowfullscreen",!0),m.setAttribute("src",this.sanitize(x)),m}},{key:"formats",value:function(x){return b.reduce(function(m,N){return x.hasAttribute(N)&&(m[N]=x.getAttribute(N)),m},{})}},{key:"sanitize",value:function(x){return v.default.sanitize(x)}},{key:"value",value:function(x){return x.getAttribute("src")}}]),p}(c.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=function(){function x(m,N){for(var k=0;k<N.length;k++){var S=N[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,N,k){return N&&x(m.prototype,N),k&&x(m,k),m}}(),a=function x(m,N,k){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,N);if(S===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:x(E,N,k)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(k)}},c=o(35),u=h(c),v=o(5),g=h(v),d=o(9),s=h(d);function h(x){return x&&x.__esModule?x:{default:x}}function b(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function y(x,m){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:x}function w(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(x,m):x.__proto__=m)}var p=function(x){w(m,x);function m(){return b(this,m),y(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,null,[{key:"create",value:function(k){var S=a(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),m}(u.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(x){w(m,x),i(m,null,[{key:"register",value:function(){g.default.register(p,!0)}}]);function m(){b(this,m);var N=y(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return m}(s.default);r.FormulaBlot=p,r.default=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=function(){function k(S,E){for(var P=0;P<E.length;P++){var _=E[P];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}return function(S,E,P){return E&&k(S.prototype,E),P&&k(S,P),S}}(),a=function k(S,E,P){S===null&&(S=Function.prototype);var _=Object.getOwnPropertyDescriptor(S,E);if(_===void 0){var j=Object.getPrototypeOf(S);return j===null?void 0:k(j,E,P)}else{if("value"in _)return _.value;var O=_.get;return O===void 0?void 0:O.call(P)}},c=o(0),u=y(c),v=o(5),g=y(v),d=o(9),s=y(d),h=o(13),b=y(h);function y(k){return k&&k.__esModule?k:{default:k}}function w(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function p(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function f(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var x=function(k){f(S,k);function S(){return w(this,S),p(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return i(S,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var _=this.domNode.textContent;this.cachedText!==_&&((_.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(_),this.domNode.normalize(),this.attach()),this.cachedText=_)}}]),S}(b.default);x.className="ql-syntax";var m=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),N=function(k){f(S,k),i(S,null,[{key:"register",value:function(){g.default.register(m,!0),g.default.register(x,!0)}}]);function S(E,P){w(this,S);var _=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,P));if(typeof _.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var j=null;return _.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(j),j=setTimeout(function(){_.highlight(),j=null},_.options.interval)}),_.highlight(),_}return i(S,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(g.default.sources.USER);var _=this.quill.getSelection();this.quill.scroll.descendants(x).forEach(function(j){j.highlight(P.options.highlight)}),this.quill.update(g.default.sources.SILENT),_!=null&&this.quill.setSelection(_,g.default.sources.SILENT)}}}]),S}(s.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=x,r.CodeToken=m,r.default=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function S(E,P,_){E===null&&(E=Function.prototype);var j=Object.getOwnPropertyDescriptor(E,P);if(j===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:S(O,P,_)}else{if("value"in j)return j.value;var C=j.get;return C===void 0?void 0:C.call(_)}},a=function(){function S(E,P){for(var _=0;_<P.length;_++){var j=P[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(E,j.key,j)}}return function(E,P,_){return P&&S(E.prototype,P),_&&S(E,_),E}}(),c=o(3),u=w(c),v=o(8),g=w(v),d=o(43),s=w(d),h=o(15),b=o(41),y=w(b);function w(S){return S&&S.__esModule?S:{default:S}}function p(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function f(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function x(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(S){x(E,S);function E(P,_){p(this,E),_.modules.toolbar!=null&&_.modules.toolbar.container==null&&(_.modules.toolbar.container=m);var j=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,_));return j.quill.container.classList.add("ql-bubble"),j}return a(E,[{key:"extendToolbar",value:function(_){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(_.container),this.buildButtons([].slice.call(_.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(_.container.querySelectorAll("select")),y.default)}}]),E}(s.default);N.DEFAULTS=(0,u.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){x(E,S);function E(P,_){p(this,E);var j=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,_));return j.quill.on(g.default.events.EDITOR_CHANGE,function(O,C,M,D){if(O===g.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&D===g.default.sources.USER){j.show(),j.root.style.left="0px",j.root.style.width="",j.root.style.width=j.root.offsetWidth+"px";var q=j.quill.getLines(C.index,C.length);if(q.length===1)j.position(j.quill.getBounds(C));else{var $=q[q.length-1],W=j.quill.getIndex($),B=Math.min($.length()-1,C.index+C.length-W),A=j.quill.getBounds(new h.Range(W,B));j.position(A)}}else document.activeElement!==j.textbox&&j.quill.hasFocus()&&j.hide()}),j}return a(E,[{key:"listen",value:function(){var _=this;i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){_.root.classList.remove("ql-editing")}),this.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!_.root.classList.contains("ql-hidden")){var j=_.quill.getSelection();j!=null&&_.position(_.quill.getBounds(j))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(_){var j=i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,_),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",j===0)return j;O.style.marginLeft=-1*j-O.offsetWidth/2+"px"}}]),E}(d.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=N},function(n,r,o){n.exports=o(63)}]).default})})(Om);var H_=Om.exports,$_=yt&&yt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fl=yt&&yt.__assign||function(){return fl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fl.apply(this,arguments)},W_=yt&&yt.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r},zl=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$t=zl(z),V_=zl(Fp),co=zl(q_),jd=zl(H_),G_=function(e){$_(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(i,a,c,u){var v,g,d,s;i==="text-change"?(g=(v=r).onEditorChangeText)===null||g===void 0||g.call(v,r.editor.root.innerHTML,a,u,r.unprivilegedEditor):i==="selection-change"&&((s=(d=r).onEditorChangeSelection)===null||s===void 0||s.call(d,a,u,r.unprivilegedEditor))};var o=r.isControlled()?n.value:n.defaultValue;return r.value=o??"",r}return t.prototype.validateProps=function(n){var r;if($t.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if($t.default.Children.count(n.children)){var o=$t.default.Children.only(n.children);if(((r=o)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var o=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var a=this.getEditorContents(),c=(i=n.value,i??"");this.isEqualValue(c,a)||this.setEditorContents(this.editor,c)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),W_(this.cleanProps,this.dirtyProps).some(function(u){return!co.default(n[u],o.props[u])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(o){return!co.default(n[o],r.props[o])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var o=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var c=this.regenerationSnapshot,i=c.delta,u=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var v=this.editor;v.setContents(i),Sd(function(){return o.setEditorSelection(v,u)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var o=new jd.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(o,r.tabIndex),this.hookEditor(o),o},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?co.default(n.ops,r.ops):co.default(n,r)},t.prototype.setEditorContents=function(n,r){var o=this;this.value=r;var i=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),Sd(function(){return o.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var o=n.getLength();r.index=Math.max(0,Math.min(r.index,o-1)),r.length=Math.max(0,Math.min(r.length,o-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var o,i;!((i=(o=n)===null||o===void 0?void 0:o.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=V_.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,o=r.children,i=r.preserveWhitespace,a=this.state.generation,c={key:a,ref:function(u){n.editingArea=u}};return $t.default.Children.count(o)?$t.default.cloneElement($t.default.Children.only(o),c):i?$t.default.createElement("pre",fl({},c)):$t.default.createElement("div",fl({},c))},t.prototype.render=function(){var n;return $t.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,o,i){var a,c;if(this.editor){var u=this.isDelta(this.value)?i.getContents():i.getHTML();u!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=u,(c=(a=this.props).onChange)===null||c===void 0||c.call(a,n,r,o,i))}},t.prototype.onEditorChangeSelection=function(n,r,o){var i,a,c,u,v,g;if(this.editor){var d=this.getEditorSelection(),s=!d&&n,h=d&&!n;co.default(n,d)||(this.selection=n,(a=(i=this.props).onChangeSelection)===null||a===void 0||a.call(i,n,r,o),s?(u=(c=this.props).onFocus)===null||u===void 0||u.call(c,n,r,o):h&&((g=(v=this.props).onBlur)===null||g===void 0||g.call(v,d,r,o)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=jd.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}($t.default.Component);function Sd(e){Promise.resolve().then(e)}var K_=G_;const Z_=Hs(K_);function Tm({value:e,onChange:t,placeholder:n="Write your story here"}){const r=z.useRef(null),o=z.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:i}}}),[]);async function i(){const a=document.createElement("input");a.type="file",a.accept="image/*",a.onchange=async()=>{var u,v;const c=(u=a.files)==null?void 0:u[0];if(c)try{const{url:g}=await Cl(c),d=(v=r.current)==null?void 0:v.getEditor();if(!d||!g)return;const s=d.getSelection(!0);d.insertEmbed(s?s.index:0,"image",g,"user"),s&&d.setSelection(s.index+1,0)}catch{}},a.click()}return l.jsx("div",{className:"border border-stone-200 rounded-2xl bg-white shadow-sm overflow-hidden",children:l.jsx(Z_,{ref:r,theme:"snow",value:e,onChange:t,placeholder:n,modules:o,className:"rich-text-editor"})})}const Y_=[{value:"short_story",label:"Short story"},{value:"poem",label:"Poem"},{value:"novel",label:"Novel"}],Q_=e=>({poem:"Poem",short_story:"Short story",novel:"Novel"})[e]||e,X_=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" at "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},J_=e=>e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e??0);function ej(){const{id:e}=Tl(),t=In(),n=z.useRef(null),[r,o]=z.useState(null),[i,a]=z.useState(!0),[c,u]=z.useState(""),[v,g]=z.useState(!1),[d,s]=z.useState(""),[h,b]=z.useState("short_story"),[y,w]=z.useState(""),[p,f]=z.useState(""),[x,m]=z.useState(""),[N,k]=z.useState(!1),[S,E]=z.useState(null),[P,_]=z.useState(!1),[j,O]=z.useState(""),[C,M]=z.useState(!1);z.useEffect(()=>{if(!e){a(!1);return}$u(e).then(F=>{o(F),s(F.title||""),b(F.category||"short_story"),w(F.excerpt||""),f(F.body||""),m(F.thumbnailUrl||"")}).catch(()=>u("Story not found.")).finally(()=>a(!1))},[e]);const D=()=>{s((r==null?void 0:r.title)||""),b((r==null?void 0:r.category)||"short_story"),w((r==null?void 0:r.excerpt)||""),f((r==null?void 0:r.body)||""),m((r==null?void 0:r.thumbnailUrl)||""),O(""),g(!0)},q=()=>{g(!1),O("")},$=async()=>{if(r!=null&&r.id){O(""),_(!0);try{const F=await Of(r.id,{status:"published"});o(F)}catch(F){O((F==null?void 0:F.message)||"Failed to publish.")}finally{_(!1)}}},W=async(F=!1)=>{if(!(!(r!=null&&r.id)||!d.trim())){O(""),_(!0);try{const L={title:d.trim(),category:h,genre:r.genre||"General",excerpt:y.trim(),body:p,thumbnailUrl:x.trim()};F&&(L.status="published");const U=await Of(r.id,L);o(U),g(!1)}catch(L){O((L==null?void 0:L.message)||(F?"Failed to publish.":"Failed to save."))}finally{_(!1)}}},B=async F=>{F.preventDefault(),W(!1)},A=F=>{F.preventDefault(),W(!0)},T=F=>{var U;const L=(U=F.target.files)==null?void 0:U[0];!L||!L.type.startsWith("image/")||(S&&URL.revokeObjectURL(S),E(URL.createObjectURL(L)),n.current&&(n.current.value=""))},R=async F=>{if(F){k(!0);try{const L=new File([F],"thumbnail.jpg",{type:"image/jpeg"}),{url:U}=await Cl(L);m(U),S&&URL.revokeObjectURL(S),E(null)}finally{k(!1)}}},I=()=>{S&&URL.revokeObjectURL(S),E(null)},V=async()=>{if(r!=null&&r.id)try{await _y(r.id),t("/writers-dashboard")}catch(F){O((F==null?void 0:F.message)||"Failed to delete.")}finally{M(!1)}};return i?l.jsx("div",{className:"max-w-2xl mx-auto px-6 py-12 text-center text-stone-500",children:"Loading"}):c||!r?l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 text-center",children:[l.jsx("p",{className:"text-stone-500 mb-4",children:c||"Story not found."}),l.jsx(de,{to:"/writers-dashboard",className:"text-stone-900 font-medium hover:underline",children:" Back to dashboard"})]}):l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[l.jsx(de,{to:"/writers-dashboard",className:"text-stone-500 text-sm hover:text-stone-900 mb-6 inline-block",children:" Back to dashboard"}),v?l.jsx(l.Fragment,{children:l.jsxs("form",{onSubmit:B,className:"space-y-5",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900",children:"Edit story"}),j&&l.jsx("p",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:j}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Title"}),l.jsx("input",{type:"text",value:d,onChange:F=>s(F.target.value),className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 focus:ring-2 focus:ring-stone-400/50 focus:border-stone-400",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Category"}),l.jsx("select",{value:h,onChange:F=>b(F.target.value),className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 bg-white",children:Y_.map(F=>l.jsx("option",{value:F.value,children:F.label},F.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Thumbnail (optional)"}),l.jsx("input",{ref:n,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:T,className:"hidden",id:"edit-thumbnail"}),x?l.jsxs("div",{className:"flex items-start gap-3 mt-2",children:[l.jsx("div",{className:"rounded-lg overflow-hidden border border-stone-200 w-40 aspect-video flex-shrink-0",children:l.jsx("img",{src:Fn(x),alt:"",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{htmlFor:"edit-thumbnail",className:"text-sm font-medium text-stone-600 hover:text-stone-900 cursor-pointer",children:N?"Uploading":"Change image"}),l.jsx("button",{type:"button",onClick:()=>m(""),className:"text-sm font-medium text-red-600 hover:text-red-700 text-left",children:"Remove"})]})]}):l.jsx("label",{htmlFor:"edit-thumbnail",className:`mt-2 flex items-center justify-center w-full max-w-[200px] h-20 rounded-lg border-2 border-dashed border-stone-200 bg-stone-50/80 cursor-pointer hover:bg-stone-100 text-stone-500 text-sm ${N?"opacity-60":""}`,children:N?"Uploading":"Choose image"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Short summary"}),l.jsx("textarea",{value:y,onChange:F=>w(F.target.value),rows:2,className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Story"}),l.jsx(Tm,{value:p,onChange:f})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[l.jsx("button",{type:"submit",disabled:P||!d.trim(),className:"px-4 py-2 rounded-lg bg-stone-900 text-white text-sm font-medium hover:bg-stone-800 disabled:opacity-50",children:P?"Saving":"Save changes"}),r.status==="draft"&&l.jsx("button",{type:"button",onClick:A,disabled:P||!d.trim(),className:"px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:P?"Publishing":"Save & publish"}),l.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 rounded-lg border border-stone-300 text-stone-700 text-sm font-medium hover:bg-stone-50",children:"Cancel"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"mb-8",children:[l.jsx("p",{className:"text-stone-500 text-sm font-medium uppercase tracking-wide mb-2",children:Q_(r.category)}),l.jsx("h1",{className:"text-3xl font-bold text-stone-900 font-serif",children:r.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-4 text-sm text-stone-500",children:[l.jsxs("span",{children:["Posted ",X_(r.createdAt)]}),l.jsxs("span",{children:[J_(r.readCount)," reads"]})]})]}),r.thumbnailUrl&&l.jsx("div",{className:"rounded-xl overflow-hidden border border-stone-200 mb-8 max-w-md aspect-video",children:l.jsx("img",{src:r.thumbnailUrl,alt:"",className:"w-full h-full object-cover"})}),r.excerpt&&l.jsx("p",{className:"text-stone-600 text-lg leading-relaxed mb-6",children:r.excerpt}),l.jsx("div",{className:"prose prose-stone max-w-none font-serif text-lg leading-relaxed text-stone-800",children:r.body?l.jsx("div",{dangerouslySetInnerHTML:{__html:im.sanitize(r.body)}}):l.jsx("p",{className:"text-stone-500 italic",children:"No content available for this story."})}),l.jsxs("div",{className:"mt-10 flex flex-wrap items-center gap-3 pt-6 border-t border-stone-200",children:[r.status==="draft"&&l.jsx("button",{type:"button",onClick:$,disabled:P,className:"px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:P?"Publishing":"Publish"}),l.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 rounded-lg bg-stone-900 text-white text-sm font-medium hover:bg-stone-800",children:"Edit story"}),l.jsx(de,{to:`/reading/${r.id}`,className:"px-4 py-2 rounded-lg border border-stone-300 text-stone-700 text-sm font-medium hover:bg-stone-50",children:"View as reader"}),l.jsx("button",{type:"button",onClick:()=>M(!0),className:"px-4 py-2 rounded-lg text-red-600 text-sm font-medium hover:bg-red-50",children:"Delete story"})]})]}),S&&l.jsx(hm,{imageSrc:S,onComplete:R,onCancel:I}),C&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-stone-900/40",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-stone-200 p-6 max-w-sm w-full",children:[l.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-2",children:"Delete this story?"}),l.jsx("p",{className:"text-stone-600 text-sm mb-6",children:"This cannot be undone."}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 rounded-lg border border-stone-300 text-stone-700 text-sm font-medium",children:"Cancel"}),l.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-700",children:"Delete"})]})]})})]})}const tj=[{value:"short_story",label:"Short story"},{value:"poem",label:"Poem"},{value:"novel",label:"Novel"}],nj=["Family","Identity","Love","Ghana","Relationships","Faith"];function rj(){const e=In(),t=Pt(),n=t==null?void 0:t.authorId,r=z.useRef(null),[o,i]=z.useState(""),[a,c]=z.useState("short_story"),[u,v]=z.useState(""),[g,d]=z.useState(""),[s,h]=z.useState(""),[b,y]=z.useState(!1),[w,p]=z.useState(null),[f,x]=z.useState(!1),[m,N]=z.useState(""),[k,S]=z.useState(""),E=D=>{const q=k.split(",").map(A=>A.trim()).filter(Boolean),B=(q.includes(D)?q.filter(A=>A!==D):[...q,D]).slice(0,5);S(B.join(", "))},P=D=>{var $;const q=($=D.target.files)==null?void 0:$[0];!q||!q.type.startsWith("image/")||(w&&URL.revokeObjectURL(w),p(URL.createObjectURL(q)),r.current&&(r.current.value=""))},_=async D=>{if(D){y(!0);try{const q=new File([D],"thumbnail.jpg",{type:"image/jpeg"}),{url:$}=await Cl(q);h($),w&&URL.revokeObjectURL(w),p(null)}finally{y(!1)}}},j=()=>{w&&URL.revokeObjectURL(w),p(null)},O=async D=>{if(o.trim()){if(!n){N("Your writer profile is not set up. Please sign out and sign in again.");return}if(D==="published"&&!g.replace(/<[^>]*>/g," ").replace(/&nbsp;/g," ").trim()){N("Add some story content to publish.");return}N(""),x(!0);try{const q=k.split(",").map(W=>W.trim()).filter(Boolean).slice(0,5),$=await Ny({title:o.trim(),authorId:n,category:a,genre:"General",excerpt:u.trim(),body:g,thumbnailUrl:s.trim(),topics:q,status:D});e(`/writers-dashboard/story/${$.id}`)}catch(q){N((q==null?void 0:q.message)||(D==="draft"?"Failed to save draft.":"Failed to publish. Please try again."))}finally{x(!1)}}},C=D=>{D.preventDefault(),O("published")},M=D=>{D.preventDefault(),O("draft")};return l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[l.jsx(de,{to:"/writers-dashboard",className:"text-stone-500 text-sm hover:text-stone-900 mb-6 inline-block",children:" Back to dashboard"}),l.jsxs("form",{onSubmit:C,className:"space-y-5",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900",children:"New story"}),m&&l.jsx("p",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:m}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Title"}),l.jsx("input",{type:"text",value:o,onChange:D=>i(D.target.value),placeholder:"Give your story a title",className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 focus:ring-2 focus:ring-stone-400/50 focus:border-stone-400",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Category"}),l.jsx("select",{value:a,onChange:D=>c(D.target.value),className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 bg-white",children:tj.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Thumbnail (optional)"}),l.jsx("input",{ref:r,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:P,className:"hidden",id:"new-thumbnail"}),s?l.jsxs("div",{className:"flex items-start gap-3 mt-2",children:[l.jsx("div",{className:"rounded-lg overflow-hidden border border-stone-200 w-40 aspect-video flex-shrink-0",children:l.jsx("img",{src:Fn(s),alt:"",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{htmlFor:"new-thumbnail",className:"text-sm font-medium text-stone-600 hover:text-stone-900 cursor-pointer",children:b?"Uploading":"Change image"}),l.jsx("button",{type:"button",onClick:()=>h(""),className:"text-sm font-medium text-red-600 hover:text-red-700 text-left",children:"Remove"})]})]}):l.jsx("label",{htmlFor:"new-thumbnail",className:`mt-2 flex items-center justify-center w-full max-w-[200px] h-20 rounded-lg border-2 border-dashed border-stone-200 bg-stone-50/80 cursor-pointer hover:bg-stone-100 text-stone-500 text-sm ${b?"opacity-60":""}`,children:b?"Uploading":"Choose image"})]}),w&&l.jsx(hm,{imageSrc:w,onComplete:_,onCancel:j}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Short summary"}),l.jsx("textarea",{value:u,onChange:D=>v(D.target.value),placeholder:"A brief teaser or summary in one or two sentences.",rows:2,className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Topics"}),l.jsx("input",{type:"text",value:k,onChange:D=>S(D.target.value),placeholder:"Add up to 5 topics, separated by commas (e.g. family, identity, Ghana)",className:"w-full px-3 py-2.5 rounded-lg border border-stone-200 focus:ring-2 focus:ring-stone-400/40 focus:border-stone-400 text-sm"}),l.jsx("p",{className:"mt-1 text-xs text-stone-400",children:"Topics help readers discover your story. Use common themes, locations, or genres."}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:nj.map(D=>{const q=k.split(",").map($=>$.trim()).filter(Boolean).includes(D);return l.jsx("button",{type:"button",onClick:()=>E(D),className:`px-3 py-1 rounded-full text-xs border ${q?"border-stone-900 bg-stone-900 text-white":"border-stone-300 text-stone-600 bg-white hover:bg-stone-50"}`,children:D},D)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1.5",children:"Story"}),l.jsx(Tm,{value:g,onChange:d})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[l.jsx("button",{type:"submit",disabled:f||!o.trim(),className:"px-4 py-2 rounded-lg bg-stone-900 text-white text-sm font-medium hover:bg-stone-800 disabled:opacity-50",children:f?"Publishing":"Publish"}),l.jsx("button",{type:"button",onClick:M,disabled:f||!o.trim(),className:"px-4 py-2 rounded-lg border border-stone-300 text-stone-700 text-sm font-medium hover:bg-stone-50 disabled:opacity-50",children:f?"Saving":"Save draft"}),l.jsx(de,{to:"/writers-dashboard",className:"px-4 py-2 rounded-lg border border-stone-300 text-stone-700 text-sm font-medium hover:bg-stone-50",children:"Cancel"})]})]})]})}const oj=1,ij=.05,lj=e=>({poem:"Poem",short_story:"Short story",novel:"Novel"})[e]||e,aj=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",sj=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" at "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};function uj(){const{id:e}=Tl(),[t,n]=z.useState(null),[r,o]=z.useState(!0),[i,a]=z.useState("");if(z.useEffect(()=>{if(!e){o(!1);return}$u(e).then(n).catch(()=>a("Story not found.")).finally(()=>o(!1))},[e]),r)return l.jsx("div",{className:"max-w-3xl mx-auto px-6 py-12 flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-stone-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-stone-500 text-sm",children:"Loading analytics"})]})});if(i||!t)return l.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 text-center",children:[l.jsx("p",{className:"text-stone-500 mb-4",children:i||"Story not found."}),l.jsx(de,{to:"/writers-dashboard",className:"text-stone-900 font-medium hover:underline",children:" Back to dashboard"})]});const c=t.readCount??0,u=t.impressions??c,v=c*oj,g=v*ij;return l.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[l.jsx(de,{to:"/writers-dashboard",className:"text-stone-500 text-sm hover:text-stone-900 mb-6 inline-block",children:" Back to dashboard"}),l.jsx(de,{to:`/writers-dashboard/story/${t.id}`,className:"text-stone-500 text-sm hover:text-stone-900 mb-2 block",children:" Edit story"}),l.jsxs("header",{className:"mb-8",children:[l.jsx("p",{className:"text-stone-500 text-sm font-medium uppercase tracking-wide mb-1",children:lj(t.category)}),l.jsx("h1",{className:"text-2xl font-bold text-stone-900 font-serif",children:t.title}),l.jsxs("p",{className:"text-stone-500 text-sm mt-2",children:["Published ",sj(t.createdAt),t.status==="draft"&&l.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-amber-100 text-amber-800 text-xs font-medium",children:"Draft"})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h2",{className:"text-sm font-medium text-stone-500 uppercase tracking-wider mb-4",children:"Overview"}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Impressions"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:u.toLocaleString()}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Times shown in feeds"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Reads"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:c.toLocaleString()}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Full reads"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Points earned"}),l.jsx("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:v.toLocaleString()}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"From this post"})]}),l.jsxs("div",{className:"p-4 rounded-xl bg-stone-50 border border-stone-100",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Est. earnings"}),l.jsxs("p",{className:"text-2xl font-bold text-stone-900 mt-1",children:["GH ",g.toFixed(2)]}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Ghana cedis"})]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h2",{className:"text-sm font-medium text-stone-500 uppercase tracking-wider mb-4",children:"Engagement"}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl border border-stone-200 bg-white",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Unique viewers"}),l.jsx("p",{className:"text-xl font-bold text-stone-900 mt-1",children:c>0?c:""}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Distinct readers"})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-stone-200 bg-white",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Read-through rate"}),l.jsxs("p",{className:"text-xl font-bold text-stone-900 mt-1",children:[u>0?(c/u*100).toFixed(1):"","%"]}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Impressions  reads"})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-stone-200 bg-white",children:[l.jsx("p",{className:"text-stone-500 text-xs font-medium uppercase tracking-wider",children:"Avg. read time"}),l.jsx("p",{className:"text-xl font-bold text-stone-900 mt-1",children:""}),l.jsx("p",{className:"text-stone-400 text-xs mt-1",children:"Coming soon"})]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h2",{className:"text-sm font-medium text-stone-500 uppercase tracking-wider mb-4",children:"Recent activity"}),l.jsx("div",{className:"rounded-xl border border-stone-200 bg-white p-6",children:c===0?l.jsx("p",{className:"text-stone-500 text-sm",children:"No activity yet. When readers view this story, events will appear here."}):l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3 text-sm",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsxs("span",{className:"text-stone-600",children:[c," read",c!==1?"s":""," so far"]})]}),l.jsxs("li",{className:"flex items-center gap-3 text-sm text-stone-500",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-stone-200"}),l.jsxs("span",{children:["Published ",aj(t.createdAt)]})]})]})})]}),l.jsx("p",{className:"text-stone-400 text-xs",children:"Impressions and read-through rate use current data. Unique viewers and avg. read time will appear when tracking is available."})]})}function cj(){const{monetizationEnabled:e}=Al(),t=Pt(),[n,r]=z.useState([]),[o,i]=z.useState(null),[a,c]=z.useState(!0),[u,v]=z.useState(!1),[g,d]=z.useState(null);z.useEffect(()=>{Cy().then(r).catch(()=>r([])).finally(()=>c(!1))},[]),z.useEffect(()=>{if(!(t!=null&&t.id)){i(null);return}Xp(t.id).then(h=>i(h.subscription)).catch(()=>i(null))},[t==null?void 0:t.id]);const s=async h=>{if(!(t!=null&&t.id)){d("Please sign in to subscribe.");return}v(!0),d(null);try{const{checkoutUrl:b}=await Ay(t.id,{planId:h});b&&(window.location.href=b)}catch(b){d(b.message||"Could not start checkout.")}finally{v(!1)}};return e?a?l.jsx("div",{className:"max-w-2xl mx-auto px-6 py-12 flex justify-center",children:l.jsx("span",{className:"text-stone-500",children:"Loading plans"})}):l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12",children:[l.jsx("h1",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Subscribe"}),l.jsx("p",{className:"text-stone-600 mb-8",children:"Monthly subscription in Ghana Cedis (GHC). Full access to all content."}),g&&l.jsx("div",{className:"mb-6 p-4 rounded-lg bg-red-50 border border-red-100 text-red-800 text-sm",children:g}),o&&l.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-green-50 border border-green-100 text-green-800 text-sm",children:["You have an active subscription until ",new Date(o.currentPeriodEnd).toLocaleDateString(),"."]}),l.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:n.map(h=>l.jsxs("div",{className:"p-6 rounded-2xl border border-stone-200 bg-white shadow-sm",children:[l.jsx("h2",{className:"text-lg font-semibold text-stone-900",children:h.name}),l.jsxs("p",{className:"mt-2 text-2xl font-bold text-stone-900",children:["GH ",Number(h.amountGhc).toFixed(2),l.jsx("span",{className:"text-base font-normal text-stone-500",children:"/month"})]}),l.jsx("p",{className:"mt-2 text-sm text-stone-500",children:"Full access to all stories, poems, and novels."}),!o&&l.jsx("button",{type:"button",disabled:u,onClick:()=>s(h.id),className:"mt-6 w-full py-3 rounded-lg bg-stone-900 text-white font-medium hover:bg-stone-800 disabled:opacity-50",children:u?"Redirecting":"Subscribe"})]},h.id))}),l.jsx("p",{className:"mt-8 text-sm text-stone-500",children:l.jsx(de,{to:"/reader",className:"text-yellow-600 hover:underline",children:" Back to Discover"})})]}):l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-stone-900 mb-4",children:"Subscription"}),l.jsx("p",{className:"text-stone-600 mb-6",children:"Reader subscriptions will be available after launch. Youll be able to subscribe monthly in Ghana Cedis (GHC) for full access to all content."}),l.jsx(de,{to:"/reader",className:"text-yellow-600 font-medium hover:underline",children:" Back to Discover"})]})}function en({children:e}){const t=Pt();return(t==null?void 0:t.role)==="writer"?l.jsx(Rr,{to:"/writers-dashboard",replace:!0}):e}function fj({children:e}){const t=Pt();return t&&t.role!=="writer"?l.jsx(Rr,{to:"/reader",replace:!0}):e}function dj(){return l.jsxs(iy,{children:[l.jsx(ye,{path:"/",element:l.jsx(Zy,{})}),l.jsx(ye,{path:"/home",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(Yy,{})})}),l.jsx(ye,{path:"/login",element:l.jsx(pj,{})}),l.jsx(ye,{path:"/signup",element:l.jsx(hj,{})}),l.jsx(ye,{path:"/reader",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(tx,{})})}),l.jsx(ye,{path:"/library",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(Tx,{})})}),l.jsx(ye,{path:"/profile",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(Ax,{})})}),l.jsx(ye,{path:"/stories",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(Mx,{})})}),l.jsx(ye,{path:"/stats",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(Ix,{})})}),l.jsx(ye,{path:"/reading/:id",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(jx,{})})}),l.jsx(ye,{path:"/author/:id",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(kx,{})})}),l.jsx(ye,{path:"/pricing",element:l.jsx(en,{children:l.jsx(Ht,{})}),children:l.jsx(ye,{index:!0,element:l.jsx(cj,{})})}),l.jsx(ye,{path:"/dashboard",element:l.jsx(Rr,{to:"/writers-dashboard",replace:!0})}),l.jsxs(ye,{path:"/writers-dashboard",element:l.jsx(fj,{children:l.jsx(Ht,{})}),children:[l.jsx(ye,{index:!0,element:l.jsx(Bx,{})}),l.jsx(ye,{path:"new",element:l.jsx(rj,{})}),l.jsx(ye,{path:"story/:id/analytics",element:l.jsx(uj,{})}),l.jsx(ye,{path:"story/:id",element:l.jsx(ej,{})})]}),l.jsx(ye,{path:"*",element:l.jsx(Rr,{to:"/",replace:!0})})]})}function hj(){const[e]=Zp(),n=e.get("role")==="writer"?"/?signup=writer":"/?signup=1";return l.jsx(Rr,{to:n,replace:!0})}function pj(){return l.jsx(Rr,{to:"/?signin=1",replace:!0})}zp(document.getElementById("root")).render(l.jsx(z.StrictMode,{children:l.jsx(hy,{children:l.jsx(Ry,{children:l.jsx(dj,{})})})}));
